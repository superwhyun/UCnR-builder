module.exports=[66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},60350,a=>{"use strict";let b,c,d,e,f,g,h;var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN=a.i(87924),aO=a.i(72131);let aP=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),aQ=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var aR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let aS=(0,aO.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:e="",children:f,iconNode:g,...h},i)=>(0,aO.createElement)("svg",{ref:i,...aR,width:b,height:b,stroke:a,strokeWidth:d?24*Number(c)/Number(b):c,className:aP("lucide",e),...!f&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(h)&&{"aria-hidden":"true"},...h},[...g.map(([a,b])=>(0,aO.createElement)(a,b)),...Array.isArray(f)?f:[f]])),aT=(a,b)=>{let c=(0,aO.forwardRef)(({className:c,...d},e)=>(0,aO.createElement)(aS,{ref:e,iconNode:b,className:aP(`lucide-${aQ(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...d}));return c.displayName=aQ(a),c},aU=aT("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),aV=aT("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function aW(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}let aX=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,aY=(a,b)=>c=>{var d;if((null==b?void 0:b.variants)==null)return aW(a,null==c?void 0:c.class,null==c?void 0:c.className);let{variants:e,defaultVariants:f}=b,g=Object.keys(e).map(a=>{let b=null==c?void 0:c[a],d=null==f?void 0:f[a];if(null===b)return null;let g=aX(b)||aX(d);return e[a][g]}),h=c&&Object.entries(c).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return aW(a,g,null==b||null==(d=b.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...f,...h}[b]):({...f,...h})[b]===c})?[...a,c,d]:a},[]),null==c?void 0:c.class,null==c?void 0:c.className)};function aZ(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function a$(...a){return b=>{let c=!1,d=a.map(a=>{let d=aZ(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():aZ(a[b],null)}}}}function a_(...a){return aO.useCallback(a$(...a),a)}function a0(a){var b;let c,d=(b=a,(c=aO.forwardRef((a,b)=>{let{children:c,...d}=a;if(aO.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==aO.Fragment&&(h.ref=b?a$(b,g):g),aO.cloneElement(c,h)}return aO.Children.count(c)>1?aO.Children.only(null):null})).displayName=`${b}.SlotClone`,c),e=aO.forwardRef((a,b)=>{let{children:c,...e}=a,f=aO.Children.toArray(c),g=f.find(a5);if(g){let a=g.props.children,c=f.map(b=>b!==g?b:aO.Children.count(a)>1?aO.Children.only(null):aO.isValidElement(a)?a.props.children:null);return(0,aN.jsx)(d,{...e,ref:b,children:aO.isValidElement(a)?aO.cloneElement(a,void 0,c):null})}return(0,aN.jsx)(d,{...e,ref:b,children:c})});return e.displayName=`${a}.Slot`,e}var a1=a0("Slot"),a2=Symbol("radix.slottable");function a3(a){let b=({children:a})=>(0,aN.jsx)(aN.Fragment,{children:a});return b.displayName=`${a}.Slottable`,b.__radixId=a2,b}var a4=a3("Slottable");function a5(a){return aO.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===a2}a.s(["Root",()=>a1,"Slot",()=>a1,"Slottable",()=>a4,"createSlot",()=>a0,"createSlottable",()=>a3],11011);var a6=a.i(11011),a6=a6;let a7=(a=new Map,b=null,c)=>({nextPart:a,validators:b,classGroupId:c}),a8=[],a9=(a,b,c)=>{if(0==a.length-b)return c.classGroupId;let d=a[b],e=c.nextPart.get(d);if(e){let c=a9(a,b+1,e);if(c)return c}let f=c.validators;if(null===f)return;let g=0===b?a.join("-"):a.slice(b).join("-"),h=f.length;for(let a=0;a<h;a++){let b=f[a];if(b.validator(g))return b.classGroupId}},ba=(a,b)=>{let c=a7();for(let d in a)bb(a[d],c,d,b);return c},bb=(a,b,c,d)=>{let e=a.length;for(let f=0;f<e;f++)bc(a[f],b,c,d)},bc=(a,b,c,d)=>{"string"==typeof a?bd(a,b,c):"function"==typeof a?be(a,b,c,d):bf(a,b,c,d)},bd=(a,b,c)=>{(""===a?b:bg(b,a)).classGroupId=c},be=(a,b,c,d)=>{bh(a)?bb(a(d),b,c,d):(null===b.validators&&(b.validators=[]),b.validators.push({classGroupId:c,validator:a}))},bf=(a,b,c,d)=>{let e=Object.entries(a),f=e.length;for(let a=0;a<f;a++){let[f,g]=e[a];bb(g,bg(b,f),c,d)}},bg=(a,b)=>{let c=a,d=b.split("-"),e=d.length;for(let a=0;a<e;a++){let b=d[a],e=c.nextPart.get(b);e||(e=a7(),c.nextPart.set(b,e)),c=e}return c},bh=a=>"isThemeGetter"in a&&!0===a.isThemeGetter,bi=[],bj=(a,b,c,d,e)=>({modifiers:a,hasImportantModifier:b,baseClassName:c,maybePostfixModifierPosition:d,isExternal:e}),bk=/\s+/,bl=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=bl(a[d]))&&(c&&(c+=" "),c+=b);return c},bm=[],bn=a=>{let b=b=>b[a]||bm;return b.isThemeGetter=!0,b},bo=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bp=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bq=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,br=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bs=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bv=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bw=a=>bq.test(a),bx=a=>!!a&&!Number.isNaN(Number(a)),by=a=>!!a&&Number.isInteger(Number(a)),bz=a=>a.endsWith("%")&&bx(a.slice(0,-1)),bA=a=>br.test(a),bB=()=>!0,bC=a=>bs.test(a)&&!bt.test(a),bD=()=>!1,bE=a=>bu.test(a),bF=a=>bv.test(a),bG=a=>!bI(a)&&!bQ(a),bH=a=>bY(a,b0,bD),bI=a=>bo.test(a),bJ=a=>bY(a,b1,bC),bK=a=>bY(a,b2,bx),bL=a=>bY(a,b4,bB),bM=a=>bY(a,b3,bD),bN=a=>bY(a,b$,bD),bO=a=>bY(a,b_,bF),bP=a=>bY(a,b5,bE),bQ=a=>bp.test(a),bR=a=>bZ(a,b1),bS=a=>bZ(a,b3),bT=a=>bZ(a,b$),bU=a=>bZ(a,b0),bV=a=>bZ(a,b_),bW=a=>bZ(a,b5,!0),bX=a=>bZ(a,b4,!0),bY=(a,b,c)=>{let d=bo.exec(a);return!!d&&(d[1]?b(d[1]):c(d[2]))},bZ=(a,b,c=!1)=>{let d=bp.exec(a);return!!d&&(d[1]?b(d[1]):c)},b$=a=>"position"===a||"percentage"===a,b_=a=>"image"===a||"url"===a,b0=a=>"length"===a||"size"===a||"bg-size"===a,b1=a=>"length"===a,b2=a=>"number"===a,b3=a=>"family-name"===a,b4=a=>"number"===a||"weight"===a,b5=a=>"shadow"===a,b6=((a,...b)=>{let c,d,e,f,g=a=>{let b=d(a);if(b)return b;let f=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e,sortModifiers:f}=b,g=[],h=a.trim().split(bk),i="";for(let a=h.length-1;a>=0;a-=1){let b=h[a],{isExternal:j,modifiers:k,hasImportantModifier:l,baseClassName:m,maybePostfixModifierPosition:n}=c(b);if(j){i=b+(i.length>0?" "+i:i);continue}let o=!!n,p=d(o?m.substring(0,n):m);if(!p){if(!o||!(p=d(m))){i=b+(i.length>0?" "+i:i);continue}o=!1}let q=0===k.length?"":1===k.length?k[0]:f(k).join(":"),r=l?q+"!":q,s=r+p;if(g.indexOf(s)>-1)continue;g.push(s);let t=e(p,o);for(let a=0;a<t.length;++a){let b=t[a];g.push(r+b)}i=b+(i.length>0?" "+i:i)}return i})(a,c);return e(a,f),f};return f=h=>{var i;let j;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=Object.create(null),d=Object.create(null),e=(e,f)=>{c[e]=f,++b>a&&(b=0,d=c,c=Object.create(null))};return{get(a){let b=c[a];return void 0!==b?b:void 0!==(b=d[a])?(e(a,b),b):void 0},set(a,b){a in c?c[a]=b:e(a,b)}}})((i=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{prefix:b,experimentalParseClassName:c}=a,d=a=>{let b,c=[],d=0,e=0,f=0,g=a.length;for(let h=0;h<g;h++){let g=a[h];if(0===d&&0===e){if(":"===g){c.push(a.slice(f,h)),f=h+1;continue}if("/"===g){b=h;continue}}"["===g?d++:"]"===g?d--:"("===g?e++:")"===g&&e--}let h=0===c.length?a:a.slice(f),i=h,j=!1;return h.endsWith("!")?(i=h.slice(0,-1),j=!0):h.startsWith("!")&&(i=h.slice(1),j=!0),bj(c,j,i,b&&b>f?b-f:void 0)};if(b){let a=b+":",c=d;d=b=>b.startsWith(a)?c(b.slice(a.length)):bj(bi,!1,b,void 0,!0)}if(c){let a=d;d=b=>c({className:b,parseClassName:a})}return d})(i),sortModifiers:(j=new Map,i.orderSensitiveModifiers.forEach((a,b)=>{j.set(a,1e6+b)}),a=>{let b=[],c=[];for(let d=0;d<a.length;d++){let e=a[d],f="["===e[0],g=j.has(e);f||g?(c.length>0&&(c.sort(),b.push(...c),c=[]),b.push(e)):c.push(e)}return c.length>0&&(c.sort(),b.push(...c)),b}),...(a=>{let b=(a=>{let{theme:b,classGroups:c}=a;return ba(c,b)})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]")){var c;let b,d,e;return -1===(c=a).slice(1,-1).indexOf(":")?void 0:(d=(b=c.slice(1,-1)).indexOf(":"),(e=b.slice(0,d))?"arbitrary.."+e:void 0)}let d=a.split("-"),e=+(""===d[0]&&d.length>1);return a9(d,e,b)},getConflictingClassGroupIds:(a,b)=>{if(b){let b=d[a],e=c[a];if(b){if(e){let a=Array(e.length+b.length);for(let b=0;b<e.length;b++)a[b]=e[b];for(let c=0;c<b.length;c++)a[e.length+c]=b[c];return a}return b}return e||a8}return c[a]||a8}}})(i)}).cache.get,e=c.cache.set,f=g,g(h)},(...a)=>f(((...a)=>{let b,c,d=0,e="";for(;d<a.length;)(b=a[d++])&&(c=bl(b))&&(e&&(e+=" "),e+=c);return e})(...a))})(()=>{let a=bn("color"),b=bn("font"),c=bn("text"),d=bn("font-weight"),e=bn("tracking"),f=bn("leading"),g=bn("breakpoint"),h=bn("container"),i=bn("spacing"),j=bn("radius"),k=bn("shadow"),l=bn("inset-shadow"),m=bn("text-shadow"),n=bn("drop-shadow"),o=bn("blur"),p=bn("perspective"),q=bn("aspect"),r=bn("ease"),s=bn("animate"),t=()=>["auto","avoid","all","avoid-page","page","left","right","column"],u=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],v=()=>[...u(),bQ,bI],w=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],y=()=>[bQ,bI,i],z=()=>[bw,"full","auto",...y()],A=()=>[by,"none","subgrid",bQ,bI],B=()=>["auto",{span:["full",by,bQ,bI]},by,bQ,bI],C=()=>[by,"auto",bQ,bI],D=()=>["auto","min","max","fr",bQ,bI],E=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...y()],H=()=>[bw,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],I=()=>[bw,"screen","full","dvw","lvw","svw","min","max","fit",...y()],J=()=>[bw,"screen","full","lh","dvh","lvh","svh","min","max","fit",...y()],K=()=>[a,bQ,bI],L=()=>[...u(),bT,bN,{position:[bQ,bI]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",bU,bH,{size:[bQ,bI]}],O=()=>[bz,bR,bJ],P=()=>["","none","full",j,bQ,bI],Q=()=>["",bx,bR,bJ],R=()=>["solid","dashed","dotted","double"],S=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>[bx,bz,bT,bN],U=()=>["","none",o,bQ,bI],V=()=>["none",bx,bQ,bI],W=()=>["none",bx,bQ,bI],X=()=>[bx,bQ,bI],Y=()=>[bw,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bA],breakpoint:[bA],color:[bB],container:[bA],"drop-shadow":[bA],ease:["in","out","in-out"],font:[bG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bA],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bA],shadow:[bA],spacing:["px",bx],text:[bA],"text-shadow":[bA],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",bw,bI,bQ,q]}],container:["container"],columns:[{columns:[bx,bI,bQ,h]}],"break-after":[{"break-after":t()}],"break-before":[{"break-before":t()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{"inset-s":z(),start:z()}],end:[{"inset-e":z(),end:z()}],"inset-bs":[{"inset-bs":z()}],"inset-be":[{"inset-be":z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[by,"auto",bQ,bI]}],basis:[{basis:[bw,"full","auto",h,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bx,bw,"auto","initial","none",bI]}],grow:[{grow:["",bx,bQ,bI]}],shrink:[{shrink:["",bx,bQ,bI]}],order:[{order:[by,"first","last","none",bQ,bI]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...E(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...E()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":E()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pbs:[{pbs:y()}],pbe:[{pbe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mbs:[{mbs:G()}],mbe:[{mbe:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],"inline-size":[{inline:["auto",...I()]}],"min-inline-size":[{"min-inline":["auto",...I()]}],"max-inline-size":[{"max-inline":["none",...I()]}],"block-size":[{block:["auto",...J()]}],"min-block-size":[{"min-block":["auto",...J()]}],"max-block-size":[{"max-block":["none",...J()]}],w:[{w:[h,"screen",...H()]}],"min-w":[{"min-w":[h,"screen","none",...H()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[g]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",c,bR,bJ]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,bX,bL]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bz,bI]}],"font-family":[{font:[bS,bM,b]}],"font-features":[{"font-features":[bI]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[e,bQ,bI]}],"line-clamp":[{"line-clamp":[bx,"none",bQ,bK]}],leading:[{leading:[f,...y()]}],"list-image":[{"list-image":["none",bQ,bI]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",bQ,bI]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:[bx,"from-font","auto",bQ,bJ]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[bx,"auto",bQ,bI]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bQ,bI]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bQ,bI]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},by,bQ,bI],radial:["",bQ,bI],conic:[by,bQ,bI]},bV,bO]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-bs":[{"border-bs":Q()}],"border-w-be":[{"border-be":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...R(),"hidden","none"]}],"divide-style":[{divide:[...R(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-bs":[{"border-bs":K()}],"border-color-be":[{"border-be":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...R(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bx,bQ,bI]}],"outline-w":[{outline:["",bx,bR,bJ]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",k,bW,bP]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",l,bW,bP]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[bx,bJ]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",m,bW,bP]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[bx,bQ,bI]}],"mix-blend":[{"mix-blend":[...S(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":S()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bx]}],"mask-image-linear-from-pos":[{"mask-linear-from":T()}],"mask-image-linear-to-pos":[{"mask-linear-to":T()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":T()}],"mask-image-t-to-pos":[{"mask-t-to":T()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":T()}],"mask-image-r-to-pos":[{"mask-r-to":T()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":T()}],"mask-image-b-to-pos":[{"mask-b-to":T()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":T()}],"mask-image-l-to-pos":[{"mask-l-to":T()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":T()}],"mask-image-x-to-pos":[{"mask-x-to":T()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":T()}],"mask-image-y-to-pos":[{"mask-y-to":T()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[bQ,bI]}],"mask-image-radial-from-pos":[{"mask-radial-from":T()}],"mask-image-radial-to-pos":[{"mask-radial-to":T()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":u()}],"mask-image-conic-pos":[{"mask-conic":[bx]}],"mask-image-conic-from-pos":[{"mask-conic-from":T()}],"mask-image-conic-to-pos":[{"mask-conic-to":T()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",bQ,bI]}],filter:[{filter:["","none",bQ,bI]}],blur:[{blur:U()}],brightness:[{brightness:[bx,bQ,bI]}],contrast:[{contrast:[bx,bQ,bI]}],"drop-shadow":[{"drop-shadow":["","none",n,bW,bP]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",bx,bQ,bI]}],"hue-rotate":[{"hue-rotate":[bx,bQ,bI]}],invert:[{invert:["",bx,bQ,bI]}],saturate:[{saturate:[bx,bQ,bI]}],sepia:[{sepia:["",bx,bQ,bI]}],"backdrop-filter":[{"backdrop-filter":["","none",bQ,bI]}],"backdrop-blur":[{"backdrop-blur":U()}],"backdrop-brightness":[{"backdrop-brightness":[bx,bQ,bI]}],"backdrop-contrast":[{"backdrop-contrast":[bx,bQ,bI]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bx,bQ,bI]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bx,bQ,bI]}],"backdrop-invert":[{"backdrop-invert":["",bx,bQ,bI]}],"backdrop-opacity":[{"backdrop-opacity":[bx,bQ,bI]}],"backdrop-saturate":[{"backdrop-saturate":[bx,bQ,bI]}],"backdrop-sepia":[{"backdrop-sepia":["",bx,bQ,bI]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",bQ,bI]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bx,"initial",bQ,bI]}],ease:[{ease:["linear","initial",r,bQ,bI]}],delay:[{delay:[bx,bQ,bI]}],animate:[{animate:["none",s,bQ,bI]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,bQ,bI]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:V()}],"rotate-x":[{"rotate-x":V()}],"rotate-y":[{"rotate-y":V()}],"rotate-z":[{"rotate-z":V()}],scale:[{scale:W()}],"scale-x":[{"scale-x":W()}],"scale-y":[{"scale-y":W()}],"scale-z":[{"scale-z":W()}],"scale-3d":["scale-3d"],skew:[{skew:X()}],"skew-x":[{"skew-x":X()}],"skew-y":[{"skew-y":X()}],transform:[{transform:[bQ,bI,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Y()}],"translate-x":[{"translate-x":Y()}],"translate-y":[{"translate-y":Y()}],"translate-z":[{"translate-z":Y()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bQ,bI]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mbs":[{"scroll-mbs":y()}],"scroll-mbe":[{"scroll-mbe":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pbs":[{"scroll-pbs":y()}],"scroll-pbe":[{"scroll-pbe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bQ,bI]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[bx,bR,bJ,bK]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function b7(...a){return b6(aW(a))}let b8=aY("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function b9({className:a,variant:b="default",size:c="default",asChild:d=!1,...e}){let f=d?a6.Root:"button";return(0,aN.jsx)(f,{"data-slot":"button","data-variant":b,"data-size":c,className:b7(b8({variant:b,size:c,className:a})),...e})}function ca({className:a,...b}){return(0,aN.jsx)("textarea",{"data-slot":"textarea",className:b7("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...b})}var cb=a.i(35112),cc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=a0(`Primitive.${b}`),d=aO.forwardRef((a,d)=>{let{asChild:e,...f}=a;return(0,aN.jsx)(e?c:b,{...f,ref:d})});return d.displayName=`Primitive.${b}`,{...a,[b]:d}},{}),cd=globalThis?.document?aO.useLayoutEffect:()=>{},ce=a=>{var b;let c,d,{present:e,children:f}=a,g=function(a){var b,c;let[d,e]=aO.useState(),f=aO.useRef(null),g=aO.useRef(a),h=aO.useRef("none"),[i,j]=(b=a?"mounted":"unmounted",c={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},aO.useReducer((a,b)=>c[a][b]??a,b));return aO.useEffect(()=>{let a=cf(f.current);h.current="mounted"===i?a:"none"},[i]),cd(()=>{let b=f.current,c=g.current;if(c!==a){let d=h.current,e=cf(b);a?j("MOUNT"):"none"===e||b?.display==="none"?j("UNMOUNT"):c&&d!==e?j("ANIMATION_OUT"):j("UNMOUNT"),g.current=a}},[a,j]),cd(()=>{if(d){let a,b=d.ownerDocument.defaultView??window,c=c=>{let e=cf(f.current).includes(CSS.escape(c.animationName));if(c.target===d&&e&&(j("ANIMATION_END"),!g.current)){let c=d.style.animationFillMode;d.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===d.style.animationFillMode&&(d.style.animationFillMode=c)})}},e=a=>{a.target===d&&(h.current=cf(f.current))};return d.addEventListener("animationstart",e),d.addEventListener("animationcancel",c),d.addEventListener("animationend",c),()=>{b.clearTimeout(a),d.removeEventListener("animationstart",e),d.removeEventListener("animationcancel",c),d.removeEventListener("animationend",c)}}j("ANIMATION_END")},[d,j]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:aO.useCallback(a=>{f.current=a?getComputedStyle(a):null,e(a)},[])}}(e),h="function"==typeof f?f({present:g.isPresent}):aO.Children.only(f),i=a_(g.ref,(b=h,(d=(c=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.ref:(d=(c=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in c&&c.isReactWarning)?b.props.ref:b.props.ref||b.ref));return"function"==typeof f||g.isPresent?aO.cloneElement(h,{ref:i}):null};function cf(a){return a?.animationName||"none"}function cg(a,b=[]){let c=[],d=()=>{let b=c.map(a=>aO.createContext(a));return function(c){let d=c?.[a]||b;return aO.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let e=aO.createContext(d),f=c.length;c=[...c,d];let g=b=>{let{scope:c,children:d,...g}=b,h=c?.[a]?.[f]||e,i=aO.useMemo(()=>g,Object.values(g));return(0,aN.jsx)(h.Provider,{value:i,children:d})};return g.displayName=b+"Provider",[g,function(c,g){let h=g?.[a]?.[f]||e,i=aO.useContext(h);if(i)return i;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return aO.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}function ch(a){let b=aO.useRef(a);return aO.useEffect(()=>{b.current=a}),aO.useMemo(()=>(...a)=>b.current?.(...a),[])}ce.displayName="Presence";var ci=aO.createContext(void 0);function cj(a){let b=aO.useContext(ci);return a||b||"ltr"}function ck(a,[b,c]){return Math.min(c,Math.max(b,a))}function cl(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}var cm="ScrollArea",[cn,co]=cg(cm),[cp,cq]=cn(cm),cr=aO.forwardRef((a,b)=>{let{__scopeScrollArea:c,type:d="hover",dir:e,scrollHideDelay:f=600,...g}=a,[h,i]=aO.useState(null),[j,k]=aO.useState(null),[l,m]=aO.useState(null),[n,o]=aO.useState(null),[p,q]=aO.useState(null),[r,s]=aO.useState(0),[t,u]=aO.useState(0),[v,w]=aO.useState(!1),[x,y]=aO.useState(!1),z=a_(b,a=>i(a)),A=cj(e);return(0,aN.jsx)(cp,{scope:c,type:d,dir:A,scrollHideDelay:f,scrollArea:h,viewport:j,onViewportChange:k,content:l,onContentChange:m,scrollbarX:n,onScrollbarXChange:o,scrollbarXEnabled:v,onScrollbarXEnabledChange:w,scrollbarY:p,onScrollbarYChange:q,scrollbarYEnabled:x,onScrollbarYEnabledChange:y,onCornerWidthChange:s,onCornerHeightChange:u,children:(0,aN.jsx)(cc.div,{dir:A,...g,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":r+"px","--radix-scroll-area-corner-height":t+"px",...a.style}})})});cr.displayName=cm;var cs="ScrollAreaViewport",ct=aO.forwardRef((a,b)=>{let{__scopeScrollArea:c,children:d,nonce:e,...f}=a,g=cq(cs,c),h=a_(b,aO.useRef(null),g.onViewportChange);return(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:e}),(0,aN.jsx)(cc.div,{"data-radix-scroll-area-viewport":"",...f,ref:h,style:{overflowX:g.scrollbarXEnabled?"scroll":"hidden",overflowY:g.scrollbarYEnabled?"scroll":"hidden",...a.style},children:(0,aN.jsx)("div",{ref:g.onContentChange,style:{minWidth:"100%",display:"table"},children:d})})]})});ct.displayName=cs;var cu="ScrollAreaScrollbar",cv=aO.forwardRef((a,b)=>{let{forceMount:c,...d}=a,e=cq(cu,a.__scopeScrollArea),{onScrollbarXEnabledChange:f,onScrollbarYEnabledChange:g}=e,h="horizontal"===a.orientation;return aO.useEffect(()=>(h?f(!0):g(!0),()=>{h?f(!1):g(!1)}),[h,f,g]),"hover"===e.type?(0,aN.jsx)(cw,{...d,ref:b,forceMount:c}):"scroll"===e.type?(0,aN.jsx)(cx,{...d,ref:b,forceMount:c}):"auto"===e.type?(0,aN.jsx)(cy,{...d,ref:b,forceMount:c}):"always"===e.type?(0,aN.jsx)(cz,{...d,ref:b}):null});cv.displayName=cu;var cw=aO.forwardRef((a,b)=>{let{forceMount:c,...d}=a,e=cq(cu,a.__scopeScrollArea),[f,g]=aO.useState(!1);return aO.useEffect(()=>{let a=e.scrollArea,b=0;if(a){let c=()=>{window.clearTimeout(b),g(!0)},d=()=>{b=window.setTimeout(()=>g(!1),e.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(b),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[e.scrollArea,e.scrollHideDelay]),(0,aN.jsx)(ce,{present:c||f,children:(0,aN.jsx)(cy,{"data-state":f?"visible":"hidden",...d,ref:b})})}),cx=aO.forwardRef((a,b)=>{var c;let{forceMount:d,...e}=a,f=cq(cu,a.__scopeScrollArea),g="horizontal"===a.orientation,h=cR(()=>j("SCROLL_END"),100),[i,j]=(c={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},aO.useReducer((a,b)=>c[a][b]??a,"hidden"));return aO.useEffect(()=>{if("idle"===i){let a=window.setTimeout(()=>j("HIDE"),f.scrollHideDelay);return()=>window.clearTimeout(a)}},[i,f.scrollHideDelay,j]),aO.useEffect(()=>{let a=f.viewport,b=g?"scrollLeft":"scrollTop";if(a){let c=a[b],d=()=>{let d=a[b];c!==d&&(j("SCROLL"),h()),c=d};return a.addEventListener("scroll",d),()=>a.removeEventListener("scroll",d)}},[f.viewport,g,j,h]),(0,aN.jsx)(ce,{present:d||"hidden"!==i,children:(0,aN.jsx)(cz,{"data-state":"hidden"===i?"hidden":"visible",...e,ref:b,onPointerEnter:cl(a.onPointerEnter,()=>j("POINTER_ENTER")),onPointerLeave:cl(a.onPointerLeave,()=>j("POINTER_LEAVE"))})})}),cy=aO.forwardRef((a,b)=>{let c=cq(cu,a.__scopeScrollArea),{forceMount:d,...e}=a,[f,g]=aO.useState(!1),h="horizontal"===a.orientation,i=cR(()=>{if(c.viewport){let a=c.viewport.offsetWidth<c.viewport.scrollWidth,b=c.viewport.offsetHeight<c.viewport.scrollHeight;g(h?a:b)}},10);return cS(c.viewport,i),cS(c.content,i),(0,aN.jsx)(ce,{present:d||f,children:(0,aN.jsx)(cz,{"data-state":f?"visible":"hidden",...e,ref:b})})}),cz=aO.forwardRef((a,b)=>{let{orientation:c="vertical",...d}=a,e=cq(cu,a.__scopeScrollArea),f=aO.useRef(null),g=aO.useRef(0),[h,i]=aO.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),j=cM(h.viewport,h.content),k={...d,sizes:h,onSizesChange:i,hasThumb:!!(j>0&&j<1),onThumbChange:a=>f.current=a,onThumbPointerUp:()=>g.current=0,onThumbPointerDown:a=>g.current=a};function l(a,b){return function(a,b,c,d="ltr"){let e=cN(c),f=b||e/2,g=c.scrollbar.paddingStart+f,h=c.scrollbar.size-c.scrollbar.paddingEnd-(e-f),i=c.content-c.viewport;return cP([g,h],"ltr"===d?[0,i]:[-1*i,0])(a)}(a,g.current,h,b)}return"horizontal"===c?(0,aN.jsx)(cA,{...k,ref:b,onThumbPositionChange:()=>{if(e.viewport&&f.current){let a=cO(e.viewport.scrollLeft,h,e.dir);f.current.style.transform=`translate3d(${a}px, 0, 0)`}},onWheelScroll:a=>{e.viewport&&(e.viewport.scrollLeft=a)},onDragScroll:a=>{e.viewport&&(e.viewport.scrollLeft=l(a,e.dir))}}):"vertical"===c?(0,aN.jsx)(cB,{...k,ref:b,onThumbPositionChange:()=>{if(e.viewport&&f.current){let a=cO(e.viewport.scrollTop,h);f.current.style.transform=`translate3d(0, ${a}px, 0)`}},onWheelScroll:a=>{e.viewport&&(e.viewport.scrollTop=a)},onDragScroll:a=>{e.viewport&&(e.viewport.scrollTop=l(a))}}):null}),cA=aO.forwardRef((a,b)=>{let{sizes:c,onSizesChange:d,...e}=a,f=cq(cu,a.__scopeScrollArea),[g,h]=aO.useState(),i=aO.useRef(null),j=a_(b,i,f.onScrollbarXChange);return aO.useEffect(()=>{i.current&&h(getComputedStyle(i.current))},[i]),(0,aN.jsx)(cE,{"data-orientation":"horizontal",...e,ref:j,sizes:c,style:{bottom:0,left:"rtl"===f.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===f.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cN(c)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.x),onDragScroll:b=>a.onDragScroll(b.x),onWheelScroll:(b,c)=>{if(f.viewport){var d,e;let g=f.viewport.scrollLeft+b.deltaX;a.onWheelScroll(g),d=g,e=c,d>0&&d<e&&b.preventDefault()}},onResize:()=>{i.current&&f.viewport&&g&&d({content:f.viewport.scrollWidth,viewport:f.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:cL(g.paddingLeft),paddingEnd:cL(g.paddingRight)}})}})}),cB=aO.forwardRef((a,b)=>{let{sizes:c,onSizesChange:d,...e}=a,f=cq(cu,a.__scopeScrollArea),[g,h]=aO.useState(),i=aO.useRef(null),j=a_(b,i,f.onScrollbarYChange);return aO.useEffect(()=>{i.current&&h(getComputedStyle(i.current))},[i]),(0,aN.jsx)(cE,{"data-orientation":"vertical",...e,ref:j,sizes:c,style:{top:0,right:"ltr"===f.dir?0:void 0,left:"rtl"===f.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cN(c)+"px",...a.style},onThumbPointerDown:b=>a.onThumbPointerDown(b.y),onDragScroll:b=>a.onDragScroll(b.y),onWheelScroll:(b,c)=>{if(f.viewport){var d,e;let g=f.viewport.scrollTop+b.deltaY;a.onWheelScroll(g),d=g,e=c,d>0&&d<e&&b.preventDefault()}},onResize:()=>{i.current&&f.viewport&&g&&d({content:f.viewport.scrollHeight,viewport:f.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:cL(g.paddingTop),paddingEnd:cL(g.paddingBottom)}})}})}),[cC,cD]=cn(cu),cE=aO.forwardRef((a,b)=>{let{__scopeScrollArea:c,sizes:d,hasThumb:e,onThumbChange:f,onThumbPointerUp:g,onThumbPointerDown:h,onThumbPositionChange:i,onDragScroll:j,onWheelScroll:k,onResize:l,...m}=a,n=cq(cu,c),[o,p]=aO.useState(null),q=a_(b,a=>p(a)),r=aO.useRef(null),s=aO.useRef(""),t=n.viewport,u=d.content-d.viewport,v=ch(k),w=ch(i),x=cR(l,10);function y(a){r.current&&j({x:a.clientX-r.current.left,y:a.clientY-r.current.top})}return aO.useEffect(()=>{let a=a=>{let b=a.target;o?.contains(b)&&v(a,u)};return document.addEventListener("wheel",a,{passive:!1}),()=>document.removeEventListener("wheel",a,{passive:!1})},[t,o,u,v]),aO.useEffect(w,[d,w]),cS(o,x),cS(n.content,x),(0,aN.jsx)(cC,{scope:c,scrollbar:o,hasThumb:e,onThumbChange:ch(f),onThumbPointerUp:ch(g),onThumbPositionChange:w,onThumbPointerDown:ch(h),children:(0,aN.jsx)(cc.div,{...m,ref:q,style:{position:"absolute",...m.style},onPointerDown:cl(a.onPointerDown,a=>{0===a.button&&(a.target.setPointerCapture(a.pointerId),r.current=o.getBoundingClientRect(),s.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",n.viewport&&(n.viewport.style.scrollBehavior="auto"),y(a))}),onPointerMove:cl(a.onPointerMove,y),onPointerUp:cl(a.onPointerUp,a=>{let b=a.target;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),document.body.style.webkitUserSelect=s.current,n.viewport&&(n.viewport.style.scrollBehavior=""),r.current=null})})})}),cF="ScrollAreaThumb",cG=aO.forwardRef((a,b)=>{let{forceMount:c,...d}=a,e=cD(cF,a.__scopeScrollArea);return(0,aN.jsx)(ce,{present:c||e.hasThumb,children:(0,aN.jsx)(cH,{ref:b,...d})})}),cH=aO.forwardRef((a,b)=>{let{__scopeScrollArea:c,style:d,...e}=a,f=cq(cF,c),g=cD(cF,c),{onThumbPositionChange:h}=g,i=a_(b,a=>g.onThumbChange(a)),j=aO.useRef(void 0),k=cR(()=>{j.current&&(j.current(),j.current=void 0)},100);return aO.useEffect(()=>{let a=f.viewport;if(a){let b=()=>{k(),j.current||(j.current=cQ(a,h),h())};return h(),a.addEventListener("scroll",b),()=>a.removeEventListener("scroll",b)}},[f.viewport,k,h]),(0,aN.jsx)(cc.div,{"data-state":g.hasThumb?"visible":"hidden",...e,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...d},onPointerDownCapture:cl(a.onPointerDownCapture,a=>{let b=a.target.getBoundingClientRect(),c=a.clientX-b.left,d=a.clientY-b.top;g.onThumbPointerDown({x:c,y:d})}),onPointerUp:cl(a.onPointerUp,g.onThumbPointerUp)})});cG.displayName=cF;var cI="ScrollAreaCorner",cJ=aO.forwardRef((a,b)=>{let c=cq(cI,a.__scopeScrollArea),d=!!(c.scrollbarX&&c.scrollbarY);return"scroll"!==c.type&&d?(0,aN.jsx)(cK,{...a,ref:b}):null});cJ.displayName=cI;var cK=aO.forwardRef((a,b)=>{let{__scopeScrollArea:c,...d}=a,e=cq(cI,c),[f,g]=aO.useState(0),[h,i]=aO.useState(0),j=!!(f&&h);return cS(e.scrollbarX,()=>{let a=e.scrollbarX?.offsetHeight||0;e.onCornerHeightChange(a),i(a)}),cS(e.scrollbarY,()=>{let a=e.scrollbarY?.offsetWidth||0;e.onCornerWidthChange(a),g(a)}),j?(0,aN.jsx)(cc.div,{...d,ref:b,style:{width:f,height:h,position:"absolute",right:"ltr"===e.dir?0:void 0,left:"rtl"===e.dir?0:void 0,bottom:0,...a.style}}):null});function cL(a){return a?parseInt(a,10):0}function cM(a,b){let c=a/b;return isNaN(c)?0:c}function cN(a){let b=cM(a.viewport,a.content),c=a.scrollbar.paddingStart+a.scrollbar.paddingEnd;return Math.max((a.scrollbar.size-c)*b,18)}function cO(a,b,c="ltr"){let d=cN(b),e=b.scrollbar.paddingStart+b.scrollbar.paddingEnd,f=b.scrollbar.size-e,g=b.content-b.viewport,h=ck(a,"ltr"===c?[0,g]:[-1*g,0]);return cP([0,g],[0,f-d])(h)}function cP(a,b){return c=>{if(a[0]===a[1]||b[0]===b[1])return b[0];let d=(b[1]-b[0])/(a[1]-a[0]);return b[0]+d*(c-a[0])}}var cQ=(a,b=()=>{})=>{let c={left:a.scrollLeft,top:a.scrollTop},d=0;return!function e(){let f={left:a.scrollLeft,top:a.scrollTop},g=c.left!==f.left,h=c.top!==f.top;(g||h)&&b(),c=f,d=window.requestAnimationFrame(e)}(),()=>window.cancelAnimationFrame(d)};function cR(a,b){let c=ch(a),d=aO.useRef(0);return aO.useEffect(()=>()=>window.clearTimeout(d.current),[]),aO.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(c,b)},[c,b])}function cS(a,b){let c=ch(b);cd(()=>{let b=0;if(a){let d=new ResizeObserver(()=>{cancelAnimationFrame(b),b=window.requestAnimationFrame(c)});return d.observe(a),()=>{window.cancelAnimationFrame(b),d.unobserve(a)}}},[a,c])}a.s(["Corner",()=>cJ,"Root",()=>cr,"ScrollArea",()=>cr,"ScrollAreaCorner",()=>cJ,"ScrollAreaScrollbar",()=>cv,"ScrollAreaThumb",()=>cG,"ScrollAreaViewport",()=>ct,"Scrollbar",()=>cv,"Thumb",()=>cG,"Viewport",()=>ct,"createScrollAreaScope",()=>co],40996);var cT=a.i(40996),cT=cT;function cU({className:a,children:b,...c}){return(0,aN.jsxs)(cT.Root,{"data-slot":"scroll-area",className:b7("relative",a),...c,children:[(0,aN.jsx)(cT.Viewport,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:b}),(0,aN.jsx)(cV,{}),(0,aN.jsx)(cT.Corner,{})]})}function cV({className:a,orientation:b="vertical",...c}){return(0,aN.jsx)(cT.ScrollAreaScrollbar,{"data-slot":"scroll-area-scrollbar",orientation:b,className:b7("flex touch-none p-px transition-colors select-none","vertical"===b&&"h-full w-2.5 border-l border-l-transparent","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent",a),...c,children:(0,aN.jsx)(cT.ScrollAreaThumb,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function cW({messages:a,onSendMessage:b,isLoading:c=!1,placeholder:d="어떤 시스템을 설계하고 싶으신가요?"}){let[e,f]=(0,aO.useState)(""),g=(0,aO.useRef)(null),h=(0,aO.useRef)(null);(0,aO.useEffect)(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[a]);let i=()=>{e.trim()&&!c&&(b(e.trim()),f(""),h.current&&(h.current.style.height="auto"))};return(0,aN.jsxs)("div",{className:"flex flex-col h-full",children:[(0,aN.jsx)(cU,{ref:g,className:"flex-1 px-6",children:(0,aN.jsxs)("div",{className:"space-y-6 py-6",children:[0===a.length?(0,aN.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,aN.jsx)("div",{className:"w-16 h-16 rounded-full bg-secondary flex items-center justify-center mb-4",children:(0,aN.jsx)("span",{className:"text-2xl font-light text-muted-foreground",children:"?"})}),(0,aN.jsx)("p",{className:"text-muted-foreground text-sm max-w-md",children:d})]}):a.map(a=>(0,aN.jsx)("div",{className:`flex ${"user"===a.role?"justify-end":"justify-start"}`,children:(0,aN.jsx)("div",{className:`max-w-[80%] px-5 py-3 text-sm leading-relaxed ${"user"===a.role?"bg-primary text-primary-foreground rounded-2xl rounded-tr-sm":"bg-card border border-border rounded-2xl rounded-tl-sm shadow-elegant"}`,children:a.content})},a.id)),c&&(0,aN.jsx)("div",{className:"flex justify-start",children:(0,aN.jsx)("div",{className:"bg-card border border-border rounded-2xl rounded-tl-sm px-5 py-3 shadow-elegant",children:(0,aN.jsx)(aV,{className:"h-4 w-4 animate-spin text-muted-foreground"})})})]})}),(0,aN.jsx)("div",{className:"border-t border-border bg-card p-4",children:(0,aN.jsxs)("div",{className:"flex items-end gap-3 max-w-4xl mx-auto",children:[(0,aN.jsx)(ca,{ref:h,value:e,onChange:a=>{f(a.target.value),a.target.style.height="auto",a.target.style.height=a.target.scrollHeight+"px"},onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),i())},placeholder:"메시지를 입력하세요...",className:"min-h-[44px] max-h-32 resize-none bg-background border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-sm",rows:1}),(0,aN.jsx)(b9,{onClick:i,disabled:!e.trim()||c,size:"icon",className:"h-11 w-11 shrink-0 rounded-xl",children:c?(0,aN.jsx)(aV,{className:"h-4 w-4 animate-spin"}):(0,aN.jsx)(aU,{className:"h-4 w-4"})})]})})]})}function cX({className:a,...b}){return(0,aN.jsx)("div",{"data-slot":"card",className:b7("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}var a6=a6;let cY=aY("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function cZ({className:a,variant:b="default",asChild:c=!1,...d}){let e=c?a6.Root:"span";return(0,aN.jsx)(e,{"data-slot":"badge","data-variant":b,className:b7(cY({variant:b}),a),...d})}let c$=aT("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),c_=aT("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),c0=aT("list-ordered",[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]]);function c1({useCase:a,isSelected:b=!1,onClick:c}){return(0,aN.jsxs)(cX,{onClick:c,className:`
        cursor-pointer p-4 transition-all duration-200 border-0
        ${b?"bg-primary text-primary-foreground shadow-elegant":"bg-card hover:bg-accent shadow-elegant hover:shadow-elegant-hover"}
      `,children:[(0,aN.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,aN.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,aN.jsx)("h4",{className:`font-medium text-sm truncate ${b?"text-primary-foreground":"text-foreground"}`,children:a.title}),(0,aN.jsx)("p",{className:`text-xs mt-1 line-clamp-2 ${b?"text-primary-foreground/70":"text-muted-foreground"}`,children:a.description})]}),(0,aN.jsx)(c$,{className:`h-4 w-4 shrink-0 mt-0.5 ${b?"text-primary-foreground/50":"text-muted-foreground"}`})]}),(0,aN.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,aN.jsxs)("div",{className:`flex items-center gap-1.5 text-xs ${b?"text-primary-foreground/60":"text-muted-foreground"}`,children:[(0,aN.jsx)(c_,{className:"h-3 w-3"}),(0,aN.jsxs)("span",{children:[a.actors.length," Actor",1!==a.actors.length?"s":""]})]}),(0,aN.jsxs)("div",{className:`flex items-center gap-1.5 text-xs ${b?"text-primary-foreground/60":"text-muted-foreground"}`,children:[(0,aN.jsx)(c0,{className:"h-3 w-3"}),(0,aN.jsxs)("span",{children:[a.flow.length," Steps"]})]})]}),a.requirements.length>0&&(0,aN.jsx)("div",{className:"mt-3 pt-3 border-t border-current/10",children:(0,aN.jsxs)(cZ,{variant:"secondary",className:`text-xs ${b?"bg-primary-foreground/20 text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:[a.requirements.filter(a=>a.selected).length," / ",a.requirements.length," Requirements"]})})]})}var c2="horizontal",c3=["horizontal","vertical"],c4=aO.forwardRef((a,b)=>{var c;let{decorative:d,orientation:e=c2,...f}=a,g=(c=e,c3.includes(c))?e:c2;return(0,aN.jsx)(cc.div,{"data-orientation":g,...d?{role:"none"}:{"aria-orientation":"vertical"===g?g:void 0,role:"separator"},...f,ref:b})});c4.displayName="Separator",a.s(["Root",()=>c4,"Separator",()=>c4],39824);var c5=a.i(39824),c5=c5;function c6({className:a,orientation:b="horizontal",decorative:c=!0,...d}){return(0,aN.jsx)(c5.Root,{"data-slot":"separator",decorative:c,orientation:b,className:b7("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...d})}var c7=a.i(23917),c8=a.i(18092),c9=a.i(25646),da=a.i(68437);a.i(95625),a.i(38690),a.i(4430),a.i(72325),a.i(22611);var db=a.i(2758),dc=a.i(99780),dd=a.i(34499),de=a.i(34603),df=a.i(54757);a.i(75930);var dg=a.i(71731),dh="comm",di="rule",dj="decl",dk=Math.abs,dl=String.fromCharCode;function dm(a,b,c){return a.replace(b,c)}function dn(a,b){return 0|a.charCodeAt(b)}function dp(a,b,c){return a.slice(b,c)}function dq(a){return a.length}function dr(a,b){return b.push(a),a}var ds=1,dt=1,du=0,dv=0,dw=0,dx="";function dy(a,b,c,d,e,f,g,h){return{value:a,root:b,parent:c,type:d,props:e,children:f,line:ds,column:dt,length:g,return:"",siblings:h}}function dz(){return dw=dv<du?dn(dx,dv++):0,dt++,10===dw&&(dt=1,ds++),dw}function dA(){return dn(dx,dv)}function dB(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dC(a){var b,c;return(b=dv-1,c=function a(b){for(;dz();)switch(dw){case b:return dv;case 34:case 39:34!==b&&39!==b&&a(dw);break;case 40:41===b&&a(b);break;case 92:dz()}return dv}(91===a?a+2:40===a?a+1:a),dp(dx,b,c)).trim()}function dD(a,b,c,d,e,f,g,h,i,j,k,l){for(var m=e-1,n=0===e?f:[""],o=n.length,p=0,q=0,r=0;p<d;++p)for(var s=0,t=dp(a,m+1,m=dk(q=g[p])),u=a;s<o;++s)(u=(q>0?n[s]+" "+t:dm(t,/&\f/g,n[s])).trim())&&(i[r++]=u);return dy(a,b,c,0===e?di:h,i,j,k,l)}function dE(a,b,c,d,e){return dy(a,b,c,dj,dp(a,0,d),dp(a,d+1,-1),d,e)}function dF(a,b){for(var c="",d=0;d<a.length;d++)c+=b(a[d],d,a,b)||"";return c}function dG(a,b,c,d){switch(a.type){case"@layer":if(a.children.length)break;case"@import":case"@namespace":case dj:return a.return=a.return||a.value;case dh:return"";case"@keyframes":return a.return=a.value+"{"+dF(a.children,d)+"}";case di:if(!dq(a.value=a.props.join(",")))return""}return dq(c=dF(a.children,d))?a.return=a.value+"{"+c+"}":""}var dH=a.i(37132),dI=a.i(84454),dJ={id:"c4",detector:(0,de.__name)(a=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(a),"detector"),loader:(0,de.__name)(async()=>{let{diagram:b}=await a.A(26236);return{id:"c4",diagram:b}},"loader")},dK="flowchart",dL=(0,de.__name)((a,b)=>b?.flowchart?.defaultRenderer!=="dagre-wrapper"&&b?.flowchart?.defaultRenderer!=="elk"&&/^\s*graph/.test(a),"detector"),dM=(0,de.__name)(async()=>{let{diagram:b}=await a.A(78720);return{id:dK,diagram:b}},"loader"),dN={id:dK,detector:dL,loader:dM},dO="flowchart-v2",dP=(0,de.__name)((a,b)=>b?.flowchart?.defaultRenderer!=="dagre-d3"&&(b?.flowchart?.defaultRenderer==="elk"&&(b.layout="elk"),!!/^\s*graph/.test(a)&&b?.flowchart?.defaultRenderer==="dagre-wrapper"||/^\s*flowchart/.test(a)),"detector"),dQ=(0,de.__name)(async()=>{let{diagram:b}=await a.A(78720);return{id:dO,diagram:b}},"loader"),dR={id:dO,detector:dP,loader:dQ},dS={id:"er",detector:(0,de.__name)(a=>/^\s*erDiagram/.test(a),"detector"),loader:(0,de.__name)(async()=>{let{diagram:b}=await a.A(47370);return{id:"er",diagram:b}},"loader")},dT="gitGraph",dU=(0,de.__name)(a=>/^\s*gitGraph/.test(a),"detector"),dV=(0,de.__name)(async()=>{let{diagram:b}=await a.A(15105);return{id:dT,diagram:b}},"loader"),dW={id:dT,detector:dU,loader:dV},dX="gantt",dY=(0,de.__name)(a=>/^\s*gantt/.test(a),"detector"),dZ=(0,de.__name)(async()=>{let{diagram:b}=await a.A(3025);return{id:dX,diagram:b}},"loader"),d$={id:dX,detector:dY,loader:dZ},d_="info",d0=(0,de.__name)(a=>/^\s*info/.test(a),"detector"),d1=(0,de.__name)(async()=>{let{diagram:b}=await a.A(67619);return{id:d_,diagram:b}},"loader"),d2={id:d_,detector:d0,loader:d1},d3={id:"pie",detector:(0,de.__name)(a=>/^\s*pie/.test(a),"detector"),loader:(0,de.__name)(async()=>{let{diagram:b}=await a.A(32006);return{id:"pie",diagram:b}},"loader")},d4="quadrantChart",d5=(0,de.__name)(a=>/^\s*quadrantChart/.test(a),"detector"),d6=(0,de.__name)(async()=>{let{diagram:b}=await a.A(27320);return{id:d4,diagram:b}},"loader"),d7={id:d4,detector:d5,loader:d6},d8="xychart",d9=(0,de.__name)(a=>/^\s*xychart(-beta)?/.test(a),"detector"),ea=(0,de.__name)(async()=>{let{diagram:b}=await a.A(80747);return{id:d8,diagram:b}},"loader"),eb={id:d8,detector:d9,loader:ea},ec="requirement",ed=(0,de.__name)(a=>/^\s*requirement(Diagram)?/.test(a),"detector"),ee=(0,de.__name)(async()=>{let{diagram:b}=await a.A(16961);return{id:ec,diagram:b}},"loader"),ef={id:ec,detector:ed,loader:ee},eg="sequence",eh=(0,de.__name)(a=>/^\s*sequenceDiagram/.test(a),"detector"),ei=(0,de.__name)(async()=>{let{diagram:b}=await a.A(65402);return{id:eg,diagram:b}},"loader"),ej={id:eg,detector:eh,loader:ei},ek="class",el=(0,de.__name)((a,b)=>b?.class?.defaultRenderer!=="dagre-wrapper"&&/^\s*classDiagram/.test(a),"detector"),em=(0,de.__name)(async()=>{let{diagram:b}=await a.A(3100);return{id:ek,diagram:b}},"loader"),en={id:ek,detector:el,loader:em},eo="classDiagram",ep=(0,de.__name)((a,b)=>!!/^\s*classDiagram/.test(a)&&b?.class?.defaultRenderer==="dagre-wrapper"||/^\s*classDiagram-v2/.test(a),"detector"),eq=(0,de.__name)(async()=>{let{diagram:b}=await a.A(27775);return{id:eo,diagram:b}},"loader"),er={id:eo,detector:ep,loader:eq},es="state",et=(0,de.__name)((a,b)=>b?.state?.defaultRenderer!=="dagre-wrapper"&&/^\s*stateDiagram/.test(a),"detector"),eu=(0,de.__name)(async()=>{let{diagram:b}=await a.A(42341);return{id:es,diagram:b}},"loader"),ev={id:es,detector:et,loader:eu},ew="stateDiagram",ex=(0,de.__name)((a,b)=>!!(/^\s*stateDiagram-v2/.test(a)||/^\s*stateDiagram/.test(a)&&b?.state?.defaultRenderer==="dagre-wrapper"),"detector"),ey=(0,de.__name)(async()=>{let{diagram:b}=await a.A(66313);return{id:ew,diagram:b}},"loader"),ez={id:ew,detector:ex,loader:ey},eA="journey",eB=(0,de.__name)(a=>/^\s*journey/.test(a),"detector"),eC=(0,de.__name)(async()=>{let{diagram:b}=await a.A(4365);return{id:eA,diagram:b}},"loader"),eD={id:eA,detector:eB,loader:eC},eE={draw:(0,de.__name)((a,b,c)=>{de.log.debug("rendering svg for syntax error\n");let d=(0,c8.selectSvgElement)(b),e=d.append("g");d.attr("viewBox","0 0 2412 512"),(0,dd.configureSvgSize)(d,100,512,!0),e.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),e.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),e.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),e.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),e.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),e.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),e.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),e.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${c}`)},"draw")},eF={db:{},renderer:eE,parser:{parse:(0,de.__name)(()=>{},"parse")}},eG="flowchart-elk",eH=(0,de.__name)((a,b={})=>!!(/^\s*flowchart-elk/.test(a)||/^\s*(flowchart|graph)/.test(a)&&b?.flowchart?.defaultRenderer==="elk")&&(b.layout="elk",!0),"detector"),eI=(0,de.__name)(async()=>{let{diagram:b}=await a.A(78720);return{id:eG,diagram:b}},"loader"),eJ={id:eG,detector:eH,loader:eI},eK="timeline",eL=(0,de.__name)(a=>/^\s*timeline/.test(a),"detector"),eM=(0,de.__name)(async()=>{let{diagram:b}=await a.A(54745);return{id:eK,diagram:b}},"loader"),eN={id:eK,detector:eL,loader:eM},eO="mindmap",eP=(0,de.__name)(a=>/^\s*mindmap/.test(a),"detector"),eQ=(0,de.__name)(async()=>{let{diagram:b}=await a.A(4900);return{id:eO,diagram:b}},"loader"),eR={id:eO,detector:eP,loader:eQ},eS="kanban",eT=(0,de.__name)(a=>/^\s*kanban/.test(a),"detector"),eU=(0,de.__name)(async()=>{let{diagram:b}=await a.A(75429);return{id:eS,diagram:b}},"loader"),eV={id:eS,detector:eT,loader:eU},eW="sankey",eX=(0,de.__name)(a=>/^\s*sankey(-beta)?/.test(a),"detector"),eY=(0,de.__name)(async()=>{let{diagram:b}=await a.A(73006);return{id:eW,diagram:b}},"loader"),eZ={id:eW,detector:eX,loader:eY},e$="packet",e_=(0,de.__name)(a=>/^\s*packet(-beta)?/.test(a),"detector"),e0=(0,de.__name)(async()=>{let{diagram:b}=await a.A(86650);return{id:e$,diagram:b}},"loader"),e1={id:e$,detector:e_,loader:e0},e2="radar",e3=(0,de.__name)(a=>/^\s*radar-beta/.test(a),"detector"),e4=(0,de.__name)(async()=>{let{diagram:b}=await a.A(32267);return{id:e2,diagram:b}},"loader"),e5={id:e2,detector:e3,loader:e4},e6="block",e7=(0,de.__name)(a=>/^\s*block(-beta)?/.test(a),"detector"),e8=(0,de.__name)(async()=>{let{diagram:b}=await a.A(73540);return{id:e6,diagram:b}},"loader"),e9={id:e6,detector:e7,loader:e8},fa="architecture",fb=(0,de.__name)(a=>/^\s*architecture/.test(a),"detector"),fc=(0,de.__name)(async()=>{let{diagram:b}=await a.A(92026);return{id:fa,diagram:b}},"loader"),fd={id:fa,detector:fb,loader:fc},fe="treemap",ff=(0,de.__name)(a=>/^\s*treemap/.test(a),"detector"),fg=(0,de.__name)(async()=>{let{diagram:b}=await a.A(13631);return{id:fe,diagram:b}},"loader"),fh={id:fe,detector:ff,loader:fg},fi=!1,fj=(0,de.__name)(()=>{fi||(fi=!0,(0,dd.registerDiagram)("error",eF,a=>"error"===a.toLowerCase().trim()),(0,dd.registerDiagram)("---",{db:{clear:(0,de.__name)(()=>{},"clear")},styles:{},renderer:{draw:(0,de.__name)(()=>{},"draw")},parser:{parse:(0,de.__name)(()=>{throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:(0,de.__name)(()=>null,"init")},a=>a.toLowerCase().trimStart().startsWith("---")),(0,dd.registerLazyLoadedDiagrams)(eJ,eR,fd),(0,dd.registerLazyLoadedDiagrams)(dJ,eV,er,en,dS,d$,d2,d3,ef,ej,dR,dN,eN,dW,ez,ev,eD,d7,eZ,e1,eb,e9,e5,fh))},"addDiagrams"),fk=(0,de.__name)(async()=>{de.log.debug("Loading registered diagrams");let a=(await Promise.allSettled(Object.entries(dd.detectors).map(async([a,{detector:b,loader:c}])=>{if(c)try{(0,dd.getDiagram)(a)}catch{try{let{diagram:a,id:d}=await c();(0,dd.registerDiagram)(d,a,b)}catch(b){throw de.log.error(`Failed to load external diagram with key ${a}. Removing from detectors.`),delete dd.detectors[a],b}}}))).filter(a=>"rejected"===a.status);if(a.length>0){for(let b of(de.log.error(`Failed to load ${a.length} external diagrams`),a))de.log.error(b);throw Error(`Failed to load ${a.length} external diagrams`)}},"loadRegisteredDiagrams");function fl(a,b){a.attr("role","graphics-document document"),""!==b&&a.attr("aria-roledescription",b)}function fm(a,b,c,d){if(void 0!==a.insert){if(c){let b=`chart-desc-${d}`;a.attr("aria-describedby",b),a.insert("desc",":first-child").attr("id",b).text(c)}if(b){let c=`chart-title-${d}`;a.attr("aria-labelledby",c),a.insert("title",":first-child").attr("id",c).text(b)}}}(0,de.__name)(fl,"setA11yDiagramInfo"),(0,de.__name)(fm,"addSVGa11yTitleDescription");var fn=class a{constructor(a,b,c,d,e){this.type=a,this.text=b,this.db=c,this.parser=d,this.renderer=e}static{(0,de.__name)(this,"Diagram")}static async fromText(b,c={}){let d=(0,dd.getConfig)(),e=(0,dd.detectType)(b,d);b=(0,dc.encodeEntities)(b)+"\n";try{(0,dd.getDiagram)(e)}catch{let a=(0,dd.getDiagramLoader)(e);if(!a)throw new dd.UnknownDiagramError(`Diagram ${e} not found.`);let{id:b,diagram:c}=await a();(0,dd.registerDiagram)(b,c)}let{db:f,parser:g,renderer:h,init:i}=(0,dd.getDiagram)(e);return g.parser&&(g.parser.yy=f),f.clear?.(),i?.(d),c.title&&f.setDiagramTitle?.(c.title),await g.parse(b),new a(e,b,f,g,h)}async render(a,b){await this.renderer.draw(this.text,a,b,this)}getParser(){return this.parser}getType(){return this.type}},fo=[],fp=(0,de.__name)(()=>{fo.forEach(a=>{a()}),fo=[]},"attachFunctions"),fq=(0,de.__name)(a=>a.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function fr(a){let b=a.match(dd.frontMatterRegex);if(!b)return{text:a,metadata:{}};let c=(0,c9.load)(b[1],{schema:c9.JSON_SCHEMA})??{};c="object"!=typeof c||Array.isArray(c)?{}:c;let d={};return c.displayMode&&(d.displayMode=c.displayMode.toString()),c.title&&(d.title=c.title.toString()),c.config&&(d.config=c.config),{text:a.slice(b[0].length),metadata:d}}(0,de.__name)(fr,"extractFrontMatter");var fs=(0,de.__name)(a=>a.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(a,b,c)=>"<"+b+c.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),ft=(0,de.__name)(a=>{let{text:b,metadata:c}=fr(a),{displayMode:d,title:e,config:f={}}=c;return d&&(f.gantt||(f.gantt={}),f.gantt.displayMode=d),{title:e,config:f,text:b}},"processFrontmatter"),fu=(0,de.__name)(a=>{let b=dc.utils_default.detectInit(a)??{},c=dc.utils_default.detectDirective(a,"wrap");return Array.isArray(c)?b.wrap=c.some(({type:a})=>"wrap"===a):c?.type==="wrap"&&(b.wrap=!0),{text:(0,dc.removeDirectives)(a),directive:b}},"processDirectives");function fv(a){let b=ft(fs(a)),c=fu(b.text),d=(0,dc.cleanAndMerge)(b.config,c.directive);return{code:a=fq(c.text),title:b.title,config:d}}function fw(a){return btoa(Array.from(new TextEncoder().encode(a),a=>String.fromCodePoint(a)).join(""))}(0,de.__name)(fv,"preprocessDiagram"),(0,de.__name)(fw,"toBase64");var fx=["foreignobject"],fy=["dominant-baseline"];function fz(a){let b=fv(a);return(0,dd.reset)(),(0,dd.addDirective)(b.config??{}),b}async function fA(a,b){fj();try{let{code:b,config:c}=fz(a);return{diagramType:(await fL(b)).type,config:c}}catch(a){if(b?.suppressErrors)return!1;throw a}}(0,de.__name)(fz,"processAndSetConfigs"),(0,de.__name)(fA,"parse");var fB=(0,de.__name)((a,b,c=[])=>`
.${a} ${b} { ${c.join(" !important; ")} !important; }`,"cssImportantStyles"),fC=(0,de.__name)((a,b=new Map)=>{let c="";if(void 0!==a.themeCSS&&(c+=`
${a.themeCSS}`),void 0!==a.fontFamily&&(c+=`
:root { --mermaid-font-family: ${a.fontFamily}}`),void 0!==a.altFontFamily&&(c+=`
:root { --mermaid-alt-font-family: ${a.altFontFamily}}`),b instanceof Map){let d=a.htmlLabels??a.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];b.forEach(a=>{(0,dI.default)(a.styles)||d.forEach(b=>{c+=fB(a.id,b,a.styles)}),(0,dI.default)(a.textStyles)||(c+=fB(a.id,"tspan",(a?.textStyles||[]).map(a=>a.replace("color","fill"))))})}return c},"createCssStyles"),fD=(0,de.__name)((a,b,c,d)=>{var e,f,g;let h=fC(a,c),i=(0,dd.styles_default)(b,h,a.themeVariables);return dF((g=function a(b,c,d,e,f,g,h,i,j){for(var k,l,m,n,o,p,q=0,r=0,s=h,t=0,u=0,v=0,w=1,x=1,y=1,z=0,A="",B=f,C=g,D=e,E=A;x;)switch(v=z,z=dz()){case 40:if(108!=v&&58==dn(E,s-1)){-1!=(o=E+=dm(dC(z),"&","&\f"),p=dk(q?i[q-1]:0),o.indexOf("&\f",p))&&(y=-1);break}case 34:case 39:case 91:E+=dC(z);break;case 9:case 10:case 13:case 32:E+=function(a){for(;dw=dA();)if(dw<33)dz();else break;return dB(a)>2||dB(dw)>3?"":" "}(v);break;case 92:E+=function(a,b){for(var c;--b&&dz()&&!(dw<48)&&!(dw>102)&&(!(dw>57)||!(dw<65))&&(!(dw>70)||!(dw<97)););return c=dv+(b<6&&32==dA()&&32==dz()),dp(dx,a,c)}(dv-1,7);continue;case 47:switch(dA()){case 42:case 47:dr((k=function(a,b){for(;dz();)if(a+dw===57)break;else if(a+dw===84&&47===dA())break;return"/*"+dp(dx,b,dv-1)+"*"+dl(47===a?a:dz())}(dz(),dv),l=c,m=d,n=j,dy(k,l,m,dh,dl(dw),dp(k,2,-2),0,n)),j),(5==dB(v||1)||5==dB(dA()||1))&&dq(E)&&" "!==dp(E,-1,void 0)&&(E+=" ");break;default:E+="/"}break;case 123*w:i[q++]=dq(E)*y;case 125*w:case 59:case 0:switch(z){case 0:case 125:x=0;case 59+r:-1==y&&(E=dm(E,/\f/g,"")),u>0&&(dq(E)-s||0===w&&47===v)&&dr(u>32?dE(E+";",e,d,s-1,j):dE(dm(E," ","")+";",e,d,s-2,j),j);break;case 59:E+=";";default:if(dr(D=dD(E,c,d,q,r,f,i,A,B=[],C=[],s,g),g),123===z)if(0===r)a(E,c,D,D,B,g,s,i,C);else{switch(t){case 99:if(110===dn(E,3))break;case 108:if(97===dn(E,2))break;default:r=0;case 100:case 109:case 115:}r?a(b,D,D,e&&dr(dD(b,D,D,0,0,f,i,A,f,B=[],s,C),C),f,C,s,i,e?B:C):a(E,D,D,D,[""],C,0,i,C)}}q=r=u=0,w=y=1,A=E="",s=h;break;case 58:s=1+dq(E),u=v;default:if(w<1){if(123==z)--w;else if(125==z&&0==w++&&125==(dw=dv>0?dn(dx,--dv):0,dt--,10===dw&&(dt=1,ds--),dw))continue}switch(E+=dl(z),z*w){case 38:y=r>0?1:(E+="\f",-1);break;case 44:i[q++]=(dq(E)-1)*y,y=1;break;case 64:45===dA()&&(E+=dC(dz())),t=dA(),r=s=dq(A=E+=function(a){for(;!dB(dA());)dz();return dp(dx,a,dv)}(dv)),z++;break;case 45:45===v&&2==dq(E)&&(w=0)}}return g}("",null,null,null,[""],(f=e=`${d}{${i}}`,ds=dt=1,du=dq(dx=f),dv=0,e=[]),0,[0],e),dx="",g),dG)},"createUserStyles"),fE=(0,de.__name)((a="",b,c)=>{let d=a;return c||b||(d=d.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),d=(d=(0,dc.decodeEntities)(d)).replace(/<br>/g,"<br/>")},"cleanUpSvgCode"),fF=(0,de.__name)((a="",b)=>{let c=b?.viewBox?.baseVal?.height?b.viewBox.baseVal.height+"px":"100%",d=fw(`<body style="margin:0">${a}</body>`);return`<iframe style="width:100%;height:${c};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${d}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`},"putIntoIFrame"),fG=(0,de.__name)((a,b,c,d,e)=>{let f=a.append("div");f.attr("id",c),d&&f.attr("style",d);let g=f.append("svg").attr("id",b).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return e&&g.attr("xmlns:xlink",e),g.append("g"),a},"appendDivSvgG");function fH(a,b){return a.append("iframe").attr("id",b).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,de.__name)(fH,"sandboxedIframe");var fI=(0,de.__name)((a,b,c,d)=>{a.getElementById(b)?.remove(),a.getElementById(c)?.remove(),a.getElementById(d)?.remove()},"removeExistingElements"),fJ=(0,de.__name)(async function(a,b,c){let d,e;fj();let f=fz(b);b=f.code;let g=(0,dd.getConfig)();de.log.debug(g),b.length>(g?.maxTextSize??5e4)&&(b="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let h="#"+a,i="i"+a,j="#"+i,k="d"+a,l="#"+k,m=(0,de.__name)(()=>{let a=o?j:l,b=(0,dg.select)(a).node();b&&"remove"in b&&b.remove()},"removeTempElements"),n=(0,dg.select)("body"),o="sandbox"===g.securityLevel,p="loose"===g.securityLevel,q=g.fontFamily;if(void 0!==c){if(c&&(c.innerHTML=""),o){let a=fH((0,dg.select)(c),i);(n=(0,dg.select)(a.nodes()[0].contentDocument.body)).node().style.margin=0}else n=(0,dg.select)(c);fG(n,a,k,`font-family: ${q}`,"http://www.w3.org/1999/xlink")}else{if(fI(document,a,k,i),o){let a=fH((0,dg.select)("body"),i);(n=(0,dg.select)(a.nodes()[0].contentDocument.body)).node().style.margin=0}else n=(0,dg.select)("body");fG(n,a,k)}try{d=await fn.fromText(b,{title:f.title})}catch(a){if(g.suppressErrorRendering)throw m(),a;d=await fn.fromText("error"),e=a}let r=n.select(l).node(),s=d.type,t=r.firstChild,u=t.firstChild,v=fD(g,s,d.renderer.getClasses?.(b,d),h),w=document.createElement("style");w.innerHTML=v,t.insertBefore(w,u);try{await d.renderer.draw(b,a,c7.package_default.version,d)}catch(c){throw g.suppressErrorRendering?m():eE.draw(b,a,c7.package_default.version),c}fM(s,n.select(`${l} svg`),d.db.getAccTitle?.(),d.db.getAccDescription?.()),n.select(`[id="${a}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let x=n.select(l).node().innerHTML;if(de.log.debug("config.arrowMarkerAbsolute",g.arrowMarkerAbsolute),x=fE(x,o,(0,dd.evaluate)(g.arrowMarkerAbsolute)),o?x=fF(x,n.select(l+" svg").node()):p||(x=dH.default.sanitize(x,{ADD_TAGS:fx,ADD_ATTR:fy,HTML_INTEGRATION_POINTS:{foreignobject:!0}})),fp(),e)throw e;return m(),{diagramType:s,svg:x,bindFunctions:d.db.bindFunctions}},"render");function fK(a={}){let b=(0,dd.assignWithDepth_default)({},a);b?.fontFamily&&!b.themeVariables?.fontFamily&&(b.themeVariables||(b.themeVariables={}),b.themeVariables.fontFamily=b.fontFamily),(0,dd.saveConfigFromInitialize)(b),b?.theme&&b.theme in dd.themes_default?b.themeVariables=dd.themes_default[b.theme].getThemeVariables(b.themeVariables):b&&(b.themeVariables=dd.themes_default.default.getThemeVariables(b.themeVariables));let c="object"==typeof b?(0,dd.setSiteConfig)(b):(0,dd.getSiteConfig)();(0,de.setLogLevel)(c.logLevel),fj()}(0,de.__name)(fK,"initialize");var fL=(0,de.__name)((a,b={})=>{let{code:c}=fv(a);return fn.fromText(c,b)},"getDiagramFromText");function fM(a,b,c,d){fl(b,a),fm(b,c,d,b.attr("id"))}(0,de.__name)(fM,"addA11yInfo");var fN=Object.freeze({render:fJ,parse:fA,getDiagramFromText:fL,initialize:fK,getConfig:dd.getConfig,setConfig:dd.setConfig,getSiteConfig:dd.getSiteConfig,updateSiteConfig:dd.updateSiteConfig,reset:(0,de.__name)(()=>{(0,dd.reset)()},"reset"),globalReset:(0,de.__name)(()=>{(0,dd.reset)(dd.defaultConfig)},"globalReset"),defaultConfig:dd.defaultConfig});(0,de.setLogLevel)((0,dd.getConfig)().logLevel),(0,dd.reset)((0,dd.getConfig)());var fO=(0,de.__name)((a,b,c)=>{de.log.warn(a),(0,dc.isDetailedError)(a)?(c&&c(a.str,a.hash),b.push({...a,message:a.str,error:a})):(c&&c(a),a instanceof Error&&b.push({str:a.message,message:a.message,hash:a.name,error:a}))},"handleError"),fP=(0,de.__name)(async function(a={querySelector:".mermaid"}){try{await fQ(a)}catch(b){if((0,dc.isDetailedError)(b)&&de.log.error(b.str),f0.parseError&&f0.parseError(b),!a.suppressErrors)throw de.log.error("Use the suppressErrors option to suppress these errors"),b}},"run"),fQ=(0,de.__name)(async function({postRenderCallback:a,querySelector:b,nodes:c}={querySelector:".mermaid"}){let d,e,f=fN.getConfig();if(de.log.debug(`${!a?"No ":""}Callback function found`),c)d=c;else if(b)d=document.querySelectorAll(b);else throw Error("Nodes and querySelector are both undefined");de.log.debug(`Found ${d.length} diagrams`),f?.startOnLoad!==void 0&&(de.log.debug("Start On Load: "+f?.startOnLoad),fN.updateSiteConfig({startOnLoad:f?.startOnLoad}));let g=new dc.utils_default.InitIDGenerator(f.deterministicIds,f.deterministicIDSeed),h=[];for(let b of Array.from(d)){if(de.log.info("Rendering diagram: "+b.id),b.getAttribute("data-processed"))continue;b.setAttribute("data-processed","true");let c=`mermaid-${g.next()}`;e=b.innerHTML,e=(0,df.dedent)(dc.utils_default.entityDecode(e)).trim().replace(/<br\s*\/?>/gi,"<br/>");let d=dc.utils_default.detectInit(e);d&&de.log.debug("Detected early reinit: ",d);try{let{svg:d,bindFunctions:f}=await f$(c,e,b);b.innerHTML=d,a&&await a(c),f&&f(b)}catch(a){fO(a,h,f0.parseError)}}if(h.length>0)throw h[0]},"runThrowsErrors"),fR=(0,de.__name)(function(a){fN.initialize(a)},"initialize"),fS=(0,de.__name)(async function(a,b,c){de.log.warn("mermaid.init is deprecated. Please use run instead."),a&&fR(a);let d={postRenderCallback:c,querySelector:".mermaid"};"string"==typeof b?d.querySelector=b:b&&(b instanceof HTMLElement?d.nodes=[b]:d.nodes=b),await fP(d)},"init"),fT=(0,de.__name)(async(a,{lazyLoad:b=!0}={})=>{fj(),(0,dd.registerLazyLoadedDiagrams)(...a),!1===b&&await fk()},"registerExternalDiagrams"),fU=(0,de.__name)(function(){if(f0.startOnLoad){let{startOnLoad:a}=fN.getConfig();a&&f0.run().catch(a=>de.log.error("Mermaid failed to initialize",a))}},"contentLoaded");"u">typeof document&&window.addEventListener("load",fU,!1);var fV=(0,de.__name)(function(a){f0.parseError=a},"setParseErrorHandler"),fW=[],fX=!1,fY=(0,de.__name)(async()=>{if(!fX){for(fX=!0;fW.length>0;){let a=fW.shift();if(a)try{await a()}catch(a){de.log.error("Error executing queue",a)}}fX=!1}},"executeQueue"),fZ=(0,de.__name)(async(a,b)=>new Promise((c,d)=>{let e=(0,de.__name)(()=>new Promise((e,f)=>{fN.parse(a,b).then(a=>{e(a),c(a)},a=>{de.log.error("Error parsing",a),f0.parseError?.(a),f(a),d(a)})}),"performCall");fW.push(e),fY().catch(d)}),"parse"),f$=(0,de.__name)((a,b,c)=>new Promise((d,e)=>{let f=(0,de.__name)(()=>new Promise((f,g)=>{fN.render(a,b,c).then(a=>{f(a),d(a)},a=>{de.log.error("Error parsing",a),f0.parseError?.(a),g(a),e(a)})}),"performCall");fW.push(f),fY().catch(e)}),"render"),f_=(0,de.__name)(()=>Object.keys(dd.detectors).map(a=>({id:a})),"getRegisteredDiagramsMetadata"),f0={startOnLoad:!0,mermaidAPI:fN,parse:fZ,render:f$,init:fS,run:fP,registerExternalDiagrams:fT,registerLayoutLoaders:da.registerLayoutLoaders,initialize:fR,parseError:void 0,contentLoaded:fU,setParseErrorHandler:fV,detectType:dd.detectType,registerIconPacks:db.registerIconPacks,getRegisteredDiagramsMetadata:f_};function f1({chart:a,className:b=""}){let c=(0,aO.useRef)(null),[d,e]=(0,aO.useState)(!0),[f,g]=(0,aO.useState)(null);return((0,aO.useEffect)(()=>{f0.initialize({startOnLoad:!1,theme:"base",themeVariables:{primaryColor:"#f5f5f4",primaryTextColor:"#1c1917",primaryBorderColor:"#a8a29e",lineColor:"#78716c",secondaryColor:"#fafaf9",tertiaryColor:"#e7e5e4",fontFamily:"ui-sans-serif, system-ui, sans-serif",fontSize:"14px"},flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"basis"},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1}})},[]),(0,aO.useEffect)(()=>{c.current&&a&&(e(!0),g(null),(async()=>{try{let b=`mermaid-${Math.random().toString(36).substr(2,9)}`,{svg:d}=await f0.render(b,a);c.current&&(c.current.innerHTML=d)}catch(a){g("Failed to render diagram"),console.error("Mermaid render error:",a)}finally{e(!1)}})())},[a]),a)?(0,aN.jsxs)(cX,{className:`p-6 overflow-auto ${b}`,children:[d&&(0,aN.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,aN.jsx)(aV,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),f&&(0,aN.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,aN.jsx)("p",{className:"text-destructive text-sm",children:f})}),(0,aN.jsx)("div",{ref:c,className:`mermaid-diagram ${d?"hidden":""}`,style:{display:"flex",justifyContent:"center"}})]}):(0,aN.jsx)(cX,{className:"p-8 flex items-center justify-center min-h-[200px] border-dashed border-2",children:(0,aN.jsx)("p",{className:"text-muted-foreground text-sm",children:"다이어그램이 생성되지 않았습니다"})})}let f2=aT("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function f3({useCase:a}){return(0,aN.jsxs)("div",{className:"space-y-6",children:[(0,aN.jsxs)("div",{children:[(0,aN.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:a.title}),(0,aN.jsx)("p",{className:"text-muted-foreground mt-2 text-sm leading-relaxed",children:a.description})]}),(0,aN.jsxs)("div",{className:"flex items-center gap-2",children:[(0,aN.jsx)(c_,{className:"h-4 w-4 text-muted-foreground"}),(0,aN.jsx)("span",{className:"text-sm text-muted-foreground",children:"Actors:"}),(0,aN.jsx)("div",{className:"flex gap-2",children:a.actors.map((a,b)=>(0,aN.jsx)(cZ,{variant:"secondary",className:"text-xs font-normal",children:a},b))})]}),(0,aN.jsx)(c6,{}),(0,aN.jsxs)("div",{children:[(0,aN.jsx)("h3",{className:"text-sm font-medium mb-4 uppercase tracking-wide text-muted-foreground",children:"동작 흐름"}),(0,aN.jsx)("div",{className:"space-y-3",children:a.flow.map((a,b)=>(0,aN.jsx)(cX,{className:"p-4 border-0 shadow-elegant hover:shadow-elegant-hover transition-shadow",children:(0,aN.jsxs)("div",{className:"flex items-start gap-4",children:[(0,aN.jsx)("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-secondary text-xs font-medium shrink-0",children:a.order}),(0,aN.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,aN.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,aN.jsx)(cZ,{variant:"outline",className:"text-xs font-normal",children:a.actor}),(0,aN.jsx)(f2,{className:"h-3 w-3 text-muted-foreground"}),(0,aN.jsx)("span",{className:"font-medium",children:a.action})]}),a.result&&(0,aN.jsxs)("p",{className:"text-xs text-muted-foreground mt-2 pl-1",children:["→ ",a.result]})]})]})},b))})]}),(0,aN.jsx)(c6,{}),(0,aN.jsxs)("div",{children:[(0,aN.jsx)("h3",{className:"text-sm font-medium mb-4 uppercase tracking-wide text-muted-foreground",children:"시퀀스 다이어그램"}),(0,aN.jsx)(f1,{chart:a.mermaidDiagram})]})]})}aO[" useEffectEvent ".trim().toString()],aO[" useInsertionEffect ".trim().toString()];var f4=aO[" useInsertionEffect ".trim().toString()]||cd;function f5({prop:a,defaultProp:b,onChange:c=()=>{},caller:d}){let[e,f,g]=function({defaultProp:a,onChange:b}){let[c,d]=aO.useState(a),e=aO.useRef(c),f=aO.useRef(b);return f4(()=>{f.current=b},[b]),aO.useEffect(()=>{e.current!==c&&(f.current?.(c),e.current=c)},[c,e]),[c,d,f]}({defaultProp:b,onChange:c}),h=void 0!==a,i=h?a:e;{let b=aO.useRef(void 0!==a);aO.useEffect(()=>{let a=b.current;if(a!==h){let b=h?"controlled":"uncontrolled";console.warn(`${d} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=h},[h,d])}return[i,aO.useCallback(b=>{if(h){let c="function"==typeof b?b(a):b;c!==a&&g.current?.(c)}else f(b)},[h,a,f,g])]}function f6(a){let b=aO.useRef({value:a,previous:a});return aO.useMemo(()=>(b.current.value!==a&&(b.current.previous=b.current.value,b.current.value=a),b.current.previous),[a])}function f7(a){let[b,c]=aO.useState(void 0);return cd(()=>{if(a){c({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let d,e;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;d=b.inlineSize,e=b.blockSize}else d=a.offsetWidth,e=a.offsetHeight;c({width:d,height:e})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}c(void 0)},[a]),b}Symbol("RADIX:SYNC_STATE");var f8="Checkbox",[f9,ga]=cg(f8),[gb,gc]=f9(f8);function gd(a){let{__scopeCheckbox:b,checked:c,children:d,defaultChecked:e,disabled:f,form:g,name:h,onCheckedChange:i,required:j,value:k="on",internal_do_not_use_render:l}=a,[m,n]=f5({prop:c,defaultProp:e??!1,onChange:i,caller:f8}),[o,p]=aO.useState(null),[q,r]=aO.useState(null),s=aO.useRef(!1),t=!o||!!g||!!o.closest("form"),u={checked:m,disabled:f,setChecked:n,control:o,setControl:p,name:h,form:g,value:k,hasConsumerStoppedPropagationRef:s,required:j,defaultChecked:!gl(e)&&e,isFormControl:t,bubbleInput:q,setBubbleInput:r};return(0,aN.jsx)(gb,{scope:b,...u,children:"function"==typeof l?l(u):d})}var ge="CheckboxTrigger",gf=aO.forwardRef(({__scopeCheckbox:a,onKeyDown:b,onClick:c,...d},e)=>{let{control:f,value:g,disabled:h,checked:i,required:j,setControl:k,setChecked:l,hasConsumerStoppedPropagationRef:m,isFormControl:n,bubbleInput:o}=gc(ge,a),p=a_(e,k),q=aO.useRef(i);return aO.useEffect(()=>{let a=f?.form;if(a){let b=()=>l(q.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[f,l]),(0,aN.jsx)(cc.button,{type:"button",role:"checkbox","aria-checked":gl(i)?"mixed":i,"aria-required":j,"data-state":gm(i),"data-disabled":h?"":void 0,disabled:h,value:g,...d,ref:p,onKeyDown:cl(b,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:cl(c,a=>{l(a=>!!gl(a)||!a),o&&n&&(m.current=a.isPropagationStopped(),m.current||a.stopPropagation())})})});gf.displayName=ge;var gg=aO.forwardRef((a,b)=>{let{__scopeCheckbox:c,name:d,checked:e,defaultChecked:f,required:g,disabled:h,value:i,onCheckedChange:j,form:k,...l}=a;return(0,aN.jsx)(gd,{__scopeCheckbox:c,checked:e,defaultChecked:f,disabled:h,required:g,onCheckedChange:j,name:d,form:k,value:i,internal_do_not_use_render:({isFormControl:a})=>(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(gf,{...l,ref:b,__scopeCheckbox:c}),a&&(0,aN.jsx)(gk,{__scopeCheckbox:c})]})})});gg.displayName=f8;var gh="CheckboxIndicator",gi=aO.forwardRef((a,b)=>{let{__scopeCheckbox:c,forceMount:d,...e}=a,f=gc(gh,c);return(0,aN.jsx)(ce,{present:d||gl(f.checked)||!0===f.checked,children:(0,aN.jsx)(cc.span,{"data-state":gm(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b,style:{pointerEvents:"none",...a.style}})})});gi.displayName=gh;var gj="CheckboxBubbleInput",gk=aO.forwardRef(({__scopeCheckbox:a,...b},c)=>{let{control:d,hasConsumerStoppedPropagationRef:e,checked:f,defaultChecked:g,required:h,disabled:i,name:j,value:k,form:l,bubbleInput:m,setBubbleInput:n}=gc(gj,a),o=a_(c,n),p=f6(f),q=f7(d);aO.useEffect(()=>{if(!m)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!e.current;if(p!==f&&a){let c=new Event("click",{bubbles:b});m.indeterminate=gl(f),a.call(m,!gl(f)&&f),m.dispatchEvent(c)}},[m,p,f,e]);let r=aO.useRef(!gl(f)&&f);return(0,aN.jsx)(cc.input,{type:"checkbox","aria-hidden":!0,defaultChecked:g??r.current,required:h,disabled:i,name:j,value:k,form:l,...b,tabIndex:-1,ref:o,style:{...b.style,...q,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function gl(a){return"indeterminate"===a}function gm(a){return gl(a)?"indeterminate":a?"checked":"unchecked"}gk.displayName=gj;let gn=aT("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),go=aO.forwardRef(({className:a,...b},c)=>(0,aN.jsx)(gg,{ref:c,className:b7("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...b,children:(0,aN.jsx)(gi,{className:b7("flex items-center justify-center text-current"),children:(0,aN.jsx)(gn,{className:"h-4 w-4"})})}));go.displayName=gg.displayName;let gp=aT("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),gq=aT("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);function gr({useCase:a,onGenerateRequirements:b,onToggleRequirement:c,isGenerating:d=!1}){let[e,f]=(0,aO.useState)(""),[g,h]=(0,aO.useState)("all"),i=a.requirements.filter(a=>"all"===g||a.type===g),j=a.requirements.filter(a=>a.selected).length;return(0,aN.jsxs)("div",{className:"space-y-6",children:[(0,aN.jsxs)(cX,{className:"p-5 border-0 shadow-elegant",children:[(0,aN.jsxs)("h3",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[(0,aN.jsx)(gp,{className:"h-4 w-4"}),"요구사항 도출"]}),(0,aN.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"이 유즈케이스에 대해 추가로 알려주시면 AI가 요구사항을 생성합니다."}),(0,aN.jsx)(ca,{value:e,onChange:a=>f(a.target.value),placeholder:"예: 보안 요구사항, 성능 기준, 에러 처리 방식 등...",className:"min-h-[80px] text-sm mb-3 resize-none"}),(0,aN.jsx)(b9,{onClick:()=>{e.trim()&&(b(e.trim()),f(""))},disabled:!e.trim()||d,className:"w-full",size:"sm",children:d?(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(aV,{className:"h-4 w-4 mr-2 animate-spin"}),"생성 중..."]}):(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(gp,{className:"h-4 w-4 mr-2"}),"요구사항 생성"]})})]}),a.requirements.length>0&&(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(c6,{}),(0,aN.jsxs)("div",{className:"flex items-center justify-between",children:[(0,aN.jsxs)("div",{className:"flex items-center gap-2",children:[(0,aN.jsx)(gq,{className:"h-4 w-4 text-muted-foreground"}),(0,aN.jsx)("div",{className:"flex gap-1",children:["all","functional","non-functional"].map(a=>(0,aN.jsx)(b9,{variant:g===a?"secondary":"ghost",size:"sm",onClick:()=>h(a),className:"text-xs h-7 capitalize",children:"all"===a?"전체":"functional"===a?"기능":"비기능"},a))})]}),(0,aN.jsxs)("span",{className:"text-xs text-muted-foreground",children:[j," / ",a.requirements.length," 선택됨"]})]}),(0,aN.jsx)("div",{className:"space-y-2",children:i.map(a=>(0,aN.jsx)(cX,{className:`p-4 border-0 shadow-elegant transition-all cursor-pointer ${a.selected?"ring-1 ring-primary":""}`,onClick:()=>c(a.id),children:(0,aN.jsxs)("div",{className:"flex items-start gap-3",children:[(0,aN.jsx)(go,{checked:a.selected,className:"mt-0.5",onCheckedChange:()=>c(a.id)}),(0,aN.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,aN.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,aN.jsx)(cZ,{variant:"outline",className:"text-xs capitalize",children:"functional"===a.type?"기능":"비기능"}),(0,aN.jsx)(cZ,{variant:"outline",className:`text-xs ${(a=>{switch(a){case"high":return"bg-destructive/10 text-destructive border-destructive/20";case"medium":return"bg-amber-500/10 text-amber-600 border-amber-500/20";case"low":return"bg-emerald-500/10 text-emerald-600 border-emerald-500/20";default:return"bg-secondary text-secondary-foreground"}})(a.priority)}`,children:"high"===a.priority?"높음":"medium"===a.priority?"중간":"낮음"})]}),(0,aN.jsx)("p",{className:`text-sm ${a.selected?"text-foreground":"text-muted-foreground"}`,children:a.description})]})]})},a.id))})]})]})}let gs={openaiApiKey:"",model:"gpt-5.2"};function gt({className:a,type:b,...c}){return(0,aN.jsx)("input",{type:b,"data-slot":"input",className:b7("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}var gu=aO.forwardRef((a,b)=>(0,aN.jsx)(cc.label,{...a,ref:b,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));gu.displayName="Label",a.s(["Label",()=>gu,"Root",()=>gu],49105);var gv=a.i(49105),gv=gv;function gw({className:a,...b}){return(0,aN.jsx)(gv.Root,{"data-slot":"label",className:b7("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}let gx=aT("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var gy=aO[" useId ".trim().toString()]||(()=>void 0),gz=0;function gA(a){let[b,c]=aO.useState(gy());return cd(()=>{a||c(a=>a??String(gz++))},[a]),a||(b?`radix-${b}`:"")}var gB="dismissableLayer.update",gC=aO.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gD=aO.forwardRef((a,b)=>{let{disableOutsidePointerEvents:c=!1,onEscapeKeyDown:d,onPointerDownOutside:e,onFocusOutside:f,onInteractOutside:g,onDismiss:h,...i}=a,j=aO.useContext(gC),[k,l]=aO.useState(null),m=k?.ownerDocument??globalThis?.document,[,n]=aO.useState({}),o=a_(b,a=>l(a)),q=Array.from(j.layers),[r]=[...j.layersWithOutsidePointerEventsDisabled].slice(-1),s=q.indexOf(r),t=k?q.indexOf(k):-1,u=j.layersWithOutsidePointerEventsDisabled.size>0,v=t>=s,w=function(a,b=globalThis?.document){let c=ch(a),d=aO.useRef(!1),e=aO.useRef(()=>{});return aO.useEffect(()=>{let a=a=>{if(a.target&&!d.current){let d=function(){gF("dismissableLayer.pointerDownOutside",c,f,{discrete:!0})},f={originalEvent:a};"touch"===a.pointerType?(b.removeEventListener("click",e.current),e.current=d,b.addEventListener("click",e.current,{once:!0})):d()}else b.removeEventListener("click",e.current);d.current=!1},f=window.setTimeout(()=>{b.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(f),b.removeEventListener("pointerdown",a),b.removeEventListener("click",e.current)}},[b,c]),{onPointerDownCapture:()=>d.current=!0}}(a=>{let b=a.target,c=[...j.branches].some(a=>a.contains(b));v&&!c&&(e?.(a),g?.(a),a.defaultPrevented||h?.())},m),x=function(a,b=globalThis?.document){let c=ch(a),d=aO.useRef(!1);return aO.useEffect(()=>{let a=a=>{a.target&&!d.current&&gF("dismissableLayer.focusOutside",c,{originalEvent:a},{discrete:!1})};return b.addEventListener("focusin",a),()=>b.removeEventListener("focusin",a)},[b,c]),{onFocusCapture:()=>d.current=!0,onBlurCapture:()=>d.current=!1}}(a=>{let b=a.target;![...j.branches].some(a=>a.contains(b))&&(f?.(a),g?.(a),a.defaultPrevented||h?.())},m);return!function(a,b=globalThis?.document){let c=ch(a);aO.useEffect(()=>{let a=a=>{"Escape"===a.key&&c(a)};return b.addEventListener("keydown",a,{capture:!0}),()=>b.removeEventListener("keydown",a,{capture:!0})},[c,b])}(a=>{t===j.layers.size-1&&(d?.(a),!a.defaultPrevented&&h&&(a.preventDefault(),h()))},m),aO.useEffect(()=>{if(k)return c&&(0===j.layersWithOutsidePointerEventsDisabled.size&&(p=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),j.layersWithOutsidePointerEventsDisabled.add(k)),j.layers.add(k),gE(),()=>{c&&1===j.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=p)}},[k,m,c,j]),aO.useEffect(()=>()=>{k&&(j.layers.delete(k),j.layersWithOutsidePointerEventsDisabled.delete(k),gE())},[k,j]),aO.useEffect(()=>{let a=()=>n({});return document.addEventListener(gB,a),()=>document.removeEventListener(gB,a)},[]),(0,aN.jsx)(cc.div,{...i,ref:o,style:{pointerEvents:u?v?"auto":"none":void 0,...a.style},onFocusCapture:cl(a.onFocusCapture,x.onFocusCapture),onBlurCapture:cl(a.onBlurCapture,x.onBlurCapture),onPointerDownCapture:cl(a.onPointerDownCapture,w.onPointerDownCapture)})});function gE(){let a=new CustomEvent(gB);document.dispatchEvent(a)}function gF(a,b,c,{discrete:d}){let e=c.originalEvent.target,f=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:c});if(b&&e.addEventListener(a,b,{once:!0}),d)e&&cb.flushSync(()=>e.dispatchEvent(f));else e.dispatchEvent(f)}gD.displayName="DismissableLayer",aO.forwardRef((a,b)=>{let c=aO.useContext(gC),d=aO.useRef(null),e=a_(b,d);return aO.useEffect(()=>{let a=d.current;if(a)return c.branches.add(a),()=>{c.branches.delete(a)}},[c.branches]),(0,aN.jsx)(cc.div,{...a,ref:e})}).displayName="DismissableLayerBranch";var gG="focusScope.autoFocusOnMount",gH="focusScope.autoFocusOnUnmount",gI={bubbles:!1,cancelable:!0},gJ=aO.forwardRef((a,b)=>{let{loop:c=!1,trapped:d=!1,onMountAutoFocus:e,onUnmountAutoFocus:f,...g}=a,[h,i]=aO.useState(null),j=ch(e),k=ch(f),l=aO.useRef(null),m=a_(b,a=>i(a)),n=aO.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;aO.useEffect(()=>{if(d){let a=function(a){if(n.paused||!h)return;let b=a.target;h.contains(b)?l.current=b:gM(l.current,{select:!0})},b=function(a){if(n.paused||!h)return;let b=a.relatedTarget;null!==b&&(h.contains(b)||gM(l.current,{select:!0}))};document.addEventListener("focusin",a),document.addEventListener("focusout",b);let c=new MutationObserver(function(a){if(document.activeElement===document.body)for(let b of a)b.removedNodes.length>0&&gM(h)});return h&&c.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",b),c.disconnect()}}},[d,h,n.paused]),aO.useEffect(()=>{if(h){gN.add(n);let a=document.activeElement;if(!h.contains(a)){let b=new CustomEvent(gG,gI);h.addEventListener(gG,j),h.dispatchEvent(b),b.defaultPrevented||(function(a,{select:b=!1}={}){let c=document.activeElement;for(let d of a)if(gM(d,{select:b}),document.activeElement!==c)return}(gK(h).filter(a=>"A"!==a.tagName),{select:!0}),document.activeElement===a&&gM(h))}return()=>{h.removeEventListener(gG,j),setTimeout(()=>{let b=new CustomEvent(gH,gI);h.addEventListener(gH,k),h.dispatchEvent(b),b.defaultPrevented||gM(a??document.body,{select:!0}),h.removeEventListener(gH,k),gN.remove(n)},0)}}},[h,j,k,n]);let o=aO.useCallback(a=>{if(!c&&!d||n.paused)return;let b="Tab"===a.key&&!a.altKey&&!a.ctrlKey&&!a.metaKey,e=document.activeElement;if(b&&e){var f;let b,d=a.currentTarget,[g,h]=[gL(b=gK(f=d),f),gL(b.reverse(),f)];g&&h?a.shiftKey||e!==h?a.shiftKey&&e===g&&(a.preventDefault(),c&&gM(h,{select:!0})):(a.preventDefault(),c&&gM(g,{select:!0})):e===d&&a.preventDefault()}},[c,d,n.paused]);return(0,aN.jsx)(cc.div,{tabIndex:-1,...g,ref:m,onKeyDown:o})});function gK(a){let b=[],c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{let b="INPUT"===a.tagName&&"hidden"===a.type;return a.disabled||a.hidden||b?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;c.nextNode();)b.push(c.currentNode);return b}function gL(a,b){for(let c of a)if(!function(a,{upTo:b}){if("hidden"===getComputedStyle(a).visibility)return!0;for(;a&&(void 0===b||a!==b);){if("none"===getComputedStyle(a).display)return!0;a=a.parentElement}return!1}(c,{upTo:b}))return c}function gM(a,{select:b=!1}={}){if(a&&a.focus){var c;let d=document.activeElement;a.focus({preventScroll:!0}),a!==d&&(c=a)instanceof HTMLInputElement&&"select"in c&&b&&a.select()}}gJ.displayName="FocusScope";var gN=(h=[],{add(a){let b=h[0];a!==b&&b?.pause(),(h=gO(h,a)).unshift(a)},remove(a){h=gO(h,a),h[0]?.resume()}});function gO(a,b){let c=[...a],d=c.indexOf(b);return -1!==d&&c.splice(d,1),c}var gP=aO.forwardRef((a,b)=>{let{container:c,...d}=a,[e,f]=aO.useState(!1);cd(()=>f(!0),[]);let g=c||e&&globalThis?.document?.body;return g?cb.default.createPortal((0,aN.jsx)(cc.div,{...d,ref:b}),g):null});gP.displayName="Portal";var gQ=0;function gR(){aO.useEffect(()=>{let a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??gS()),document.body.insertAdjacentElement("beforeend",a[1]??gS()),gQ++,()=>{1===gQ&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),gQ--}},[])}function gS(){let a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var gT=function(){return(gT=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function gU(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}var gV=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),gW="width-before-scroll-bar";function gX(a,b){return"function"==typeof a?a(b):a&&(a.current=b),a}var gY=aO.useEffect,gZ=new WeakMap,g$=(void 0===i&&(i={}),(void 0===j&&(j=function(a){return a}),k=[],l=!1,m={read:function(){if(l)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return k.length?k[k.length-1]:null},useMedium:function(a){var b=j(a,l);return k.push(b),function(){k=k.filter(function(a){return a!==b})}},assignSyncMedium:function(a){for(l=!0;k.length;){var b=k;k=[],b.forEach(a)}k={push:function(b){return a(b)},filter:function(){return k}}},assignMedium:function(a){l=!0;var b=[];if(k.length){var c=k;k=[],c.forEach(a),b=k}var d=function(){var c=b;b=[],c.forEach(a)},e=function(){return Promise.resolve().then(d)};e(),k={push:function(a){b.push(a),e()},filter:function(a){return b=b.filter(a),k}}}}).options=gT({async:!0,ssr:!1},i),m),g_=function(){},g0=aO.forwardRef(function(a,b){var c,d,e,f,g=aO.useRef(null),h=aO.useState({onScrollCapture:g_,onWheelCapture:g_,onTouchMoveCapture:g_}),i=h[0],j=h[1],k=a.forwardProps,l=a.children,m=a.className,n=a.removeScrollBar,o=a.enabled,p=a.shards,q=a.sideCar,r=a.noRelative,s=a.noIsolation,t=a.inert,u=a.allowPinchZoom,v=a.as,w=a.gapMode,x=gU(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=(c=[g,b],d=function(a){return c.forEach(function(b){return gX(b,a)})},(e=(0,aO.useState)(function(){return{value:null,callback:d,facade:{get current(){return e.value},set current(value){var a=e.value;a!==value&&(e.value=value,e.callback(value,a))}}}})[0]).callback=d,f=e.facade,gY(function(){var a=gZ.get(f);if(a){var b=new Set(a),d=new Set(c),e=f.current;b.forEach(function(a){d.has(a)||gX(a,null)}),d.forEach(function(a){b.has(a)||gX(a,e)})}gZ.set(f,c)},[c]),f),z=gT(gT({},x),i);return aO.createElement(aO.Fragment,null,o&&aO.createElement(q,{sideCar:g$,removeScrollBar:n,shards:p,noRelative:r,noIsolation:s,inert:t,setCallbacks:j,allowPinchZoom:!!u,lockRef:g,gapMode:w}),k?aO.cloneElement(aO.Children.only(l),gT(gT({},z),{ref:y})):aO.createElement(void 0===v?"div":v,gT({},z,{className:m,ref:y}),l))});g0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},g0.classNames={fullWidth:gW,zeroRight:gV};var g1=function(a){var b=a.sideCar,c=gU(a,["sideCar"]);if(!b)throw Error("Sidecar: please provide `sideCar` property to import the right car");var d=b.read();if(!d)throw Error("Sidecar medium not found");return aO.createElement(d,gT({},c))};g1.isSideCarExport=!0;var g2=function(){var a=0,b=null;return{add:function(c){if(0==a&&(b=function(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var b=q||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return b&&a.setAttribute("nonce",b),a}())){var d,e;(d=b).styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(c)),e=b,(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}a++},remove:function(){--a||!b||(b.parentNode&&b.parentNode.removeChild(b),b=null)}}},g3=function(){var a=g2();return function(b,c){aO.useEffect(function(){return a.add(b),function(){a.remove()}},[b&&c])}},g4=function(){var a=g3();return function(b){return a(b.styles,b.dynamic),null}},g5={left:0,top:0,right:0,gap:0},g6=g4(),g7="data-scroll-locked",g8=function(a,b,c,d){var e=a.left,f=a.top,g=a.right,h=a.gap;return void 0===c&&(c="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(d,";\n   padding-right: ").concat(h,"px ").concat(d,";\n  }\n  body[").concat(g7,"] {\n    overflow: hidden ").concat(d,";\n    overscroll-behavior: contain;\n    ").concat([b&&"position: relative ".concat(d,";"),"margin"===c&&"\n    padding-left: ".concat(e,"px;\n    padding-top: ").concat(f,"px;\n    padding-right: ").concat(g,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(h,"px ").concat(d,";\n    "),"padding"===c&&"padding-right: ".concat(h,"px ").concat(d,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(gV," {\n    right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(gW," {\n    margin-right: ").concat(h,"px ").concat(d,";\n  }\n  \n  .").concat(gV," .").concat(gV," {\n    right: 0 ").concat(d,";\n  }\n  \n  .").concat(gW," .").concat(gW," {\n    margin-right: 0 ").concat(d,";\n  }\n  \n  body[").concat(g7,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(h,"px;\n  }\n")},g9=function(){var a=parseInt(document.body.getAttribute(g7)||"0",10);return isFinite(a)?a:0},ha=function(){aO.useEffect(function(){return document.body.setAttribute(g7,(g9()+1).toString()),function(){var a=g9()-1;a<=0?document.body.removeAttribute(g7):document.body.setAttribute(g7,a.toString())}},[])},hb=function(a){var b=a.noRelative,c=a.noImportant,d=a.gapMode,e=void 0===d?"margin":d;ha();var f=aO.useMemo(function(){return void 0===e,g5},[e]);return aO.createElement(g6,{styles:g8(f,!b,e,c?"":"!important")})},hc=function(a,b){if(!(a instanceof Element))return!1;var c=window.getComputedStyle(a);return"hidden"!==c[b]&&(c.overflowY!==c.overflowX||"TEXTAREA"===a.tagName||"visible"!==c[b])},hd=function(a,b){var c=b.ownerDocument,d=b;do{if("u">typeof ShadowRoot&&d instanceof ShadowRoot&&(d=d.host),he(a,d)){var e=hf(a,d);if(e[1]>e[2])return!0}d=d.parentNode}while(d&&d!==c.body)return!1},he=function(a,b){return"v"===a?hc(b,"overflowY"):hc(b,"overflowX")},hf=function(a,b){return"v"===a?[b.scrollTop,b.scrollHeight,b.clientHeight]:[b.scrollLeft,b.scrollWidth,b.clientWidth]},hg=function(a,b,c,d,e){var f,g=(f=window.getComputedStyle(b).direction,"h"===a&&"rtl"===f?-1:1),h=g*d,i=c.target,j=b.contains(i),k=!1,l=h>0,m=0,n=0;do{if(!i)break;var o=hf(a,i),p=o[0],q=o[1]-o[2]-g*p;(p||q)&&he(a,i)&&(m+=q,n+=p);var r=i.parentNode;i=r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}while(!j&&i!==document.body||j&&(b.contains(i)||b===i))return l&&(e&&1>Math.abs(m)||!e&&h>m)?k=!0:!l&&(e&&1>Math.abs(n)||!e&&-h>n)&&(k=!0),k},hh=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},hi=function(a){return[a.deltaX,a.deltaY]},hj=function(a){return a&&"current"in a?a.current:a},hk=0,hl=[];let hm=(n=function(a){var b=aO.useRef([]),c=aO.useRef([0,0]),d=aO.useRef(),e=aO.useState(hk++)[0],f=aO.useState(g4)[0],g=aO.useRef(a);aO.useEffect(function(){g.current=a},[a]),aO.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(e));var b=(function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))})([a.lockRef.current],(a.shards||[]).map(hj),!0).filter(Boolean);return b.forEach(function(a){return a.classList.add("allow-interactivity-".concat(e))}),function(){document.body.classList.remove("block-interactivity-".concat(e)),b.forEach(function(a){return a.classList.remove("allow-interactivity-".concat(e))})}}},[a.inert,a.lockRef.current,a.shards]);var h=aO.useCallback(function(a,b){if("touches"in a&&2===a.touches.length||"wheel"===a.type&&a.ctrlKey)return!g.current.allowPinchZoom;var e,f=hh(a),h=c.current,i="deltaX"in a?a.deltaX:h[0]-f[0],j="deltaY"in a?a.deltaY:h[1]-f[1],k=a.target,l=Math.abs(i)>Math.abs(j)?"h":"v";if("touches"in a&&"h"===l&&"range"===k.type)return!1;var m=window.getSelection(),n=m&&m.anchorNode;if(n&&(n===k||n.contains(k)))return!1;var o=hd(l,k);if(!o)return!0;if(o?e=l:(e="v"===l?"h":"v",o=hd(l,k)),!o)return!1;if(!d.current&&"changedTouches"in a&&(i||j)&&(d.current=e),!e)return!0;var p=d.current||e;return hg(p,b,a,"h"===p?i:j,!0)},[]),i=aO.useCallback(function(a){if(hl.length&&hl[hl.length-1]===f){var c="deltaY"in a?hi(a):hh(a),d=b.current.filter(function(b){var d;return b.name===a.type&&(b.target===a.target||a.target===b.shadowParent)&&(d=b.delta,d[0]===c[0]&&d[1]===c[1])})[0];if(d&&d.should){a.cancelable&&a.preventDefault();return}if(!d){var e=(g.current.shards||[]).map(hj).filter(Boolean).filter(function(b){return b.contains(a.target)});(e.length>0?h(a,e[0]):!g.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),j=aO.useCallback(function(a,c,d,e){var f={name:a,delta:c,target:d,should:e,shadowParent:function(a){for(var b=null;null!==a;)a instanceof ShadowRoot&&(b=a.host,a=a.host),a=a.parentNode;return b}(d)};b.current.push(f),setTimeout(function(){b.current=b.current.filter(function(a){return a!==f})},1)},[]),k=aO.useCallback(function(a){c.current=hh(a),d.current=void 0},[]),l=aO.useCallback(function(b){j(b.type,hi(b),b.target,h(b,a.lockRef.current))},[]),m=aO.useCallback(function(b){j(b.type,hh(b),b.target,h(b,a.lockRef.current))},[]);aO.useEffect(function(){return hl.push(f),a.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:m}),document.addEventListener("wheel",i,!1),document.addEventListener("touchmove",i,!1),document.addEventListener("touchstart",k,!1),function(){hl=hl.filter(function(a){return a!==f}),document.removeEventListener("wheel",i,!1),document.removeEventListener("touchmove",i,!1),document.removeEventListener("touchstart",k,!1)}},[]);var n=a.removeScrollBar,o=a.inert;return aO.createElement(aO.Fragment,null,o?aO.createElement(f,{styles:"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")}):null,n?aO.createElement(hb,{noRelative:a.noRelative,gapMode:a.gapMode}):null)},g$.useMedium(n),g1);var hn=aO.forwardRef(function(a,b){return aO.createElement(g0,gT({},a,{ref:b,sideCar:hm}))});hn.classNames=g0.classNames;var ho=new WeakMap,hp=new WeakMap,hq={},hr=0,hs=function(a){return a&&(a.host||hs(a.parentNode))},ht=function(a,b,c,d){var e=(Array.isArray(a)?a:[a]).map(function(a){if(b.contains(a))return a;var c=hs(a);return c&&b.contains(c)?c:(console.error("aria-hidden",a,"in not contained inside",b,". Doing nothing"),null)}).filter(function(a){return!!a});hq[c]||(hq[c]=new WeakMap);var f=hq[c],g=[],h=new Set,i=new Set(e),j=function(a){!a||h.has(a)||(h.add(a),j(a.parentNode))};e.forEach(j);var k=function(a){!a||i.has(a)||Array.prototype.forEach.call(a.children,function(a){if(h.has(a))k(a);else try{var b=a.getAttribute(d),e=null!==b&&"false"!==b,i=(ho.get(a)||0)+1,j=(f.get(a)||0)+1;ho.set(a,i),f.set(a,j),g.push(a),1===i&&e&&hp.set(a,!0),1===j&&a.setAttribute(c,"true"),e||a.setAttribute(d,"true")}catch(b){console.error("aria-hidden: cannot operate on ",a,b)}})};return k(b),h.clear(),hr++,function(){g.forEach(function(a){var b=ho.get(a)-1,e=f.get(a)-1;ho.set(a,b),f.set(a,e),b||(hp.has(a)||a.removeAttribute(d),hp.delete(a)),e||a.removeAttribute(c)}),--hr||(ho=new WeakMap,ho=new WeakMap,hp=new WeakMap,hq={})}},hu=function(a,b,c){void 0===c&&(c="data-aria-hidden");var d=Array.from(Array.isArray(a)?a:[a]),e=b||("u"<typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return e?(d.push.apply(d,Array.from(e.querySelectorAll("[aria-live], script"))),ht(d,e,c,"aria-hidden")):function(){return null}},hv="Dialog",[hw,hx]=cg(hv),[hy,hz]=hw(hv),hA=a=>{let{__scopeDialog:b,children:c,open:d,defaultOpen:e,onOpenChange:f,modal:g=!0}=a,h=aO.useRef(null),i=aO.useRef(null),[j,k]=f5({prop:d,defaultProp:e??!1,onChange:f,caller:hv});return(0,aN.jsx)(hy,{scope:b,triggerRef:h,contentRef:i,contentId:gA(),titleId:gA(),descriptionId:gA(),open:j,onOpenChange:k,onOpenToggle:aO.useCallback(()=>k(a=>!a),[k]),modal:g,children:c})};hA.displayName=hv;var hB="DialogTrigger",hC=aO.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=hz(hB,c),f=a_(b,e.triggerRef);return(0,aN.jsx)(cc.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":hW(e.open),...d,ref:f,onClick:cl(a.onClick,e.onOpenToggle)})});hC.displayName=hB;var hD="DialogPortal",[hE,hF]=hw(hD,{forceMount:void 0}),hG=a=>{let{__scopeDialog:b,forceMount:c,children:d,container:e}=a,f=hz(hD,b);return(0,aN.jsx)(hE,{scope:b,forceMount:c,children:aO.Children.map(d,a=>(0,aN.jsx)(ce,{present:c||f.open,children:(0,aN.jsx)(gP,{asChild:!0,container:e,children:a})}))})};hG.displayName=hD;var hH="DialogOverlay",hI=aO.forwardRef((a,b)=>{let c=hF(hH,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=hz(hH,a.__scopeDialog);return f.modal?(0,aN.jsx)(ce,{present:d||f.open,children:(0,aN.jsx)(hK,{...e,ref:b})}):null});hI.displayName=hH;var hJ=a0("DialogOverlay.RemoveScroll"),hK=aO.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=hz(hH,c);return(0,aN.jsx)(hn,{as:hJ,allowPinchZoom:!0,shards:[e.contentRef],children:(0,aN.jsx)(cc.div,{"data-state":hW(e.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),hL="DialogContent",hM=aO.forwardRef((a,b)=>{let c=hF(hL,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,f=hz(hL,a.__scopeDialog);return(0,aN.jsx)(ce,{present:d||f.open,children:f.modal?(0,aN.jsx)(hN,{...e,ref:b}):(0,aN.jsx)(hO,{...e,ref:b})})});hM.displayName=hL;var hN=aO.forwardRef((a,b)=>{let c=hz(hL,a.__scopeDialog),d=aO.useRef(null),e=a_(b,c.contentRef,d);return aO.useEffect(()=>{let a=d.current;if(a)return hu(a)},[]),(0,aN.jsx)(hP,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cl(a.onCloseAutoFocus,a=>{a.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:cl(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:cl(a.onFocusOutside,a=>a.preventDefault())})}),hO=aO.forwardRef((a,b)=>{let c=hz(hL,a.__scopeDialog),d=aO.useRef(!1),e=aO.useRef(!1);return(0,aN.jsx)(hP,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),hP=aO.forwardRef((a,b)=>{let{__scopeDialog:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:f,...g}=a,h=hz(hL,c),i=aO.useRef(null),j=a_(b,i);return gR(),(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(gJ,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:f,children:(0,aN.jsx)(gD,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":hW(h.open),...g,ref:j,onDismiss:()=>h.onOpenChange(!1)})}),(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(h$,{titleId:h.titleId}),(0,aN.jsx)(h_,{contentRef:i,descriptionId:h.descriptionId})]})]})}),hQ="DialogTitle",hR=aO.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=hz(hQ,c);return(0,aN.jsx)(cc.h2,{id:e.titleId,...d,ref:b})});hR.displayName=hQ;var hS="DialogDescription",hT=aO.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=hz(hS,c);return(0,aN.jsx)(cc.p,{id:e.descriptionId,...d,ref:b})});hT.displayName=hS;var hU="DialogClose",hV=aO.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=hz(hU,c);return(0,aN.jsx)(cc.button,{type:"button",...d,ref:b,onClick:cl(a.onClick,()=>e.onOpenChange(!1))})});function hW(a){return a?"open":"closed"}hV.displayName=hU;var hX="DialogTitleWarning",[hY,hZ]=(o={contentName:hL,titleName:hQ,docsSlug:"dialog"},f=aO.createContext(o),(g=a=>{let{children:b,...c}=a,d=aO.useMemo(()=>c,Object.values(c));return(0,aN.jsx)(f.Provider,{value:d,children:b})}).displayName=hX+"Provider",[g,function(a){let b=aO.useContext(f);if(b)return b;if(void 0!==o)return o;throw Error(`\`${a}\` must be used within \`${hX}\``)}]),h$=({titleId:a})=>{let b=hZ(hX),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return aO.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},h_=({contentRef:a,descriptionId:b})=>{let c=hZ("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return aO.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null};a.s(["Close",()=>hV,"Content",()=>hM,"Description",()=>hT,"Dialog",()=>hA,"DialogClose",()=>hV,"DialogContent",()=>hM,"DialogDescription",()=>hT,"DialogOverlay",()=>hI,"DialogPortal",()=>hG,"DialogTitle",()=>hR,"DialogTrigger",()=>hC,"Overlay",()=>hI,"Portal",()=>hG,"Root",()=>hA,"Title",()=>hR,"Trigger",()=>hC,"WarningProvider",()=>hY,"createDialogScope",()=>hx],97942);var h0=a.i(97942),h0=h0;function h1({...a}){return(0,aN.jsx)(h0.Root,{"data-slot":"dialog",...a})}function h2({...a}){return(0,aN.jsx)(h0.Trigger,{"data-slot":"dialog-trigger",...a})}function h3({...a}){return(0,aN.jsx)(h0.Portal,{"data-slot":"dialog-portal",...a})}function h4({className:a,...b}){return(0,aN.jsx)(h0.Overlay,{"data-slot":"dialog-overlay",className:b7("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function h5({className:a,children:b,showCloseButton:c=!0,...d}){return(0,aN.jsxs)(h3,{"data-slot":"dialog-portal",children:[(0,aN.jsx)(h4,{}),(0,aN.jsxs)(h0.Content,{"data-slot":"dialog-content",className:b7("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",a),...d,children:[b,c&&(0,aN.jsxs)(h0.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,aN.jsx)(gx,{}),(0,aN.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h6({className:a,...b}){return(0,aN.jsx)("div",{"data-slot":"dialog-header",className:b7("flex flex-col gap-2 text-center sm:text-left",a),...b})}function h7({className:a,...b}){return(0,aN.jsx)(h0.Title,{"data-slot":"dialog-title",className:b7("text-lg leading-none font-semibold",a),...b})}function h8({className:a,...b}){return(0,aN.jsx)(h0.Description,{"data-slot":"dialog-description",className:b7("text-muted-foreground text-sm",a),...b})}let h9=aT("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ia=aT("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var ib=new WeakMap;function ic(a,b){var c,d;let e,f,g;if("at"in Array.prototype)return Array.prototype.at.call(a,b);let h=(c=a,d=b,e=c.length,(g=(f=id(d))>=0?f:e+f)<0||g>=e?-1:g);return -1===h?void 0:a[h]}function id(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],ib.set(this,!0)}set(a,b){return ib.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=id(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let k=[...this.#a],l=!1;for(let a=h;a<j;a++)if(h===a){let f=k[a];k[a]===b&&(f=k[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{l||k[a-1]!==b||(l=!0);let c=k[l?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=ic(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=ic(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return ic(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}});let ie=["top","right","bottom","left"],ig=Math.min,ih=Math.max,ii=Math.round,ij=Math.floor,ik=a=>({x:a,y:a}),il={left:"right",right:"left",bottom:"top",top:"bottom"},im={start:"end",end:"start"};function io(a,b){return"function"==typeof a?a(b):a}function ip(a){return a.split("-")[0]}function iq(a){return a.split("-")[1]}function ir(a){return"x"===a?"y":"x"}function is(a){return"y"===a?"height":"width"}let it=new Set(["top","bottom"]);function iu(a){return it.has(ip(a))?"y":"x"}function iv(a){return a.replace(/start|end/g,a=>im[a])}let iw=["left","right"],ix=["right","left"],iy=["top","bottom"],iz=["bottom","top"];function iA(a){return a.replace(/left|right|bottom|top/g,a=>il[a])}function iB(a){return"number"!=typeof a?{top:0,right:0,bottom:0,left:0,...a}:{top:a,right:a,bottom:a,left:a}}function iC(a){let{x:b,y:c,width:d,height:e}=a;return{width:d,height:e,top:c,left:b,right:b+d,bottom:c+e,x:b,y:c}}function iD(a,b,c){let d,{reference:e,floating:f}=a,g=iu(b),h=ir(iu(b)),i=is(h),j=ip(b),k="y"===g,l=e.x+e.width/2-f.width/2,m=e.y+e.height/2-f.height/2,n=e[i]/2-f[i]/2;switch(j){case"top":d={x:l,y:e.y-f.height};break;case"bottom":d={x:l,y:e.y+e.height};break;case"right":d={x:e.x+e.width,y:m};break;case"left":d={x:e.x-f.width,y:m};break;default:d={x:e.x,y:e.y}}switch(iq(b)){case"start":d[h]-=n*(c&&k?-1:1);break;case"end":d[h]+=n*(c&&k?-1:1)}return d}async function iE(a,b){var c;void 0===b&&(b={});let{x:d,y:e,platform:f,rects:g,elements:h,strategy:i}=a,{boundary:j="clippingAncestors",rootBoundary:k="viewport",elementContext:l="floating",altBoundary:m=!1,padding:n=0}=io(b,a),o=iB(n),p=h[m?"floating"===l?"reference":"floating":l],q=iC(await f.getClippingRect({element:null==(c=await (null==f.isElement?void 0:f.isElement(p)))||c?p:p.contextElement||await (null==f.getDocumentElement?void 0:f.getDocumentElement(h.floating)),boundary:j,rootBoundary:k,strategy:i})),r="floating"===l?{x:d,y:e,width:g.floating.width,height:g.floating.height}:g.reference,s=await (null==f.getOffsetParent?void 0:f.getOffsetParent(h.floating)),t=await (null==f.isElement?void 0:f.isElement(s))&&await (null==f.getScale?void 0:f.getScale(s))||{x:1,y:1},u=iC(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:r,offsetParent:s,strategy:i}):r);return{top:(q.top-u.top+o.top)/t.y,bottom:(u.bottom-q.bottom+o.bottom)/t.y,left:(q.left-u.left+o.left)/t.x,right:(u.right-q.right+o.right)/t.x}}let iF=async(a,b,c)=>{let{placement:d="bottom",strategy:e="absolute",middleware:f=[],platform:g}=c,h=f.filter(Boolean),i=await (null==g.isRTL?void 0:g.isRTL(b)),j=await g.getElementRects({reference:a,floating:b,strategy:e}),{x:k,y:l}=iD(j,d,i),m=d,n={},o=0;for(let c=0;c<h.length;c++){var p;let{name:f,fn:q}=h[c],{x:r,y:s,data:t,reset:u}=await q({x:k,y:l,initialPlacement:d,placement:m,strategy:e,middlewareData:n,rects:j,platform:{...g,detectOverflow:null!=(p=g.detectOverflow)?p:iE},elements:{reference:a,floating:b}});k=null!=r?r:k,l=null!=s?s:l,n={...n,[f]:{...n[f],...t}},u&&o<=50&&(o++,"object"==typeof u&&(u.placement&&(m=u.placement),u.rects&&(j=!0===u.rects?await g.getElementRects({reference:a,floating:b,strategy:e}):u.rects),{x:k,y:l}=iD(j,m,i)),c=-1)}return{x:k,y:l,placement:m,strategy:e,middlewareData:n}};function iG(a,b){return{top:a.top-b.height,right:a.right-b.width,bottom:a.bottom-b.height,left:a.left-b.width}}function iH(a){return ie.some(b=>a[b]>=0)}let iI=new Set(["left","top"]);async function iJ(a,b){let{placement:c,platform:d,elements:e}=a,f=await (null==d.isRTL?void 0:d.isRTL(e.floating)),g=ip(c),h=iq(c),i="y"===iu(c),j=iI.has(g)?-1:1,k=f&&i?-1:1,l=io(b,a),{mainAxis:m,crossAxis:n,alignmentAxis:o}="number"==typeof l?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:l.mainAxis||0,crossAxis:l.crossAxis||0,alignmentAxis:l.alignmentAxis};return h&&"number"==typeof o&&(n="end"===h?-1*o:o),i?{x:n*k,y:m*j}:{x:m*j,y:n*k}}function iK(a){return function(a){return!1}(a)?(a.nodeName||"").toLowerCase():"#document"}function iL(a){var b;return(null==a||null==(b=a.ownerDocument)?void 0:b.defaultView)||window}function iM(a){var b;return null==(b=(function(a){return!1}(a)?a.ownerDocument:a.document)||window.document)?void 0:b.documentElement}function iN(a){return!1}let iO=new Set(["inline","contents"]);function iP(a){let{overflow:b,overflowX:c,overflowY:d,display:e}=i$(a);return/auto|scroll|overlay|hidden|clip/.test(b+d+c)&&!iO.has(e)}let iQ=new Set(["table","td","th"]),iR=[":popover-open",":modal"];function iS(a){return iR.some(b=>{try{return a.matches(b)}catch(a){return!1}})}let iT=["transform","translate","scale","rotate","perspective"],iU=["transform","translate","scale","rotate","perspective","filter"],iV=["paint","layout","strict","content"];function iW(a){let b=iX(),c=a;return iT.some(a=>!!c[a]&&"none"!==c[a])||!!c.containerType&&"normal"!==c.containerType||!b&&!!c.backdropFilter&&"none"!==c.backdropFilter||!b&&!!c.filter&&"none"!==c.filter||iU.some(a=>(c.willChange||"").includes(a))||iV.some(a=>(c.contain||"").includes(a))}function iX(){return!("u"<typeof CSS)&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let iY=new Set(["html","body","#document"]);function iZ(a){return iY.has(iK(a))}function i$(a){return iL(a).getComputedStyle(a)}function i_(a){return{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function i0(a){if("html"===iK(a))return a;let b=a.assignedSlot||a.parentNode||!1||iM(a);return b}function i1(a,b,c){var d;void 0===b&&(b=[]),void 0===c&&(c=!0);let e=function a(b){let c=i0(b);return iZ(c)?b.ownerDocument?b.ownerDocument.body:b.body:a(c)}(a),f=e===(null==(d=a.ownerDocument)?void 0:d.body),g=iL(e);if(f){let a=i2(g);return b.concat(g,g.visualViewport||[],iP(e)?e:[],a&&c?i1(a):[])}return b.concat(e,i1(e,[],c))}function i2(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function i3(a){let b=i$(a),c=parseFloat(b.width)||0,d=parseFloat(b.height)||0,e=!1,f=e?a.offsetWidth:c,g=e?a.offsetHeight:d,h=ii(c)!==f||ii(d)!==g;return h&&(c=f,d=g),{width:c,height:d,$:h}}function i4(a){return 0,a.contextElement}function i5(a){let b=i4(a);1;return ik(1)}let i6=ik(0);function i7(a){let b=iL(a);return iX()&&b.visualViewport?{x:b.visualViewport.offsetLeft,y:b.visualViewport.offsetTop}:i6}function i8(a,b,c,d){var e;void 0===b&&(b=!1),void 0===c&&(c=!1);let f=a.getBoundingClientRect(),g=i4(a),h=ik(1);b&&(d||(h=i5(a)));let i=(void 0===(e=c)&&(e=!1),d&&(!e||d===iL(g))&&e)?i7(g):ik(0),j=(f.left+i.x)/h.x,k=(f.top+i.y)/h.y,l=f.width/h.x,m=f.height/h.y;if(g){let a=iL(g),b=d,c=a,e=i2(c);for(;e&&d&&b!==c;){let a=i5(e),b=e.getBoundingClientRect(),d=i$(e),f=b.left+(e.clientLeft+parseFloat(d.paddingLeft))*a.x,g=b.top+(e.clientTop+parseFloat(d.paddingTop))*a.y;j*=a.x,k*=a.y,l*=a.x,m*=a.y,j+=f,k+=g,e=i2(c=iL(e))}}return iC({width:l,height:m,x:j,y:k})}function i9(a,b){let c=i_(a).scrollLeft;return b?b.left+c:i8(iM(a)).left+c}function ja(a,b){let c=a.getBoundingClientRect();return{x:c.left+b.scrollLeft-i9(a,c),y:c.top+b.scrollTop}}function jb(a,b,c){var d;let e;if("viewport"===b)e=function(a,b){let c=iL(a),d=iM(a),e=c.visualViewport,f=d.clientWidth,g=d.clientHeight,h=0,i=0;if(e){f=e.width,g=e.height;let a=iX();(!a||a&&"fixed"===b)&&(h=e.offsetLeft,i=e.offsetTop)}let j=i9(d);if(j<=0){let a=d.ownerDocument,b=a.body,c=getComputedStyle(b),e="CSS1Compat"===a.compatMode&&parseFloat(c.marginLeft)+parseFloat(c.marginRight)||0,g=Math.abs(d.clientWidth-b.clientWidth-e);g<=25&&(f-=g)}else j<=25&&(f+=j);return{width:f,height:g,x:h,y:i}}(a,c);else if("document"===b){let b,c,f,g,h,i,j;d=iM(a),b=iM(d),c=i_(d),f=d.ownerDocument.body,g=ih(b.scrollWidth,b.clientWidth,f.scrollWidth,f.clientWidth),h=ih(b.scrollHeight,b.clientHeight,f.scrollHeight,f.clientHeight),i=-c.scrollLeft+i9(d),j=-c.scrollTop,"rtl"===i$(f).direction&&(i+=ih(b.clientWidth,f.clientWidth)-g),e={width:g,height:h,x:i,y:j}}else{1;{let c=i7(a);e={x:b.x-c.x,y:b.y-c.y,width:b.width,height:b.height}}}return iC(e)}function jc(a){return"static"===i$(a).position}function jd(a,b){1;return null}function je(a,b){var c;let d=iL(a);if(iS(a))return d;1;{let b=i0(a);for(;b&&!iZ(b);){0;b=i0(b)}return d}}let jf=async function(a){let b=this.getOffsetParent||je,c=this.getDimensions,d=await c(a.floating);return{reference:function(a,b,c){var d;let e=(d=0,!1),f=iM(b),g="fixed"===c,h=i8(a,!0,g,b),i={scrollLeft:0,scrollTop:0},j=ik(0);if(e||!e&&!g)if(("body"!==iK(b)||iP(f))&&(i=i_(b)),e){let a=i8(b,!0,g,b);j.x=a.x+b.clientLeft,j.y=a.y+b.clientTop}else f&&(j.x=i9(f));g&&!e&&f&&(j.x=i9(f));let k=!f||e||g?ik(0):ja(f,i);return{x:h.left+i.scrollLeft-j.x-k.x,y:h.top+i.scrollTop-j.y-k.y,width:h.width,height:h.height}}(a.reference,await b(a.floating),a.strategy),floating:{x:0,y:0,width:d.width,height:d.height}}},jg={convertOffsetParentRelativeRectToViewportRelativeRect:function(a){var b,c;let{elements:d,rect:e,offsetParent:f,strategy:g}=a,h="fixed"===g,i=iM(f),j=!!d&&iS(d.floating);if(f===i||j&&h)return e;let k={scrollLeft:0,scrollTop:0},l=ik(1),m=ik(0),n=(b=0,!1);(n||!n&&!h)&&(("body"!==iK(f)||iP(i))&&(k=i_(f)),c=0,0);let o=!i||n||h?ik(0):ja(i,k);return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-k.scrollLeft*l.x+m.x+o.x,y:e.y*l.y-k.scrollTop*l.y+m.y+o.y}},getDocumentElement:iM,getClippingRect:function(a){let{element:b,boundary:c,rootBoundary:d,strategy:e}=a,f=[..."clippingAncestors"===c?iS(b)?[]:function(a,b){var c;let d=b.get(a);if(d)return d;let e=i1(a,[],!1).filter(a=>{var b;return b=0,!1}),f="fixed"===i$(a).position,g=f?i0(a):a;return c=0,b.set(a,e),e}(b,this._c):[].concat(c),d],g=f[0],h=f.reduce((a,c)=>{let d=jb(b,c,e);return a.top=ih(d.top,a.top),a.right=ig(d.right,a.right),a.bottom=ig(d.bottom,a.bottom),a.left=ih(d.left,a.left),a},jb(b,g,e));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}},getOffsetParent:je,getElementRects:jf,getClientRects:function(a){return Array.from(a.getClientRects())},getDimensions:function(a){let{width:b,height:c}=i3(a);return{width:b,height:c}},getScale:i5,isElement:iN,isRTL:function(a){return"rtl"===i$(a).direction}};function jh(a,b){return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}let ji=a=>({name:"arrow",options:a,async fn(b){let{x:c,y:d,placement:e,rects:f,platform:g,elements:h,middlewareData:i}=b,{element:j,padding:k=0}=io(a,b)||{};if(null==j)return{};let l=iB(k),m={x:c,y:d},n=ir(iu(e)),o=is(n),p=await g.getDimensions(j),q="y"===n,r=q?"clientHeight":"clientWidth",s=f.reference[o]+f.reference[n]-m[n]-f.floating[o],t=m[n]-f.reference[n],u=await (null==g.getOffsetParent?void 0:g.getOffsetParent(j)),v=u?u[r]:0;v&&await (null==g.isElement?void 0:g.isElement(u))||(v=h.floating[r]||f.floating[o]);let w=v/2-p[o]/2-1,x=ig(l[q?"top":"left"],w),y=ig(l[q?"bottom":"right"],w),z=v-p[o]-y,A=v/2-p[o]/2+(s/2-t/2),B=ih(x,ig(A,z)),C=!i.arrow&&null!=iq(e)&&A!==B&&f.reference[o]/2-(A<x?x:y)-p[o]/2<0,D=C?A<x?A-x:A-z:0;return{[n]:m[n]+D,data:{[n]:B,centerOffset:A-B-D,...C&&{alignmentOffset:D}},reset:C}}});var jj="u">typeof document?aO.useLayoutEffect:function(){};function jk(a,b){let c,d,e;if(a===b)return!0;if(typeof a!=typeof b)return!1;if("function"==typeof a&&a.toString()===b.toString())return!0;if(a&&b&&"object"==typeof a){if(Array.isArray(a)){if((c=a.length)!==b.length)return!1;for(d=c;0!=d--;)if(!jk(a[d],b[d]))return!1;return!0}if((c=(e=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(d=c;0!=d--;)if(!({}).hasOwnProperty.call(b,e[d]))return!1;for(d=c;0!=d--;){let c=e[d];if(("_owner"!==c||!a.$$typeof)&&!jk(a[c],b[c]))return!1}return!0}return a!=a&&b!=b}function jl(a,b){let c=1;return Math.round(b*c)/c}function jm(a){let b=aO.useRef(a);return jj(()=>{b.current=a}),b}var jn=aO.forwardRef((a,b)=>{let{children:c,width:d=10,height:e=5,...f}=a;return(0,aN.jsx)(cc.svg,{...f,ref:b,width:d,height:e,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?c:(0,aN.jsx)("polygon",{points:"0,0 30,0 15,10"})})});jn.displayName="Arrow";var jo="Popper",[jp,jq]=cg(jo),[jr,js]=jp(jo),jt=a=>{let{__scopePopper:b,children:c}=a,[d,e]=aO.useState(null);return(0,aN.jsx)(jr,{scope:b,anchor:d,onAnchorChange:e,children:c})};jt.displayName=jo;var ju="PopperAnchor",jv=aO.forwardRef((a,b)=>{let{__scopePopper:c,virtualRef:d,...e}=a,f=js(ju,c),g=aO.useRef(null),h=a_(b,g),i=aO.useRef(null);return aO.useEffect(()=>{let a=i.current;i.current=d?.current||g.current,a!==i.current&&f.onAnchorChange(i.current)}),d?null:(0,aN.jsx)(cc.div,{...e,ref:h})});jv.displayName=ju;var jw="PopperContent",[jx,jy]=jp(jw),jz=aO.forwardRef((a,b)=>{var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;let{__scopePopper:x,side:y="bottom",sideOffset:z=0,align:A="center",alignOffset:B=0,arrowPadding:C=0,avoidCollisions:D=!0,collisionBoundary:E=[],collisionPadding:F=0,sticky:G="partial",hideWhenDetached:H=!1,updatePositionStrategy:I="optimized",onPlaced:J,...K}=a,L=js(jw,x),[M,N]=aO.useState(null),O=a_(b,a=>N(a)),[P,Q]=aO.useState(null),R=f7(P),S=R?.width??0,T=R?.height??0,U="number"==typeof F?F:{top:0,right:0,bottom:0,left:0,...F},V=Array.isArray(E)?E:[E],W=V.length>0,X={padding:U,boundary:V.filter(jD),altBoundary:W},{refs:Y,floatingStyles:Z,placement:$,isPositioned:_,middlewareData:aa}=function(a){void 0===a&&(a={});let{placement:b="bottom",strategy:c="absolute",middleware:d=[],platform:e,elements:{reference:f,floating:g}={},transform:h=!0,whileElementsMounted:i,open:j}=a,[k,l]=aO.useState({x:0,y:0,strategy:c,placement:b,middlewareData:{},isPositioned:!1}),[m,n]=aO.useState(d);jk(m,d)||n(d);let[o,p]=aO.useState(null),[q,r]=aO.useState(null),s=aO.useCallback(a=>{a!==w.current&&(w.current=a,p(a))},[]),t=aO.useCallback(a=>{a!==x.current&&(x.current=a,r(a))},[]),u=f||o,v=g||q,w=aO.useRef(null),x=aO.useRef(null),y=aO.useRef(k),z=null!=i,A=jm(i),B=jm(e),C=jm(j),D=aO.useCallback(()=>{var a,d;let e,f,g;if(!w.current||!x.current)return;let h={placement:b,strategy:c,middleware:m};B.current&&(h.platform=B.current),(a=w.current,d=x.current,e=new Map,g={...(f={platform:jg,...h}).platform,_c:e},iF(a,d,{...f,platform:g})).then(a=>{let b={...a,isPositioned:!1!==C.current};E.current&&!jk(y.current,b)&&(y.current=b,cb.flushSync(()=>{l(b)}))})},[m,b,c,B,C]);jj(()=>{!1===j&&y.current.isPositioned&&(y.current.isPositioned=!1,l(a=>({...a,isPositioned:!1})))},[j]);let E=aO.useRef(!1);jj(()=>(E.current=!0,()=>{E.current=!1}),[]),jj(()=>{if(u&&(w.current=u),v&&(x.current=v),u&&v){if(A.current)return A.current(u,v,D);D()}},[u,v,D,A,z]);let F=aO.useMemo(()=>({reference:w,floating:x,setReference:s,setFloating:t}),[s,t]),G=aO.useMemo(()=>({reference:u,floating:v}),[u,v]),H=aO.useMemo(()=>{let a={position:c,left:0,top:0};if(!G.floating)return a;let b=jl(G.floating,k.x),d=jl(G.floating,k.y);if(h)return{...a,transform:"translate("+b+"px, "+d+"px)",...(G.floating,false)};return{position:c,left:b,top:d}},[c,h,G.floating,k.x,k.y]);return aO.useMemo(()=>({...k,update:D,refs:F,elements:G,floatingStyles:H}),[k,D,F,G,H])}({strategy:"fixed",placement:y+("center"!==A?"-"+A:""),whileElementsMounted:(...a)=>(function(a,b,c,d){let e;void 0===d&&(d={});let{ancestorScroll:f=!0,ancestorResize:g=!0,elementResize:h="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:j=!1}=d,k=i4(a),l=f||g?[...k?i1(k):[],...i1(b)]:[];l.forEach(a=>{f&&a.addEventListener("scroll",c,{passive:!0}),g&&a.addEventListener("resize",c)});let m=k&&i?function(a,b){let c,d=null,e=iM(a);function f(){var a;clearTimeout(c),null==(a=d)||a.disconnect(),d=null}return!function g(h,i){void 0===h&&(h=!1),void 0===i&&(i=1),f();let j=a.getBoundingClientRect(),{left:k,top:l,width:m,height:n}=j;if(h||b(),!m||!n)return;let o={rootMargin:-ij(l)+"px "+-ij(e.clientWidth-(k+m))+"px "+-ij(e.clientHeight-(l+n))+"px "+-ij(k)+"px",threshold:ih(0,ig(1,i))||1},p=!0;function q(b){let d=b[0].intersectionRatio;if(d!==i){if(!p)return g();d?g(!1,d):c=setTimeout(()=>{g(!1,1e-7)},1e3)}1!==d||jh(j,a.getBoundingClientRect())||g(),p=!1}try{d=new IntersectionObserver(q,{...o,root:e.ownerDocument})}catch(a){d=new IntersectionObserver(q,o)}d.observe(a)}(!0),f}(k,c):null,n=-1,o=null;h&&(o=new ResizeObserver(a=>{let[d]=a;d&&d.target===k&&o&&(o.unobserve(b),cancelAnimationFrame(n),n=requestAnimationFrame(()=>{var a;null==(a=o)||a.observe(b)})),c()}),k&&!j&&o.observe(k),o.observe(b));let p=j?i8(a):null;return j&&function b(){let d=i8(a);p&&!jh(p,d)&&c(),p=d,e=requestAnimationFrame(b)}(),c(),()=>{var a;l.forEach(a=>{f&&a.removeEventListener("scroll",c),g&&a.removeEventListener("resize",c)}),null==m||m(),null==(a=o)||a.disconnect(),o=null,j&&cancelAnimationFrame(e)}})(...a,{animationFrame:"always"===I}),elements:{reference:L.anchor},middleware:[{...{name:"offset",options:e=c={mainAxis:z+T,alignmentAxis:B},async fn(a){var b,c;let{x:d,y:f,placement:g,middlewareData:h}=a,i=await iJ(a,e);return g===(null==(b=h.offset)?void 0:b.placement)&&null!=(c=h.arrow)&&c.alignmentOffset?{}:{x:d+i.x,y:f+i.y,data:{...i,placement:g}}}},options:[c,d]},D&&{...{name:"shift",options:k=i={mainAxis:!0,crossAxis:!1,limiter:"partial"===G?{...(void 0===(h=f)&&(h={}),{options:h,fn(a){let{x:b,y:c,placement:d,rects:e,middlewareData:f}=a,{offset:g=0,mainAxis:i=!0,crossAxis:j=!0}=io(h,a),k={x:b,y:c},l=iu(d),m=ir(l),n=k[m],o=k[l],p=io(g,a),q="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(i){let a="y"===m?"height":"width",b=e.reference[m]-e.floating[a]+q.mainAxis,c=e.reference[m]+e.reference[a]-q.mainAxis;n<b?n=b:n>c&&(n=c)}if(j){var r,s;let a="y"===m?"width":"height",b=iI.has(ip(d)),c=e.reference[l]-e.floating[a]+(b&&(null==(r=f.offset)?void 0:r[l])||0)+(b?0:q.crossAxis),g=e.reference[l]+e.reference[a]+(b?0:(null==(s=f.offset)?void 0:s[l])||0)-(b?q.crossAxis:0);o<c?o=c:o>g&&(o=g)}return{[m]:n,[l]:o}}}),options:[f,g]}:void 0,...X},async fn(a){let{x:b,y:c,placement:d,platform:e}=a,{mainAxis:f=!0,crossAxis:g=!1,limiter:h={fn:a=>{let{x:b,y:c}=a;return{x:b,y:c}}},...i}=io(k,a),j={x:b,y:c},l=await e.detectOverflow(a,i),m=iu(ip(d)),n=ir(m),o=j[n],p=j[m];if(f){let a="y"===n?"top":"left",b="y"===n?"bottom":"right",c=o+l[a],d=o-l[b];o=ih(c,ig(o,d))}if(g){let a="y"===m?"top":"left",b="y"===m?"bottom":"right",c=p+l[a],d=p-l[b];p=ih(c,ig(p,d))}let q=h.fn({...a,[n]:o,[m]:p});return{...q,data:{x:q.x-b,y:q.y-c,enabled:{[n]:f,[m]:g}}}}},options:[i,j]},D&&{...{name:"flip",options:n=l={...X},async fn(a){var b,c,d,e,f,g,h,i;let j,k,l,{placement:m,middlewareData:o,rects:p,initialPlacement:q,platform:r,elements:s}=a,{mainAxis:t=!0,crossAxis:u=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...z}=io(n,a);if(null!=(b=o.arrow)&&b.alignmentOffset)return{};let A=ip(m),B=iu(q),C=ip(q)===q,D=await (null==r.isRTL?void 0:r.isRTL(s.floating)),E=v||(C||!y?[iA(q)]:(j=iA(q),[iv(q),j,iv(j)])),F="none"!==x;!v&&F&&E.push(...(k=iq(q),l=function(a,b,c){switch(a){case"top":case"bottom":if(c)return b?ix:iw;return b?iw:ix;case"left":case"right":return b?iy:iz;default:return[]}}(ip(q),"start"===x,D),k&&(l=l.map(a=>a+"-"+k),y&&(l=l.concat(l.map(iv)))),l));let G=[q,...E],H=await r.detectOverflow(a,z),I=[],J=(null==(c=o.flip)?void 0:c.overflows)||[];if(t&&I.push(H[A]),u){let a,b,c,d,e=(g=m,h=p,void 0===(i=D)&&(i=!1),a=iq(g),c=is(b=ir(iu(g))),d="x"===b?a===(i?"end":"start")?"right":"left":"start"===a?"bottom":"top",h.reference[c]>h.floating[c]&&(d=iA(d)),[d,iA(d)]);I.push(H[e[0]],H[e[1]])}if(J=[...J,{placement:m,overflows:I}],!I.every(a=>a<=0)){let a=((null==(d=o.flip)?void 0:d.index)||0)+1,b=G[a];if(b&&("alignment"!==u||B===iu(b)||J.every(a=>iu(a.placement)!==B||a.overflows[0]>0)))return{data:{index:a,overflows:J},reset:{placement:b}};let c=null==(e=J.filter(a=>a.overflows[0]<=0).sort((a,b)=>a.overflows[1]-b.overflows[1])[0])?void 0:e.placement;if(!c)switch(w){case"bestFit":{let a=null==(f=J.filter(a=>{if(F){let b=iu(a.placement);return b===B||"y"===b}return!0}).map(a=>[a.placement,a.overflows.filter(a=>a>0).reduce((a,b)=>a+b,0)]).sort((a,b)=>a[1]-b[1])[0])?void 0:f[0];a&&(c=a);break}case"initialPlacement":c=q}if(m!==c)return{reset:{placement:c}}}return{}}},options:[l,m]},{...{name:"size",options:q=o={...X,apply:({elements:a,rects:b,availableWidth:c,availableHeight:d})=>{let{width:e,height:f}=b.reference,g=a.floating.style;g.setProperty("--radix-popper-available-width",`${c}px`),g.setProperty("--radix-popper-available-height",`${d}px`),g.setProperty("--radix-popper-anchor-width",`${e}px`),g.setProperty("--radix-popper-anchor-height",`${f}px`)}},async fn(a){var b,c;let d,e,{placement:f,rects:g,platform:h,elements:i}=a,{apply:j=()=>{},...k}=io(q,a),l=await h.detectOverflow(a,k),m=ip(f),n=iq(f),o="y"===iu(f),{width:p,height:r}=g.floating;"top"===m||"bottom"===m?(d=m,e=n===(await (null==h.isRTL?void 0:h.isRTL(i.floating))?"start":"end")?"left":"right"):(e=m,d="end"===n?"top":"bottom");let s=r-l.top-l.bottom,t=p-l.left-l.right,u=ig(r-l[d],s),v=ig(p-l[e],t),w=!a.middlewareData.shift,x=u,y=v;if(null!=(b=a.middlewareData.shift)&&b.enabled.x&&(y=t),null!=(c=a.middlewareData.shift)&&c.enabled.y&&(x=s),w&&!n){let a=ih(l.left,0),b=ih(l.right,0),c=ih(l.top,0),d=ih(l.bottom,0);o?y=p-2*(0!==a||0!==b?a+b:ih(l.left,l.right)):x=r-2*(0!==c||0!==d?c+d:ih(l.top,l.bottom))}await j({...a,availableWidth:y,availableHeight:x});let z=await h.getDimensions(i.floating);return p!==z.width||r!==z.height?{reset:{rects:!0}}:{}}},options:[o,p]},P&&{...{name:"arrow",options:t=r={element:P,padding:C},fn(a){let{element:b,padding:c}="function"==typeof t?t(a):t;return b&&({}).hasOwnProperty.call(b,"current")?null!=b.current?ji({element:b.current,padding:c}).fn(a):{}:b?ji({element:b,padding:c}).fn(a):{}}},options:[r,s]},jE({arrowWidth:S,arrowHeight:T}),H&&{...{name:"hide",options:w=u={strategy:"referenceHidden",...X},async fn(a){let{rects:b,platform:c}=a,{strategy:d="referenceHidden",...e}=io(w,a);switch(d){case"referenceHidden":{let d=iG(await c.detectOverflow(a,{...e,elementContext:"reference"}),b.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:iH(d)}}}case"escaped":{let d=iG(await c.detectOverflow(a,{...e,altBoundary:!0}),b.floating);return{data:{escapedOffsets:d,escaped:iH(d)}}}default:return{}}}},options:[u,v]}]}),[ab,ac]=jF($),ad=ch(J);cd(()=>{_&&ad?.()},[_,ad]);let ae=aa.arrow?.x,af=aa.arrow?.y,ag=aa.arrow?.centerOffset!==0,[ah,ai]=aO.useState();return cd(()=>{M&&ai(window.getComputedStyle(M).zIndex)},[M]),(0,aN.jsx)("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:_?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ah,"--radix-popper-transform-origin":[aa.transformOrigin?.x,aa.transformOrigin?.y].join(" "),...aa.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:(0,aN.jsx)(jx,{scope:x,placedSide:ab,onArrowChange:Q,arrowX:ae,arrowY:af,shouldHideArrow:ag,children:(0,aN.jsx)(cc.div,{"data-side":ab,"data-align":ac,...K,ref:O,style:{...K.style,animation:_?void 0:"none"}})})})});jz.displayName=jw;var jA="PopperArrow",jB={top:"bottom",right:"left",bottom:"top",left:"right"},jC=aO.forwardRef(function(a,b){let{__scopePopper:c,...d}=a,e=jy(jA,c),f=jB[e.placedSide];return(0,aN.jsx)("span",{ref:e.onArrowChange,style:{position:"absolute",left:e.arrowX,top:e.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[e.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[e.placedSide],visibility:e.shouldHideArrow?"hidden":void 0},children:(0,aN.jsx)(jn,{...d,ref:b,style:{...d.style,display:"block"}})})});function jD(a){return null!==a}jC.displayName=jA;var jE=a=>({name:"transformOrigin",options:a,fn(b){let{placement:c,rects:d,middlewareData:e}=b,f=e.arrow?.centerOffset!==0,g=f?0:a.arrowWidth,h=f?0:a.arrowHeight,[i,j]=jF(c),k={start:"0%",center:"50%",end:"100%"}[j],l=(e.arrow?.x??0)+g/2,m=(e.arrow?.y??0)+h/2,n="",o="";return"bottom"===i?(n=f?k:`${l}px`,o=`${-h}px`):"top"===i?(n=f?k:`${l}px`,o=`${d.floating.height+h}px`):"right"===i?(n=`${-h}px`,o=f?k:`${m}px`):"left"===i&&(n=`${d.floating.width+h}px`,o=f?k:`${m}px`),{data:{x:n,y:o}}}});function jF(a){let[b,c="center"]=a.split("-");return[b,c]}var jG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});aO.forwardRef((a,b)=>(0,aN.jsx)(cc.span,{...a,ref:b,style:{...jG,...a.style}})).displayName="VisuallyHidden";var jH=[" ","Enter","ArrowUp","ArrowDown"],jI=[" ","Enter"],jJ="Select",[jK,jL,jM]=function(a){let b=a+"CollectionProvider",[c,d]=cg(b),[e,f]=c(b,{collectionRef:{current:null},itemMap:new Map}),g=a=>{let{scope:b,children:c}=a,d=aO.default.useRef(null),f=aO.default.useRef(new Map).current;return(0,aN.jsx)(e,{scope:b,itemMap:f,collectionRef:d,children:c})};g.displayName=b;let h=a+"CollectionSlot",i=a0(h),j=aO.default.forwardRef((a,b)=>{let{scope:c,children:d}=a,e=a_(b,f(h,c).collectionRef);return(0,aN.jsx)(i,{ref:e,children:d})});j.displayName=h;let k=a+"CollectionItemSlot",l="data-radix-collection-item",m=a0(k),n=aO.default.forwardRef((a,b)=>{let{scope:c,children:d,...e}=a,g=aO.default.useRef(null),h=a_(b,g),i=f(k,c);return aO.default.useEffect(()=>(i.itemMap.set(g,{ref:g,...e}),()=>void i.itemMap.delete(g))),(0,aN.jsx)(m,{...{[l]:""},ref:h,children:d})});return n.displayName=k,[{Provider:g,Slot:j,ItemSlot:n},function(b){let c=f(a+"CollectionConsumer",b);return aO.default.useCallback(()=>{let a=c.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${l}]`));return Array.from(c.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[c.collectionRef,c.itemMap])},d]}(jJ),[jN,jO]=cg(jJ,[jM,jq]),jP=jq(),[jQ,jR]=jN(jJ),[jS,jT]=jN(jJ),jU=a=>{let{__scopeSelect:b,children:c,open:d,defaultOpen:e,onOpenChange:f,value:g,defaultValue:h,onValueChange:i,dir:j,name:k,autoComplete:l,disabled:m,required:n,form:o}=a,p=jP(b),[q,r]=aO.useState(null),[s,t]=aO.useState(null),[u,v]=aO.useState(!1),w=cj(j),[x,y]=f5({prop:d,defaultProp:e??!1,onChange:f,caller:jJ}),[z,A]=f5({prop:g,defaultProp:h,onChange:i,caller:jJ}),B=aO.useRef(null),C=!q||o||!!q.closest("form"),[D,E]=aO.useState(new Set),F=Array.from(D).map(a=>a.props.value).join(";");return(0,aN.jsx)(jt,{...p,children:(0,aN.jsxs)(jQ,{required:n,scope:b,trigger:q,onTriggerChange:r,valueNode:s,onValueNodeChange:t,valueNodeHasChildren:u,onValueNodeHasChildrenChange:v,contentId:gA(),value:z,onValueChange:A,open:x,onOpenChange:y,dir:w,triggerPointerDownPosRef:B,disabled:m,children:[(0,aN.jsx)(jK.Provider,{scope:b,children:(0,aN.jsx)(jS,{scope:a.__scopeSelect,onNativeOptionAdd:aO.useCallback(a=>{E(b=>new Set(b).add(a))},[]),onNativeOptionRemove:aO.useCallback(a=>{E(b=>{let c=new Set(b);return c.delete(a),c})},[]),children:c})}),C?(0,aN.jsxs)(kx,{"aria-hidden":!0,required:n,tabIndex:-1,name:k,autoComplete:l,value:z,onChange:a=>A(a.target.value),disabled:m,form:o,children:[void 0===z?(0,aN.jsx)("option",{value:""}):null,Array.from(D)]},F):null]})})};jU.displayName=jJ;var jV="SelectTrigger",jW=aO.forwardRef((a,b)=>{let{__scopeSelect:c,disabled:d=!1,...e}=a,f=jP(c),g=jR(jV,c),h=g.disabled||d,i=a_(b,g.onTriggerChange),j=jL(c),k=aO.useRef("touch"),[l,m,n]=kz(a=>{let b=j().filter(a=>!a.disabled),c=b.find(a=>a.value===g.value),d=kA(b,a,c);void 0!==d&&g.onValueChange(d.value)}),o=a=>{h||(g.onOpenChange(!0),n()),a&&(g.triggerPointerDownPosRef.current={x:Math.round(a.pageX),y:Math.round(a.pageY)})};return(0,aN.jsx)(jv,{asChild:!0,...f,children:(0,aN.jsx)(cc.button,{type:"button",role:"combobox","aria-controls":g.contentId,"aria-expanded":g.open,"aria-required":g.required,"aria-autocomplete":"none",dir:g.dir,"data-state":g.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":ky(g.value)?"":void 0,...e,ref:i,onClick:cl(e.onClick,a=>{a.currentTarget.focus(),"mouse"!==k.current&&o(a)}),onPointerDown:cl(e.onPointerDown,a=>{k.current=a.pointerType;let b=a.target;b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),0===a.button&&!1===a.ctrlKey&&"mouse"===a.pointerType&&(o(a),a.preventDefault())}),onKeyDown:cl(e.onKeyDown,a=>{let b=""!==l.current;a.ctrlKey||a.altKey||a.metaKey||1!==a.key.length||m(a.key),(!b||" "!==a.key)&&jH.includes(a.key)&&(o(),a.preventDefault())})})})});jW.displayName=jV;var jX="SelectValue",jY=aO.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,children:f,placeholder:g="",...h}=a,i=jR(jX,c),{onValueNodeHasChildrenChange:j}=i,k=void 0!==f,l=a_(b,i.onValueNodeChange);return cd(()=>{j(k)},[j,k]),(0,aN.jsx)(cc.span,{...h,ref:l,style:{pointerEvents:"none"},children:ky(i.value)?(0,aN.jsx)(aN.Fragment,{children:g}):f})});jY.displayName=jX;var jZ=aO.forwardRef((a,b)=>{let{__scopeSelect:c,children:d,...e}=a;return(0,aN.jsx)(cc.span,{"aria-hidden":!0,...e,ref:b,children:d||"▼"})});jZ.displayName="SelectIcon";var j$=a=>(0,aN.jsx)(gP,{asChild:!0,...a});j$.displayName="SelectPortal";var j_="SelectContent",j0=aO.forwardRef((a,b)=>{let c=jR(j_,a.__scopeSelect),[d,e]=aO.useState();return(cd(()=>{e(new DocumentFragment)},[]),c.open)?(0,aN.jsx)(j4,{...a,ref:b}):d?cb.createPortal((0,aN.jsx)(j1,{scope:a.__scopeSelect,children:(0,aN.jsx)(jK.Slot,{scope:a.__scopeSelect,children:(0,aN.jsx)("div",{children:a.children})})}),d):null});j0.displayName=j_;var[j1,j2]=jN(j_),j3=a0("SelectContent.RemoveScroll"),j4=aO.forwardRef((a,b)=>{let{__scopeSelect:c,position:d="item-aligned",onCloseAutoFocus:e,onEscapeKeyDown:f,onPointerDownOutside:g,side:h,sideOffset:i,align:j,alignOffset:k,arrowPadding:l,collisionBoundary:m,collisionPadding:n,sticky:o,hideWhenDetached:p,avoidCollisions:q,...r}=a,s=jR(j_,c),[t,u]=aO.useState(null),[v,w]=aO.useState(null),x=a_(b,a=>u(a)),[y,z]=aO.useState(null),[A,B]=aO.useState(null),C=jL(c),[D,E]=aO.useState(!1),F=aO.useRef(!1);aO.useEffect(()=>{if(t)return hu(t)},[t]),gR();let G=aO.useCallback(a=>{let[b,...c]=C().map(a=>a.ref.current),[d]=c.slice(-1),e=document.activeElement;for(let c of a)if(c===e||(c?.scrollIntoView({block:"nearest"}),c===b&&v&&(v.scrollTop=0),c===d&&v&&(v.scrollTop=v.scrollHeight),c?.focus(),document.activeElement!==e))return},[C,v]),H=aO.useCallback(()=>G([y,t]),[G,y,t]);aO.useEffect(()=>{D&&H()},[D,H]);let{onOpenChange:I,triggerPointerDownPosRef:J}=s;aO.useEffect(()=>{if(t){let a={x:0,y:0},b=b=>{a={x:Math.abs(Math.round(b.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(b.pageY)-(J.current?.y??0))}},c=c=>{a.x<=10&&a.y<=10?c.preventDefault():t.contains(c.target)||I(!1),document.removeEventListener("pointermove",b),J.current=null};return null!==J.current&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",c,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",c,{capture:!0})}}},[t,I,J]),aO.useEffect(()=>{let a=()=>I(!1);return window.addEventListener("blur",a),window.addEventListener("resize",a),()=>{window.removeEventListener("blur",a),window.removeEventListener("resize",a)}},[I]);let[K,L]=kz(a=>{let b=C().filter(a=>!a.disabled),c=b.find(a=>a.ref.current===document.activeElement),d=kA(b,a,c);d&&setTimeout(()=>d.ref.current.focus())}),M=aO.useCallback((a,b,c)=>{let d=!F.current&&!c;(void 0!==s.value&&s.value===b||d)&&(z(a),d&&(F.current=!0))},[s.value]),N=aO.useCallback(()=>t?.focus(),[t]),O=aO.useCallback((a,b,c)=>{let d=!F.current&&!c;(void 0!==s.value&&s.value===b||d)&&B(a)},[s.value]),P="popper"===d?j6:j5,Q=P===j6?{side:h,sideOffset:i,align:j,alignOffset:k,arrowPadding:l,collisionBoundary:m,collisionPadding:n,sticky:o,hideWhenDetached:p,avoidCollisions:q}:{};return(0,aN.jsx)(j1,{scope:c,content:t,viewport:v,onViewportChange:w,itemRefCallback:M,selectedItem:y,onItemLeave:N,itemTextRefCallback:O,focusSelectedItem:H,selectedItemText:A,position:d,isPositioned:D,searchRef:K,children:(0,aN.jsx)(hn,{as:j3,allowPinchZoom:!0,children:(0,aN.jsx)(gJ,{asChild:!0,trapped:s.open,onMountAutoFocus:a=>{a.preventDefault()},onUnmountAutoFocus:cl(e,a=>{s.trigger?.focus({preventScroll:!0}),a.preventDefault()}),children:(0,aN.jsx)(gD,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:a=>a.preventDefault(),onDismiss:()=>s.onOpenChange(!1),children:(0,aN.jsx)(P,{role:"listbox",id:s.contentId,"data-state":s.open?"open":"closed",dir:s.dir,onContextMenu:a=>a.preventDefault(),...r,...Q,onPlaced:()=>E(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...r.style},onKeyDown:cl(r.onKeyDown,a=>{let b=a.ctrlKey||a.altKey||a.metaKey;if("Tab"===a.key&&a.preventDefault(),b||1!==a.key.length||L(a.key),["ArrowUp","ArrowDown","Home","End"].includes(a.key)){let b=C().filter(a=>!a.disabled).map(a=>a.ref.current);if(["ArrowUp","End"].includes(a.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(a.key)){let c=a.target,d=b.indexOf(c);b=b.slice(d+1)}setTimeout(()=>G(b)),a.preventDefault()}})})})})})})});j4.displayName="SelectContentImpl";var j5=aO.forwardRef((a,b)=>{let{__scopeSelect:c,onPlaced:d,...e}=a,f=jR(j_,c),g=j2(j_,c),[h,i]=aO.useState(null),[j,k]=aO.useState(null),l=a_(b,a=>k(a)),m=jL(c),n=aO.useRef(!1),o=aO.useRef(!0),{viewport:p,selectedItem:q,selectedItemText:r,focusSelectedItem:s}=g,t=aO.useCallback(()=>{if(f.trigger&&f.valueNode&&h&&j&&p&&q&&r){let a=f.trigger.getBoundingClientRect(),b=j.getBoundingClientRect(),c=f.valueNode.getBoundingClientRect(),e=r.getBoundingClientRect();if("rtl"!==f.dir){let d=e.left-b.left,f=c.left-d,g=a.left-f,i=a.width+g,j=Math.max(i,b.width),k=ck(f,[10,Math.max(10,window.innerWidth-10-j)]);h.style.minWidth=i+"px",h.style.left=k+"px"}else{let d=b.right-e.right,f=window.innerWidth-c.right-d,g=window.innerWidth-a.right-f,i=a.width+g,j=Math.max(i,b.width),k=ck(f,[10,Math.max(10,window.innerWidth-10-j)]);h.style.minWidth=i+"px",h.style.right=k+"px"}let g=m(),i=window.innerHeight-20,k=p.scrollHeight,l=window.getComputedStyle(j),o=parseInt(l.borderTopWidth,10),s=parseInt(l.paddingTop,10),t=parseInt(l.borderBottomWidth,10),u=o+s+k+parseInt(l.paddingBottom,10)+t,v=Math.min(5*q.offsetHeight,u),w=window.getComputedStyle(p),x=parseInt(w.paddingTop,10),y=parseInt(w.paddingBottom,10),z=a.top+a.height/2-10,A=q.offsetHeight/2,B=o+s+(q.offsetTop+A);if(B<=z){let a=g.length>0&&q===g[g.length-1].ref.current;h.style.bottom="0px";let b=Math.max(i-z,A+(a?y:0)+(j.clientHeight-p.offsetTop-p.offsetHeight)+t);h.style.height=B+b+"px"}else{let a=g.length>0&&q===g[0].ref.current;h.style.top="0px";let b=Math.max(z,o+p.offsetTop+(a?x:0)+A);h.style.height=b+(u-B)+"px",p.scrollTop=B-z+p.offsetTop}h.style.margin="10px 0",h.style.minHeight=v+"px",h.style.maxHeight=i+"px",d?.(),requestAnimationFrame(()=>n.current=!0)}},[m,f.trigger,f.valueNode,h,j,p,q,r,f.dir,d]);cd(()=>t(),[t]);let[u,v]=aO.useState();cd(()=>{j&&v(window.getComputedStyle(j).zIndex)},[j]);let w=aO.useCallback(a=>{a&&!0===o.current&&(t(),s?.(),o.current=!1)},[t,s]);return(0,aN.jsx)(j7,{scope:c,contentWrapper:h,shouldExpandOnScrollRef:n,onScrollButtonChange:w,children:(0,aN.jsx)("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:u},children:(0,aN.jsx)(cc.div,{...e,ref:l,style:{boxSizing:"border-box",maxHeight:"100%",...e.style}})})})});j5.displayName="SelectItemAlignedPosition";var j6=aO.forwardRef((a,b)=>{let{__scopeSelect:c,align:d="start",collisionPadding:e=10,...f}=a,g=jP(c);return(0,aN.jsx)(jz,{...g,...f,ref:b,align:d,collisionPadding:e,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});j6.displayName="SelectPopperPosition";var[j7,j8]=jN(j_,{}),j9="SelectViewport",ka=aO.forwardRef((a,b)=>{let{__scopeSelect:c,nonce:d,...e}=a,f=j2(j9,c),g=j8(j9,c),h=a_(b,f.onViewportChange),i=aO.useRef(0);return(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:d}),(0,aN.jsx)(jK.Slot,{scope:c,children:(0,aN.jsx)(cc.div,{"data-radix-select-viewport":"",role:"presentation",...e,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...e.style},onScroll:cl(e.onScroll,a=>{let b=a.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:d}=g;if(d?.current&&c){let a=Math.abs(i.current-b.scrollTop);if(a>0){let d=window.innerHeight-20,e=Math.max(parseFloat(c.style.minHeight),parseFloat(c.style.height));if(e<d){let f=e+a,g=Math.min(d,f),h=f-g;c.style.height=g+"px","0px"===c.style.bottom&&(b.scrollTop=h>0?h:0,c.style.justifyContent="flex-end")}}}i.current=b.scrollTop})})})]})});ka.displayName=j9;var kb="SelectGroup",[kc,kd]=jN(kb),ke=aO.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=gA();return(0,aN.jsx)(kc,{scope:c,id:e,children:(0,aN.jsx)(cc.div,{role:"group","aria-labelledby":e,...d,ref:b})})});ke.displayName=kb;var kf="SelectLabel",kg=aO.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=kd(kf,c);return(0,aN.jsx)(cc.div,{id:e.id,...d,ref:b})});kg.displayName=kf;var kh="SelectItem",[ki,kj]=jN(kh),kk=aO.forwardRef((a,b)=>{let{__scopeSelect:c,value:d,disabled:e=!1,textValue:f,...g}=a,h=jR(kh,c),i=j2(kh,c),j=h.value===d,[k,l]=aO.useState(f??""),[m,n]=aO.useState(!1),o=a_(b,a=>i.itemRefCallback?.(a,d,e)),p=gA(),q=aO.useRef("touch"),r=()=>{e||(h.onValueChange(d),h.onOpenChange(!1))};if(""===d)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,aN.jsx)(ki,{scope:c,value:d,disabled:e,textId:p,isSelected:j,onItemTextChange:aO.useCallback(a=>{l(b=>b||(a?.textContent??"").trim())},[]),children:(0,aN.jsx)(jK.ItemSlot,{scope:c,value:d,disabled:e,textValue:k,children:(0,aN.jsx)(cc.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":j&&m,"data-state":j?"checked":"unchecked","aria-disabled":e||void 0,"data-disabled":e?"":void 0,tabIndex:e?void 0:-1,...g,ref:o,onFocus:cl(g.onFocus,()=>n(!0)),onBlur:cl(g.onBlur,()=>n(!1)),onClick:cl(g.onClick,()=>{"mouse"!==q.current&&r()}),onPointerUp:cl(g.onPointerUp,()=>{"mouse"===q.current&&r()}),onPointerDown:cl(g.onPointerDown,a=>{q.current=a.pointerType}),onPointerMove:cl(g.onPointerMove,a=>{q.current=a.pointerType,e?i.onItemLeave?.():"mouse"===q.current&&a.currentTarget.focus({preventScroll:!0})}),onPointerLeave:cl(g.onPointerLeave,a=>{a.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:cl(g.onKeyDown,a=>{(i.searchRef?.current===""||" "!==a.key)&&(jI.includes(a.key)&&r()," "===a.key&&a.preventDefault())})})})})});kk.displayName=kh;var kl="SelectItemText",km=aO.forwardRef((a,b)=>{let{__scopeSelect:c,className:d,style:e,...f}=a,g=jR(kl,c),h=j2(kl,c),i=kj(kl,c),j=jT(kl,c),[k,l]=aO.useState(null),m=a_(b,a=>l(a),i.onItemTextChange,a=>h.itemTextRefCallback?.(a,i.value,i.disabled)),n=k?.textContent,o=aO.useMemo(()=>(0,aN.jsx)("option",{value:i.value,disabled:i.disabled,children:n},i.value),[i.disabled,i.value,n]),{onNativeOptionAdd:p,onNativeOptionRemove:q}=j;return cd(()=>(p(o),()=>q(o)),[p,q,o]),(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(cc.span,{id:i.textId,...f,ref:m}),i.isSelected&&g.valueNode&&!g.valueNodeHasChildren?cb.createPortal(f.children,g.valueNode):null]})});km.displayName=kl;var kn="SelectItemIndicator",ko=aO.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return kj(kn,c).isSelected?(0,aN.jsx)(cc.span,{"aria-hidden":!0,...d,ref:b}):null});ko.displayName=kn;var kp="SelectScrollUpButton",kq=aO.forwardRef((a,b)=>{let c=j2(kp,a.__scopeSelect),d=j8(kp,a.__scopeSelect),[e,f]=aO.useState(!1),g=a_(b,d.onScrollButtonChange);return cd(()=>{if(c.viewport&&c.isPositioned){let a=function(){f(b.scrollTop>0)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,aN.jsx)(kt,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop-b.offsetHeight)}}):null});kq.displayName=kp;var kr="SelectScrollDownButton",ks=aO.forwardRef((a,b)=>{let c=j2(kr,a.__scopeSelect),d=j8(kr,a.__scopeSelect),[e,f]=aO.useState(!1),g=a_(b,d.onScrollButtonChange);return cd(()=>{if(c.viewport&&c.isPositioned){let a=function(){let a=b.scrollHeight-b.clientHeight;f(Math.ceil(b.scrollTop)<a)},b=c.viewport;return a(),b.addEventListener("scroll",a),()=>b.removeEventListener("scroll",a)}},[c.viewport,c.isPositioned]),e?(0,aN.jsx)(kt,{...a,ref:g,onAutoScroll:()=>{let{viewport:a,selectedItem:b}=c;a&&b&&(a.scrollTop=a.scrollTop+b.offsetHeight)}}):null});ks.displayName=kr;var kt=aO.forwardRef((a,b)=>{let{__scopeSelect:c,onAutoScroll:d,...e}=a,f=j2("SelectScrollButton",c),g=aO.useRef(null),h=jL(c),i=aO.useCallback(()=>{null!==g.current&&(window.clearInterval(g.current),g.current=null)},[]);return aO.useEffect(()=>()=>i(),[i]),cd(()=>{let a=h().find(a=>a.ref.current===document.activeElement);a?.ref.current?.scrollIntoView({block:"nearest"})},[h]),(0,aN.jsx)(cc.div,{"aria-hidden":!0,...e,ref:b,style:{flexShrink:0,...e.style},onPointerDown:cl(e.onPointerDown,()=>{null===g.current&&(g.current=window.setInterval(d,50))}),onPointerMove:cl(e.onPointerMove,()=>{f.onItemLeave?.(),null===g.current&&(g.current=window.setInterval(d,50))}),onPointerLeave:cl(e.onPointerLeave,()=>{i()})})}),ku=aO.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a;return(0,aN.jsx)(cc.div,{"aria-hidden":!0,...d,ref:b})});ku.displayName="SelectSeparator";var kv="SelectArrow",kw=aO.forwardRef((a,b)=>{let{__scopeSelect:c,...d}=a,e=jP(c),f=jR(kv,c),g=j2(kv,c);return f.open&&"popper"===g.position?(0,aN.jsx)(jC,{...e,...d,ref:b}):null});kw.displayName=kv;var kx=aO.forwardRef(({__scopeSelect:a,value:b,...c},d)=>{let e=aO.useRef(null),f=a_(d,e),g=f6(b);return aO.useEffect(()=>{let a=e.current;if(!a)return;let c=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(g!==b&&c){let d=new Event("change",{bubbles:!0});c.call(a,b),a.dispatchEvent(d)}},[g,b]),(0,aN.jsx)(cc.select,{...c,style:{...jG,...c.style},ref:f,defaultValue:b})});function ky(a){return""===a||void 0===a}function kz(a){let b=ch(a),c=aO.useRef(""),d=aO.useRef(0),e=aO.useCallback(a=>{let e=c.current+a;b(e),function a(b){c.current=b,window.clearTimeout(d.current),""!==b&&(d.current=window.setTimeout(()=>a(""),1e3))}(e)},[b]),f=aO.useCallback(()=>{c.current="",window.clearTimeout(d.current)},[]);return aO.useEffect(()=>()=>window.clearTimeout(d.current),[]),[c,e,f]}function kA(a,b,c){var d,e;let f=b.length>1&&Array.from(b).every(a=>a===b[0])?b[0]:b,g=c?a.indexOf(c):-1,h=(d=a,e=Math.max(g,0),d.map((a,b)=>d[(e+b)%d.length]));1===f.length&&(h=h.filter(a=>a!==c));let i=h.find(a=>a.textValue.toLowerCase().startsWith(f.toLowerCase()));return i!==c?i:void 0}kx.displayName="SelectBubbleInput",a.s(["Arrow",()=>kw,"Content",()=>j0,"Group",()=>ke,"Icon",()=>jZ,"Item",()=>kk,"ItemIndicator",()=>ko,"ItemText",()=>km,"Label",()=>kg,"Portal",()=>j$,"Root",()=>jU,"ScrollDownButton",()=>ks,"ScrollUpButton",()=>kq,"Select",()=>jU,"SelectArrow",()=>kw,"SelectContent",()=>j0,"SelectGroup",()=>ke,"SelectIcon",()=>jZ,"SelectItem",()=>kk,"SelectItemIndicator",()=>ko,"SelectItemText",()=>km,"SelectLabel",()=>kg,"SelectPortal",()=>j$,"SelectScrollDownButton",()=>ks,"SelectScrollUpButton",()=>kq,"SelectSeparator",()=>ku,"SelectTrigger",()=>jW,"SelectValue",()=>jY,"SelectViewport",()=>ka,"Separator",()=>ku,"Trigger",()=>jW,"Value",()=>jY,"Viewport",()=>ka,"createSelectScope",()=>jO],73217);var kB=a.i(73217),kB=kB;function kC({...a}){return(0,aN.jsx)(kB.Root,{"data-slot":"select",...a})}function kD({...a}){return(0,aN.jsx)(kB.Value,{"data-slot":"select-value",...a})}function kE({className:a,size:b="default",children:c,...d}){return(0,aN.jsxs)(kB.Trigger,{"data-slot":"select-trigger","data-size":b,className:b7("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...d,children:[c,(0,aN.jsx)(kB.Icon,{asChild:!0,children:(0,aN.jsx)(h9,{className:"size-4 opacity-50"})})]})}function kF({className:a,children:b,position:c="item-aligned",align:d="center",...e}){return(0,aN.jsx)(kB.Portal,{children:(0,aN.jsxs)(kB.Content,{"data-slot":"select-content",className:b7("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,align:d,...e,children:[(0,aN.jsx)(kH,{}),(0,aN.jsx)(kB.Viewport,{className:b7("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:b}),(0,aN.jsx)(kI,{})]})})}function kG({className:a,children:b,...c}){return(0,aN.jsxs)(kB.Item,{"data-slot":"select-item",className:b7("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...c,children:[(0,aN.jsx)("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,aN.jsx)(kB.ItemIndicator,{children:(0,aN.jsx)(gn,{className:"size-4"})})}),(0,aN.jsx)(kB.ItemText,{children:b})]})}function kH({className:a,...b}){return(0,aN.jsx)(kB.ScrollUpButton,{"data-slot":"select-scroll-up-button",className:b7("flex cursor-default items-center justify-center py-1",a),...b,children:(0,aN.jsx)(ia,{className:"size-4"})})}function kI({className:a,...b}){return(0,aN.jsx)(kB.ScrollDownButton,{"data-slot":"select-scroll-down-button",className:b7("flex cursor-default items-center justify-center py-1",a),...b,children:(0,aN.jsx)(h9,{className:"size-4"})})}let kJ=aT("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),kK=aT("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),kL=aT("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),kM=[{value:"gpt-5.2",label:"GPT-5.2"},{value:"gpt-4o",label:"GPT-4o"},{value:"gpt-4o-mini",label:"GPT-4o Mini"},{value:"o1",label:"o1"},{value:"o3-mini",label:"o3-mini"}];function kN({onSettingsChange:a}){let[b,c]=(0,aO.useState)(!1),[d,e]=(0,aO.useState)({openaiApiKey:"",model:"gpt-5.2"}),[f,g]=(0,aO.useState)(!1),[h,i]=(0,aO.useState)(!1);return(0,aO.useEffect)(()=>{b&&(e(gs),i(!1))},[b]),(0,aN.jsxs)(h1,{open:b,onOpenChange:c,children:[(0,aN.jsx)(h2,{asChild:!0,children:(0,aN.jsx)(b9,{variant:"ghost",size:"icon",className:"h-9 w-9",children:(0,aN.jsx)(kJ,{className:"h-4 w-4"})})}),(0,aN.jsxs)(h5,{className:"sm:max-w-md",children:[(0,aN.jsxs)(h6,{children:[(0,aN.jsxs)(h7,{className:"flex items-center gap-2",children:[(0,aN.jsx)(kJ,{className:"h-5 w-5"}),"설정"]}),(0,aN.jsx)(h8,{children:"OpenAI API 설정을 구성합니다. 모든 설정은 브라우저에 로컬로 저장됩니다."})]}),(0,aN.jsxs)("div",{className:"space-y-6 py-4",children:[(0,aN.jsxs)("div",{className:"space-y-2",children:[(0,aN.jsx)(gw,{htmlFor:"api-key",children:"OpenAI API Key"}),(0,aN.jsxs)("div",{className:"relative",children:[(0,aN.jsx)(gt,{id:"api-key",type:f?"text":"password",placeholder:"sk-...",value:d.openaiApiKey,onChange:a=>e({...d,openaiApiKey:a.target.value}),className:"pr-10 font-mono text-sm"}),(0,aN.jsx)(b9,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>g(!f),children:f?(0,aN.jsx)(kL,{className:"h-4 w-4 text-muted-foreground"}):(0,aN.jsx)(kK,{className:"h-4 w-4 text-muted-foreground"})})]}),(0,aN.jsx)("p",{className:"text-xs text-muted-foreground",children:"API 키는 브라우저의 localStorage에만 저장되며 서버로 전송되지 않습니다."})]}),(0,aN.jsxs)("div",{className:"space-y-2",children:[(0,aN.jsx)(gw,{children:"모델"}),(0,aN.jsxs)(kC,{value:d.model,onValueChange:a=>e({...d,model:a}),children:[(0,aN.jsx)(kE,{children:(0,aN.jsx)(kD,{placeholder:"모델을 선택하세요"})}),(0,aN.jsx)(kF,{children:kM.map(a=>(0,aN.jsx)(kG,{value:a.value,children:a.label},a.value))})]})]})]}),(0,aN.jsx)("div",{className:"flex justify-end",children:(0,aN.jsx)(b9,{onClick:()=>{i(!0),a?.(d),setTimeout(()=>{c(!1),i(!1)},500)},disabled:!d.openaiApiKey.trim(),children:h?(0,aN.jsxs)(aN.Fragment,{children:[(0,aN.jsx)(gn,{className:"h-4 w-4 mr-2"}),"저장됨"]}):"저장"})})]})]})}let kO=aT("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),kP=aT("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),kQ=aT("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),kR=aT("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var kS=a.i(66680);let kT={randomUUID:kS.randomUUID},kU=new Uint8Array(256),kV=kU.length,kW=[];for(let a=0;a<256;++a)kW.push((a+256).toString(16).slice(1));let kX=function(a,b,c){if(kT.randomUUID&&!b&&!a)return kT.randomUUID();var d=a,e=c;let f=(d=d||{}).random??d.rng?.()??(kV>kU.length-16&&((0,kS.randomFillSync)(kU),kV=0),kU.slice(kV,kV+=16));if(f.length<16)throw Error("Random bytes length must be >= 16");if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b){if((e=e||0)<0||e+16>b.length)throw RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let a=0;a<16;++a)b[e+a]=f[a];return b}return function(a,b=0){return(kW[a[b+0]]+kW[a[b+1]]+kW[a[b+2]]+kW[a[b+3]]+"-"+kW[a[b+4]]+kW[a[b+5]]+"-"+kW[a[b+6]]+kW[a[b+7]]+"-"+kW[a[b+8]]+kW[a[b+9]]+"-"+kW[a[b+10]]+kW[a[b+11]]+kW[a[b+12]]+kW[a[b+13]]+kW[a[b+14]]+kW[a[b+15]]).toLowerCase()}(f)};function kY(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}function kZ(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}let k$=function(){let{crypto:a}=globalThis;if(a?.randomUUID)return k$=a.randomUUID.bind(a),a.randomUUID();let b=new Uint8Array(1),c=a?()=>a.getRandomValues(b)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(a^c()&15>>a/4).toString(16))};function k_(a){return"object"==typeof a&&null!==a&&("name"in a&&"AbortError"===a.name||"message"in a&&String(a.message).includes("FetchRequestCanceledException"))}let k0=a=>{if(a instanceof Error)return a;if("object"==typeof a&&null!==a){try{if("[object Error]"===Object.prototype.toString.call(a)){let b=Error(a.message,a.cause?{cause:a.cause}:{});return a.stack&&(b.stack=a.stack),a.cause&&!b.cause&&(b.cause=a.cause),a.name&&(b.name=a.name),b}}catch{}try{return Error(JSON.stringify(a))}catch{}}return Error(a)};class k1 extends Error{}class k2 extends k1{constructor(a,b,c,d){super(`${k2.makeMessage(a,b,c)}`),this.status=a,this.headers=d,this.requestID=d?.get("x-request-id"),this.error=b,this.code=b?.code,this.param=b?.param,this.type=b?.type}static makeMessage(a,b,c){let d=b?.message?"string"==typeof b.message?b.message:JSON.stringify(b.message):b?JSON.stringify(b):c;return a&&d?`${a} ${d}`:a?`${a} status code (no body)`:d||"(no status code or body)"}static generate(a,b,c,d){if(!a||!d)return new k4({message:c,cause:k0(b)});let e=b?.error;return 400===a?new k6(a,e,c,d):401===a?new k7(a,e,c,d):403===a?new k8(a,e,c,d):404===a?new k9(a,e,c,d):409===a?new la(a,e,c,d):422===a?new lb(a,e,c,d):429===a?new lc(a,e,c,d):a>=500?new ld(a,e,c,d):new k2(a,e,c,d)}}class k3 extends k2{constructor({message:a}={}){super(void 0,void 0,a||"Request was aborted.",void 0)}}class k4 extends k2{constructor({message:a,cause:b}){super(void 0,void 0,a||"Connection error.",void 0),b&&(this.cause=b)}}class k5 extends k4{constructor({message:a}={}){super({message:a??"Request timed out."})}}class k6 extends k2{}class k7 extends k2{}class k8 extends k2{}class k9 extends k2{}class la extends k2{}class lb extends k2{}class lc extends k2{}class ld extends k2{}class le extends k1{constructor(){super("Could not parse response content as the length limit was reached")}}class lf extends k1{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class lg extends Error{constructor(a){super(a)}}let lh=/^[a-z][a-z0-9+.-]*:/i,li=a=>(li=Array.isArray)(a),lj=li;function lk(a){return"object"!=typeof a?{}:a??{}}function ll(a){return null!=a&&"object"==typeof a&&!Array.isArray(a)}let lm=a=>new Promise(b=>setTimeout(b,a)),ln="6.25.0",lo=a=>"x32"===a?"x32":"x86_64"===a||"x64"===a?"x64":"arm"===a?"arm":"aarch64"===a||"arm64"===a?"arm64":a?`other:${a}`:"unknown",lp=a=>(a=a.toLowerCase()).includes("ios")?"iOS":"android"===a?"Android":"darwin"===a?"MacOS":"win32"===a?"Windows":"freebsd"===a?"FreeBSD":"openbsd"===a?"OpenBSD":"linux"===a?"Linux":a?`Other:${a}`:"Unknown";function lq(...a){let b=globalThis.ReadableStream;if(void 0===b)throw Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new b(...a)}function lr(a){let b=Symbol.asyncIterator in a?a[Symbol.asyncIterator]():a[Symbol.iterator]();return lq({start(){},async pull(a){let{done:c,value:d}=await b.next();c?a.close():a.enqueue(d)},async cancel(){await b.return?.()}})}function ls(a){if(a[Symbol.asyncIterator])return a;let b=a.getReader();return{async next(){try{let a=await b.read();return a?.done&&b.releaseLock(),a}catch(a){throw b.releaseLock(),a}},async return(){let a=b.cancel();return b.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function lt(a){if(null===a||"object"!=typeof a)return;if(a[Symbol.asyncIterator])return void await a[Symbol.asyncIterator]().return?.();let b=a.getReader(),c=b.cancel();b.releaseLock(),await c}let lu=({headers:a,body:b})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(b)}),lv="RFC3986",lw=a=>String(a),lx={RFC1738:a=>String(a).replace(/%20/g,"+"),RFC3986:lw},ly=(a,b)=>(ly=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty))(a,b),lz=(()=>{let a=[];for(let b=0;b<256;++b)a.push("%"+((b<16?"0":"")+b.toString(16)).toUpperCase());return a})();function lA(a,b){if(li(a)){let c=[];for(let d=0;d<a.length;d+=1)c.push(b(a[d]));return c}return b(a)}let lB={brackets:a=>String(a)+"[]",comma:"comma",indices:(a,b)=>String(a)+"["+b+"]",repeat:a=>String(a)},lC=function(a,b){Array.prototype.push.apply(a,li(b)?b:[b])},lD={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(a,b,c,d,e)=>{if(0===a.length)return a;let f=a;if("symbol"==typeof a?f=Symbol.prototype.toString.call(a):"string"!=typeof a&&(f=String(a)),"iso-8859-1"===c)return escape(f).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let g="";for(let a=0;a<f.length;a+=1024){let b=f.length>=1024?f.slice(a,a+1024):f,c=[];for(let a=0;a<b.length;++a){let d=b.charCodeAt(a);if(45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||"RFC1738"===e&&(40===d||41===d)){c[c.length]=b.charAt(a);continue}if(d<128){c[c.length]=lz[d];continue}if(d<2048){c[c.length]=lz[192|d>>6]+lz[128|63&d];continue}if(d<55296||d>=57344){c[c.length]=lz[224|d>>12]+lz[128|d>>6&63]+lz[128|63&d];continue}a+=1,d=65536+((1023&d)<<10|1023&b.charCodeAt(a)),c[c.length]=lz[240|d>>18]+lz[128|d>>12&63]+lz[128|d>>6&63]+lz[128|63&d]}g+=c.join("")}return g},encodeValuesOnly:!1,format:lv,formatter:lw,indices:!1,serializeDate:a=>(c??(c=Function.prototype.call.bind(Date.prototype.toISOString)))(a),skipNulls:!1,strictNullHandling:!1},lE={};function lF(a){let b;return(d??(d=(b=new globalThis.TextEncoder).encode.bind(b)))(a)}function lG(a){let b;return(e??(e=(b=new globalThis.TextDecoder).decode.bind(b)))(a)}class lH{constructor(){r.set(this,void 0),s.set(this,void 0),kY(this,r,new Uint8Array,"f"),kY(this,s,null,"f")}decode(a){let b;if(null==a)return[];let c=a instanceof ArrayBuffer?new Uint8Array(a):"string"==typeof a?lF(a):a;kY(this,r,function(a){let b=0;for(let c of a)b+=c.length;let c=new Uint8Array(b),d=0;for(let b of a)c.set(b,d),d+=b.length;return c}([kZ(this,r,"f"),c]),"f");let d=[];for(;null!=(b=function(a,b){for(let c=b??0;c<a.length;c++){if(10===a[c])return{preceding:c,index:c+1,carriage:!1};if(13===a[c])return{preceding:c,index:c+1,carriage:!0}}return null}(kZ(this,r,"f"),kZ(this,s,"f")));){if(b.carriage&&null==kZ(this,s,"f")){kY(this,s,b.index,"f");continue}if(null!=kZ(this,s,"f")&&(b.index!==kZ(this,s,"f")+1||b.carriage)){d.push(lG(kZ(this,r,"f").subarray(0,kZ(this,s,"f")-1))),kY(this,r,kZ(this,r,"f").subarray(kZ(this,s,"f")),"f"),kY(this,s,null,"f");continue}let a=null!==kZ(this,s,"f")?b.preceding-1:b.preceding,c=lG(kZ(this,r,"f").subarray(0,a));d.push(c),kY(this,r,kZ(this,r,"f").subarray(b.index),"f"),kY(this,s,null,"f")}return d}flush(){return kZ(this,r,"f").length?this.decode("\n"):[]}}r=new WeakMap,s=new WeakMap,lH.NEWLINE_CHARS=new Set(["\n","\r"]),lH.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let lI={off:0,error:200,warn:300,info:400,debug:500},lJ=(a,b,c)=>{if(a){if(Object.prototype.hasOwnProperty.call(lI,a))return a;lO(c).warn(`${b} was set to ${JSON.stringify(a)}, expected one of ${JSON.stringify(Object.keys(lI))}`)}};function lK(){}function lL(a,b,c){return!b||lI[a]>lI[c]?lK:b[a].bind(b)}let lM={error:lK,warn:lK,info:lK,debug:lK},lN=new WeakMap;function lO(a){let b=a.logger,c=a.logLevel??"off";if(!b)return lM;let d=lN.get(b);if(d&&d[0]===c)return d[1];let e={error:lL("error",b,c),warn:lL("warn",b,c),info:lL("info",b,c),debug:lL("debug",b,c)};return lN.set(b,[c,e]),e}let lP=a=>(a.options&&(a.options={...a.options},delete a.options.headers),a.headers&&(a.headers=Object.fromEntries((a.headers instanceof Headers?[...a.headers]:Object.entries(a.headers)).map(([a,b])=>[a,"authorization"===a.toLowerCase()||"cookie"===a.toLowerCase()||"set-cookie"===a.toLowerCase()?"***":b]))),"retryOfRequestLogID"in a&&(a.retryOfRequestLogID&&(a.retryOf=a.retryOfRequestLogID),delete a.retryOfRequestLogID),a);class lQ{constructor(a,b,c){this.iterator=a,t.set(this,void 0),this.controller=b,kY(this,t,c,"f")}static fromSSEResponse(a,b,c,d){let e=!1,f=c?lO(c):console;async function*g(){if(e)throw new k1("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");e=!0;let c=!1;try{for await(let e of lR(a,b))if(!c){if(e.data.startsWith("[DONE]")){c=!0;continue}if(null!==e.event&&e.event.startsWith("thread.")){let a;try{a=JSON.parse(e.data)}catch(a){throw console.error("Could not parse message into JSON:",e.data),console.error("From chunk:",e.raw),a}if("error"==e.event)throw new k2(void 0,a.error,a.message,void 0);yield{event:e.event,data:a}}else{let b;try{b=JSON.parse(e.data)}catch(a){throw f.error("Could not parse message into JSON:",e.data),f.error("From chunk:",e.raw),a}if(b&&b.error)throw new k2(void 0,b.error,void 0,a.headers);yield d?{event:e.event,data:b}:b}}c=!0}catch(a){if(k_(a))return;throw a}finally{c||b.abort()}}return new lQ(g,b,c)}static fromReadableStream(a,b,c){let d=!1;async function*e(){let b=new lH;for await(let c of ls(a))for(let a of b.decode(c))yield a;for(let a of b.flush())yield a}return new lQ(async function*(){if(d)throw new k1("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");d=!0;let a=!1;try{for await(let b of e())!a&&b&&(yield JSON.parse(b));a=!0}catch(a){if(k_(a))return;throw a}finally{a||b.abort()}},b,c)}[(t=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let a=[],b=[],c=this.iterator(),d=d=>({next:()=>{if(0===d.length){let d=c.next();a.push(d),b.push(d)}return d.shift()}});return[new lQ(()=>d(a),this.controller,kZ(this,t,"f")),new lQ(()=>d(b),this.controller,kZ(this,t,"f"))]}toReadableStream(){let a,b=this;return lq({async start(){a=b[Symbol.asyncIterator]()},async pull(b){try{let{value:c,done:d}=await a.next();if(d)return b.close();let e=lF(JSON.stringify(c)+"\n");b.enqueue(e)}catch(a){b.error(a)}},async cancel(){await a.return?.()}})}}async function*lR(a,b){if(!a.body){if(b.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new k1("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new k1("Attempted to iterate over a response with no body")}let c=new lT,d=new lH;for await(let b of lS(ls(a.body)))for(let a of d.decode(b)){let b=c.decode(a);b&&(yield b)}for(let a of d.flush()){let b=c.decode(a);b&&(yield b)}}async function*lS(a){let b=new Uint8Array;for await(let c of a){let a;if(null==c)continue;let d=c instanceof ArrayBuffer?new Uint8Array(c):"string"==typeof c?lF(c):c,e=new Uint8Array(b.length+d.length);for(e.set(b),e.set(d,b.length),b=e;-1!==(a=function(a){for(let b=0;b<a.length-1;b++){if(10===a[b]&&10===a[b+1]||13===a[b]&&13===a[b+1])return b+2;if(13===a[b]&&10===a[b+1]&&b+3<a.length&&13===a[b+2]&&10===a[b+3])return b+4}return -1}(b));)yield b.slice(0,a),b=b.slice(a)}b.length>0&&(yield b)}class lT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(a){var b;let c;if(a.endsWith("\r")&&(a=a.substring(0,a.length-1)),!a){if(!this.event&&!this.data.length)return null;let a={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(a),a.startsWith(":"))return null;let[d,e,f]=-1!==(c=(b=a).indexOf(":"))?[b.substring(0,c),":",b.substring(c+1)]:[b,"",""];return f.startsWith(" ")&&(f=f.substring(1)),"event"===d?this.event=f:"data"===d&&this.data.push(f),null}}async function lU(a,b){let{response:c,requestLogID:d,retryOfRequestLogID:e,startTime:f}=b,g=await (async()=>{if(b.options.stream)return(lO(a).debug("response",c.status,c.url,c.headers,c.body),b.options.__streamClass)?b.options.__streamClass.fromSSEResponse(c,b.controller,a,b.options.__synthesizeEventData):lQ.fromSSEResponse(c,b.controller,a,b.options.__synthesizeEventData);if(204===c.status)return null;if(b.options.__binaryResponse)return c;let d=c.headers.get("content-type"),e=d?.split(";")[0]?.trim();if(e?.includes("application/json")||e?.endsWith("+json")){if("0"===c.headers.get("content-length"))return;return lV(await c.json(),c)}return await c.text()})();return lO(a).debug(`[${d}] response parsed`,lP({retryOfRequestLogID:e,url:c.url,status:c.status,body:g,durationMs:Date.now()-f})),g}function lV(a,b){return!a||"object"!=typeof a||Array.isArray(a)?a:Object.defineProperty(a,"_request_id",{value:b.headers.get("x-request-id"),enumerable:!1})}class lW extends Promise{constructor(a,b,c=lU){super(a=>{a(null)}),this.responsePromise=b,this.parseResponse=c,u.set(this,void 0),kY(this,u,a,"f")}_thenUnwrap(a){return new lW(kZ(this,u,"f"),this.responsePromise,async(b,c)=>lV(a(await this.parseResponse(b,c),c),c.response))}asResponse(){return this.responsePromise.then(a=>a.response)}async withResponse(){let[a,b]=await Promise.all([this.parse(),this.asResponse()]);return{data:a,response:b,request_id:b.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(a=>this.parseResponse(kZ(this,u,"f"),a))),this.parsedPromise}then(a,b){return this.parse().then(a,b)}catch(a){return this.parse().catch(a)}finally(a){return this.parse().finally(a)}}u=new WeakMap;class lX{constructor(a,b,c,d){v.set(this,void 0),kY(this,v,a,"f"),this.options=d,this.response=b,this.body=c}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){let a=this.nextPageRequestOptions();if(!a)throw new k1("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await kZ(this,v,"f").requestAPIList(this.constructor,a)}async *iterPages(){let a=this;for(yield a;a.hasNextPage();)a=await a.getNextPage(),yield a}async *[(v=new WeakMap,Symbol.asyncIterator)](){for await(let a of this.iterPages())for(let b of a.getPaginatedItems())yield b}}class lY extends lW{constructor(a,b,c){super(a,b,async(a,b)=>new c(a,b.response,await lU(a,b),b.options))}async *[Symbol.asyncIterator](){for await(let a of(await this))yield a}}class lZ extends lX{constructor(a,b,c,d){super(a,b,c,d),this.data=c.data||[],this.object=c.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class l$ extends lX{constructor(a,b,c,d){super(a,b,c,d),this.data=c.data||[],this.has_more=c.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){let a=this.getPaginatedItems(),b=a[a.length-1]?.id;return b?{...this.options,query:{...lk(this.options.query),after:b}}:null}}class l_ extends lX{constructor(a,b,c,d){super(a,b,c,d),this.data=c.data||[],this.has_more=c.has_more||!1,this.last_id=c.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){let a=this.last_id;return a?{...this.options,query:{...lk(this.options.query),after:a}}:null}}let l0=()=>{if("u"<typeof File){let{process:a}=globalThis;throw Error("`File` is not defined as a global, which is required for file uploads."+("string"==typeof a?.versions?.node&&20>parseInt(a.versions.node.split("."))?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function l1(a,b,c){return l0(),new File(a,b??"unknown_file",c)}function l2(a){return("object"==typeof a&&null!==a&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0}let l3=a=>null!=a&&"object"==typeof a&&"function"==typeof a[Symbol.asyncIterator],l4=async(a,b)=>l9(a.body)?{...a,body:await l7(a.body,b)}:a,l5=async(a,b)=>({...a,body:await l7(a.body,b)}),l6=new WeakMap,l7=async(a,b)=>{if(!await function(a){let b="function"==typeof a?a:a.fetch,c=l6.get(b);if(c)return c;let d=(async()=>{try{let a="Response"in b?b.Response:(await b("data:,")).constructor,c=new FormData;if(c.toString()===await new a(c).text())return!1;return!0}catch{return!0}})();return l6.set(b,d),d}(b))throw TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let c=new FormData;return await Promise.all(Object.entries(a||{}).map(([a,b])=>ma(c,a,b))),c},l8=a=>a instanceof Blob&&"name"in a,l9=a=>{if("object"==typeof a&&null!==a&&(a instanceof Response||l3(a)||l8(a)))return!0;if(Array.isArray(a))return a.some(l9);if(a&&"object"==typeof a){for(let b in a)if(l9(a[b]))return!0}return!1},ma=async(a,b,c)=>{if(void 0!==c){if(null==c)throw TypeError(`Received null for "${b}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof c||"number"==typeof c||"boolean"==typeof c)a.append(b,String(c));else if(c instanceof Response)a.append(b,l1([await c.blob()],l2(c)));else if(l3(c))a.append(b,l1([await new Response(lr(c)).blob()],l2(c)));else if(l8(c))a.append(b,c,l2(c));else if(Array.isArray(c))await Promise.all(c.map(c=>ma(a,b+"[]",c)));else if("object"==typeof c)await Promise.all(Object.entries(c).map(([c,d])=>ma(a,`${b}[${c}]`,d)));else throw TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${c} instead`)}},mb=a=>null!=a&&"object"==typeof a&&"number"==typeof a.size&&"string"==typeof a.type&&"function"==typeof a.text&&"function"==typeof a.slice&&"function"==typeof a.arrayBuffer;async function mc(a,b,c){let d,e;if(l0(),null!=(d=a=await a)&&"object"==typeof d&&"string"==typeof d.name&&"number"==typeof d.lastModified&&mb(d))return a instanceof File?a:l1([await a.arrayBuffer()],a.name);if(null!=(e=a)&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob){let d=await a.blob();return b||(b=new URL(a.url).pathname.split(/[\\/]/).pop()),l1(await md(d),b,c)}let f=await md(a);if(b||(b=l2(a)),!c?.type){let a=f.find(a=>"object"==typeof a&&"type"in a&&a.type);"string"==typeof a&&(c={...c,type:a})}return l1(f,b,c)}async function md(a){let b=[];if("string"==typeof a||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)b.push(a);else if(mb(a))b.push(a instanceof Blob?a:await a.arrayBuffer());else if(l3(a))for await(let c of a)b.push(...await md(c));else{let b=a?.constructor?.name;throw Error(`Unexpected data type: ${typeof a}${b?`; constructor: ${b}`:""}${function(a){if("object"!=typeof a||null===a)return"";let b=Object.getOwnPropertyNames(a);return`; props: [${b.map(a=>`"${a}"`).join(", ")}]`}(a)}`)}return b}class me{constructor(a){this._client=a}}function mf(a){return a.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}let mg=Object.freeze(Object.create(null)),mh=((a=mf)=>function(b,...c){let d;if(1===b.length)return b[0];let e=!1,f=[],g=b.reduce((b,d,g)=>{/[?#]/.test(d)&&(e=!0);let h=c[g],i=(e?encodeURIComponent:a)(""+h);return g!==c.length&&(null==h||"object"==typeof h&&h.toString===Object.getPrototypeOf(Object.getPrototypeOf(h.hasOwnProperty??mg)??mg)?.toString)&&(i=h+"",f.push({start:b.length+d.length,length:i.length,error:`Value of type ${Object.prototype.toString.call(h).slice(8,-1)} is not a valid path parameter`})),b+d+(g===c.length?"":i)},""),h=g.split(/[?#]/,1)[0],i=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;for(;null!==(d=i.exec(h));)f.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(f.sort((a,b)=>a.start-b.start),f.length>0){let a=0,b=f.reduce((b,c)=>{let d=" ".repeat(c.start-a),e="^".repeat(c.length);return a=c.start+c.length,b+d+e},"");throw new k1(`Path parameters result in path with invalid segments:
${f.map(a=>a.error).join("\n")}
${g}
${b}`)}return g})(mf);class mi extends me{list(a,b={},c){return this._client.getAPIList(mh`/chat/completions/${a}/messages`,l$,{query:b,...c})}}function mj(a){return void 0!==a&&"function"in a&&void 0!==a.function}function mk(a){return a?.$brand==="auto-parseable-response-format"}function ml(a){return a?.$brand==="auto-parseable-tool"}function mm(a,b){let c=a.choices.map(a=>{var c,d;if("length"===a.finish_reason)throw new le;if("content_filter"===a.finish_reason)throw new lf;return mo(a.message.tool_calls),{...a,message:{...a.message,...a.message.tool_calls?{tool_calls:a.message.tool_calls?.map(a=>{var c,d;let e;return c=b,d=a,e=c.tools?.find(a=>mj(a)&&a.function?.name===d.function.name),{...d,function:{...d.function,parsed_arguments:ml(e)?e.$parseRaw(d.function.arguments):e?.function.strict?JSON.parse(d.function.arguments):null}}})??void 0}:void 0,parsed:a.message.content&&!a.message.refusal?(c=b,d=a.message.content,c.response_format?.type!=="json_schema"?null:c.response_format?.type==="json_schema"?"$parseRaw"in c.response_format?c.response_format.$parseRaw(d):JSON.parse(d):null):null}}});return{...a,choices:c}}function mn(a){return!!mk(a.response_format)||(a.tools?.some(a=>ml(a)||"function"===a.type&&!0===a.function.strict)??!1)}function mo(a){for(let b of a||[])if("function"!==b.type)throw new k1(`Currently only \`function\` tool calls are supported; Received \`${b.type}\``)}let mp=a=>a?.role==="assistant",mq=a=>a?.role==="tool";class mr{constructor(){w.add(this),this.controller=new AbortController,x.set(this,void 0),y.set(this,()=>{}),z.set(this,()=>{}),A.set(this,void 0),B.set(this,()=>{}),C.set(this,()=>{}),D.set(this,{}),E.set(this,!1),F.set(this,!1),G.set(this,!1),H.set(this,!1),kY(this,x,new Promise((a,b)=>{kY(this,y,a,"f"),kY(this,z,b,"f")}),"f"),kY(this,A,new Promise((a,b)=>{kY(this,B,a,"f"),kY(this,C,b,"f")}),"f"),kZ(this,x,"f").catch(()=>{}),kZ(this,A,"f").catch(()=>{})}_run(a){setTimeout(()=>{a().then(()=>{this._emitFinal(),this._emit("end")},kZ(this,w,"m",I).bind(this))},0)}_connected(){this.ended||(kZ(this,y,"f").call(this),this._emit("connect"))}get ended(){return kZ(this,E,"f")}get errored(){return kZ(this,F,"f")}get aborted(){return kZ(this,G,"f")}abort(){this.controller.abort()}on(a,b){return(kZ(this,D,"f")[a]||(kZ(this,D,"f")[a]=[])).push({listener:b}),this}off(a,b){let c=kZ(this,D,"f")[a];if(!c)return this;let d=c.findIndex(a=>a.listener===b);return d>=0&&c.splice(d,1),this}once(a,b){return(kZ(this,D,"f")[a]||(kZ(this,D,"f")[a]=[])).push({listener:b,once:!0}),this}emitted(a){return new Promise((b,c)=>{kY(this,H,!0,"f"),"error"!==a&&this.once("error",c),this.once(a,b)})}async done(){kY(this,H,!0,"f"),await kZ(this,A,"f")}_emit(a,...b){if(kZ(this,E,"f"))return;"end"===a&&(kY(this,E,!0,"f"),kZ(this,B,"f").call(this));let c=kZ(this,D,"f")[a];if(c&&(kZ(this,D,"f")[a]=c.filter(a=>!a.once),c.forEach(({listener:a})=>a(...b))),"abort"===a){let a=b[0];kZ(this,H,"f")||c?.length||Promise.reject(a),kZ(this,z,"f").call(this,a),kZ(this,C,"f").call(this,a),this._emit("end");return}if("error"===a){let a=b[0];kZ(this,H,"f")||c?.length||Promise.reject(a),kZ(this,z,"f").call(this,a),kZ(this,C,"f").call(this,a),this._emit("end")}}_emitFinal(){}}x=new WeakMap,y=new WeakMap,z=new WeakMap,A=new WeakMap,B=new WeakMap,C=new WeakMap,D=new WeakMap,E=new WeakMap,F=new WeakMap,G=new WeakMap,H=new WeakMap,w=new WeakSet,I=function(a){if(kY(this,F,!0,"f"),a instanceof Error&&"AbortError"===a.name&&(a=new k3),a instanceof k3)return kY(this,G,!0,"f"),this._emit("abort",a);if(a instanceof k1)return this._emit("error",a);if(a instanceof Error){let b=new k1(a.message);return b.cause=a,this._emit("error",b)}return this._emit("error",new k1(String(a)))};class ms extends mr{constructor(){super(...arguments),J.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(a){this._chatCompletions.push(a),this._emit("chatCompletion",a);let b=a.choices[0]?.message;return b&&this._addMessage(b),a}_addMessage(a,b=!0){if("content"in a||(a.content=null),this.messages.push(a),b){if(this._emit("message",a),mq(a)&&a.content)this._emit("functionToolCallResult",a.content);else if(mp(a)&&a.tool_calls)for(let b of a.tool_calls)"function"===b.type&&this._emit("functionToolCall",b.function)}}async finalChatCompletion(){await this.done();let a=this._chatCompletions[this._chatCompletions.length-1];if(!a)throw new k1("stream ended without producing a ChatCompletion");return a}async finalContent(){return await this.done(),kZ(this,J,"m",K).call(this)}async finalMessage(){return await this.done(),kZ(this,J,"m",L).call(this)}async finalFunctionToolCall(){return await this.done(),kZ(this,J,"m",M).call(this)}async finalFunctionToolCallResult(){return await this.done(),kZ(this,J,"m",N).call(this)}async totalUsage(){return await this.done(),kZ(this,J,"m",O).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let a=this._chatCompletions[this._chatCompletions.length-1];a&&this._emit("finalChatCompletion",a);let b=kZ(this,J,"m",L).call(this);b&&this._emit("finalMessage",b);let c=kZ(this,J,"m",K).call(this);c&&this._emit("finalContent",c);let d=kZ(this,J,"m",M).call(this);d&&this._emit("finalFunctionToolCall",d);let e=kZ(this,J,"m",N).call(this);null!=e&&this._emit("finalFunctionToolCallResult",e),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",kZ(this,J,"m",O).call(this))}async _createChatCompletion(a,b,c){let d=c?.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort())),kZ(this,J,"m",P).call(this,b);let e=await a.chat.completions.create({...b,stream:!1},{...c,signal:this.controller.signal});return this._connected(),this._addChatCompletion(mm(e,b))}async _runChatCompletion(a,b,c){for(let a of b.messages)this._addMessage(a,!1);return await this._createChatCompletion(a,b,c)}async _runTools(a,b,c){let d="tool",{tool_choice:e="auto",stream:f,...g}=b,h="string"!=typeof e&&"function"===e.type&&e?.function?.name,{maxChatCompletions:i=10}=c||{},j=b.tools.map(a=>{if(ml(a)){if(!a.$callback)throw new k1("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:a.$callback,name:a.function.name,description:a.function.description||"",parameters:a.function.parameters,parse:a.$parseRaw,strict:!0}}}return a}),k={};for(let a of j)"function"===a.type&&(k[a.function.name||a.function.function.name]=a.function);let l="tools"in b?j.map(a=>"function"===a.type?{type:"function",function:{name:a.function.name||a.function.function.name,parameters:a.function.parameters,description:a.function.description,strict:a.function.strict}}:a):void 0;for(let a of b.messages)this._addMessage(a,!1);for(let b=0;b<i;++b){let b=await this._createChatCompletion(a,{...g,tool_choice:e,tools:l,messages:[...this.messages]},c),f=b.choices[0]?.message;if(!f)throw new k1("missing message in ChatCompletion response");if(!f.tool_calls?.length)break;for(let a of f.tool_calls){let b;if("function"!==a.type)continue;let c=a.id,{name:e,arguments:f}=a.function,g=k[e];if(g){if(h&&h!==e){let a=`Invalid tool_call: ${JSON.stringify(e)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:d,tool_call_id:c,content:a});continue}}else{let a=`Invalid tool_call: ${JSON.stringify(e)}. Available options are: ${Object.keys(k).map(a=>JSON.stringify(a)).join(", ")}. Please try again`;this._addMessage({role:d,tool_call_id:c,content:a});continue}try{b="function"==typeof g.parse?await g.parse(f):f}catch(b){let a=b instanceof Error?b.message:String(b);this._addMessage({role:d,tool_call_id:c,content:a});continue}let i=await g.function(b,this),j=kZ(this,J,"m",Q).call(this,i);if(this._addMessage({role:d,tool_call_id:c,content:j}),h)return}}}}J=new WeakSet,K=function(){return kZ(this,J,"m",L).call(this).content??null},L=function(){let a=this.messages.length;for(;a-- >0;){let b=this.messages[a];if(mp(b))return{...b,content:b.content??null,refusal:b.refusal??null}}throw new k1("stream ended without producing a ChatCompletionMessage with role=assistant")},M=function(){for(let a=this.messages.length-1;a>=0;a--){let b=this.messages[a];if(mp(b)&&b?.tool_calls?.length)return b.tool_calls.filter(a=>"function"===a.type).at(-1)?.function}},N=function(){for(let a=this.messages.length-1;a>=0;a--){let b=this.messages[a];if(mq(b)&&null!=b.content&&"string"==typeof b.content&&this.messages.some(a=>"assistant"===a.role&&a.tool_calls?.some(a=>"function"===a.type&&a.id===b.tool_call_id)))return b.content}},O=function(){let a={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:b}of this._chatCompletions)b&&(a.completion_tokens+=b.completion_tokens,a.prompt_tokens+=b.prompt_tokens,a.total_tokens+=b.total_tokens);return a},P=function(a){if(null!=a.n&&a.n>1)throw new k1("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Q=function(a){return"string"==typeof a?a:void 0===a?"undefined":JSON.stringify(a)};class mt extends ms{static runTools(a,b,c){let d=new mt,e={...c,headers:{...c?.headers,"X-Stainless-Helper-Method":"runTools"}};return d._run(()=>d._runTools(a,b,e)),d}_addMessage(a,b=!0){super._addMessage(a,b),mp(a)&&a.content&&this._emit("content",a.content)}}let mu=511;class mv extends Error{}class mw extends Error{}let mx=a=>(function(a,b=mu){var c,d;let e,f,g,h,i,j,k,l,m,n;if("string"!=typeof a)throw TypeError(`expecting str, got ${typeof a}`);if(!a.trim())throw Error(`${a} is empty`);return c=a.trim(),d=b,e=c.length,f=0,g=a=>{throw new mv(`${a} at position ${f}`)},h=a=>{throw new mw(`${a} at position ${f}`)},i=()=>(n(),f>=e&&g("Unexpected end of input"),'"'===c[f])?j():"{"===c[f]?k():"["===c[f]?l():"null"===c.substring(f,f+4)||16&d&&e-f<4&&"null".startsWith(c.substring(f))?(f+=4,null):"true"===c.substring(f,f+4)||32&d&&e-f<4&&"true".startsWith(c.substring(f))?(f+=4,!0):"false"===c.substring(f,f+5)||32&d&&e-f<5&&"false".startsWith(c.substring(f))?(f+=5,!1):"Infinity"===c.substring(f,f+8)||128&d&&e-f<8&&"Infinity".startsWith(c.substring(f))?(f+=8,1/0):"-Infinity"===c.substring(f,f+9)||256&d&&1<e-f&&e-f<9&&"-Infinity".startsWith(c.substring(f))?(f+=9,-1/0):"NaN"===c.substring(f,f+3)||64&d&&e-f<3&&"NaN".startsWith(c.substring(f))?(f+=3,NaN):m(),j=()=>{let a=f,b=!1;for(f++;f<e&&('"'!==c[f]||b&&"\\"===c[f-1]);)b="\\"===c[f]&&!b,f++;if('"'==c.charAt(f))try{return JSON.parse(c.substring(a,++f-Number(b)))}catch(a){h(String(a))}else if(1&d)try{return JSON.parse(c.substring(a,f-Number(b))+'"')}catch(b){return JSON.parse(c.substring(a,c.lastIndexOf("\\"))+'"')}g("Unterminated string literal")},k=()=>{f++,n();let a={};try{for(;"}"!==c[f];){if(n(),f>=e&&8&d)return a;let b=j();n(),f++;try{let c=i();Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(8&d)return a;throw b}n(),","===c[f]&&f++}}catch(b){if(8&d)return a;g("Expected '}' at end of object")}return f++,a},l=()=>{f++;let a=[];try{for(;"]"!==c[f];)a.push(i()),n(),","===c[f]&&f++}catch(b){if(4&d)return a;g("Expected ']' at end of array")}return f++,a},m=()=>{if(0===f){"-"===c&&2&d&&g("Not sure what '-' is");try{return JSON.parse(c)}catch(a){if(2&d)try{if("."===c[c.length-1])return JSON.parse(c.substring(0,c.lastIndexOf(".")));return JSON.parse(c.substring(0,c.lastIndexOf("e")))}catch(a){}h(String(a))}}let a=f;for("-"===c[f]&&f++;c[f]&&!",]}".includes(c[f]);)f++;f!=e||2&d||g("Unterminated number literal");try{return JSON.parse(c.substring(a,f))}catch(b){"-"===c.substring(a,f)&&2&d&&g("Not sure what '-' is");try{return JSON.parse(c.substring(a,c.lastIndexOf("e")))}catch(a){h(String(a))}}},n=()=>{for(;f<e&&" \n\r	".includes(c[f]);)f++},i()})(a,2^mu);class my extends ms{constructor(a){super(),R.add(this),S.set(this,void 0),T.set(this,void 0),U.set(this,void 0),kY(this,S,a,"f"),kY(this,T,[],"f")}get currentChatCompletionSnapshot(){return kZ(this,U,"f")}static fromReadableStream(a){let b=new my(null);return b._run(()=>b._fromReadableStream(a)),b}static createChatCompletion(a,b,c){let d=new my(b);return d._run(()=>d._runChatCompletion(a,{...b,stream:!0},{...c,headers:{...c?.headers,"X-Stainless-Helper-Method":"stream"}})),d}async _createChatCompletion(a,b,c){super._createChatCompletion;let d=c?.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort())),kZ(this,R,"m",V).call(this);let e=await a.chat.completions.create({...b,stream:!0},{...c,signal:this.controller.signal});for await(let a of(this._connected(),e))kZ(this,R,"m",X).call(this,a);if(e.controller.signal?.aborted)throw new k3;return this._addChatCompletion(kZ(this,R,"m",$).call(this))}async _fromReadableStream(a,b){let c,d=b?.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort())),kZ(this,R,"m",V).call(this),this._connected();let e=lQ.fromReadableStream(a,this.controller);for await(let a of e)c&&c!==a.id&&this._addChatCompletion(kZ(this,R,"m",$).call(this)),kZ(this,R,"m",X).call(this,a),c=a.id;if(e.controller.signal?.aborted)throw new k3;return this._addChatCompletion(kZ(this,R,"m",$).call(this))}[(S=new WeakMap,T=new WeakMap,U=new WeakMap,R=new WeakSet,V=function(){this.ended||kY(this,U,void 0,"f")},W=function(a){let b=kZ(this,T,"f")[a.index];return b||(b={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},kZ(this,T,"f")[a.index]=b),b},X=function(a){if(this.ended)return;let b=kZ(this,R,"m",aa).call(this,a);for(let c of(this._emit("chunk",a,b),a.choices)){let a=b.choices[c.index];null!=c.delta.content&&a.message?.role==="assistant"&&a.message?.content&&(this._emit("content",c.delta.content,a.message.content),this._emit("content.delta",{delta:c.delta.content,snapshot:a.message.content,parsed:a.message.parsed})),null!=c.delta.refusal&&a.message?.role==="assistant"&&a.message?.refusal&&this._emit("refusal.delta",{delta:c.delta.refusal,snapshot:a.message.refusal}),c.logprobs?.content!=null&&a.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:c.logprobs?.content,snapshot:a.logprobs?.content??[]}),c.logprobs?.refusal!=null&&a.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:c.logprobs?.refusal,snapshot:a.logprobs?.refusal??[]});let d=kZ(this,R,"m",W).call(this,a);for(let b of(a.finish_reason&&(kZ(this,R,"m",Z).call(this,a),null!=d.current_tool_call_index&&kZ(this,R,"m",Y).call(this,a,d.current_tool_call_index)),c.delta.tool_calls??[]))d.current_tool_call_index!==b.index&&(kZ(this,R,"m",Z).call(this,a),null!=d.current_tool_call_index&&kZ(this,R,"m",Y).call(this,a,d.current_tool_call_index)),d.current_tool_call_index=b.index;for(let b of c.delta.tool_calls??[]){let c=a.message.tool_calls?.[b.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:b.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:b.function?.arguments??""}):mB(c?.type))}}},Y=function(a,b){if(kZ(this,R,"m",W).call(this,a).done_tool_calls.has(b))return;let c=a.message.tool_calls?.[b];if(!c)throw Error("no tool call snapshot");if(!c.type)throw Error("tool call snapshot missing `type`");if("function"===c.type){let a=kZ(this,S,"f")?.tools?.find(a=>mj(a)&&a.function.name===c.function.name);this._emit("tool_calls.function.arguments.done",{name:c.function.name,index:b,arguments:c.function.arguments,parsed_arguments:ml(a)?a.$parseRaw(c.function.arguments):a?.function.strict?JSON.parse(c.function.arguments):null})}else mB(c.type)},Z=function(a){let b=kZ(this,R,"m",W).call(this,a);if(a.message.content&&!b.content_done){b.content_done=!0;let c=kZ(this,R,"m",_).call(this);this._emit("content.done",{content:a.message.content,parsed:c?c.$parseRaw(a.message.content):null})}a.message.refusal&&!b.refusal_done&&(b.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),a.logprobs?.content&&!b.logprobs_content_done&&(b.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),a.logprobs?.refusal&&!b.logprobs_refusal_done&&(b.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},$=function(){if(this.ended)throw new k1("stream has ended, this shouldn't happen");let a=kZ(this,U,"f");if(!a)throw new k1("request ended without sending any chunks");return kY(this,U,void 0,"f"),kY(this,T,[],"f"),function(a,b){var c;let{id:d,choices:e,created:f,model:g,system_fingerprint:h,...i}=a;return c={...i,id:d,choices:e.map(({message:b,finish_reason:c,index:d,logprobs:e,...f})=>{if(!c)throw new k1(`missing finish_reason for choice ${d}`);let{content:g=null,function_call:h,tool_calls:i,...j}=b,k=b.role;if(!k)throw new k1(`missing role for choice ${d}`);if(h){let{arguments:a,name:i}=h;if(null==a)throw new k1(`missing function_call.arguments for choice ${d}`);if(!i)throw new k1(`missing function_call.name for choice ${d}`);return{...f,message:{content:g,function_call:{arguments:a,name:i},role:k,refusal:b.refusal??null},finish_reason:c,index:d,logprobs:e}}return i?{...f,index:d,finish_reason:c,logprobs:e,message:{...j,role:k,content:g,refusal:b.refusal??null,tool_calls:i.map((b,c)=>{let{function:e,type:f,id:g,...h}=b,{arguments:i,name:j,...k}=e||{};if(null==g)throw new k1(`missing choices[${d}].tool_calls[${c}].id
${mz(a)}`);if(null==f)throw new k1(`missing choices[${d}].tool_calls[${c}].type
${mz(a)}`);if(null==j)throw new k1(`missing choices[${d}].tool_calls[${c}].function.name
${mz(a)}`);if(null==i)throw new k1(`missing choices[${d}].tool_calls[${c}].function.arguments
${mz(a)}`);return{...h,id:g,type:f,function:{...k,name:j,arguments:i}}})}}:{...f,message:{...j,content:g,role:k,refusal:b.refusal??null},finish_reason:c,index:d,logprobs:e}}),created:f,model:g,object:"chat.completion",...h?{system_fingerprint:h}:{}},b&&mn(b)?mm(c,b):{...c,choices:c.choices.map(a=>(mo(a.message.tool_calls),{...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}}(a,kZ(this,S,"f"))},_=function(){let a=kZ(this,S,"f")?.response_format;return mk(a)?a:null},aa=function(a){var b,c,d,e;let f=kZ(this,U,"f"),{choices:g,...h}=a;for(let{delta:g,finish_reason:i,index:j,logprobs:k=null,...l}of(f?Object.assign(f,h):f=kY(this,U,{...h,choices:[]},"f"),a.choices)){let a=f.choices[j];if(a||(a=f.choices[j]={finish_reason:i,index:j,message:{},logprobs:k,...l}),k)if(a.logprobs){let{content:d,refusal:e,...f}=k;mA(f),Object.assign(a.logprobs,f),d&&((b=a.logprobs).content??(b.content=[]),a.logprobs.content.push(...d)),e&&((c=a.logprobs).refusal??(c.refusal=[]),a.logprobs.refusal.push(...e))}else a.logprobs=Object.assign({},k);if(i&&(a.finish_reason=i,kZ(this,S,"f")&&mn(kZ(this,S,"f")))){if("length"===i)throw new le;if("content_filter"===i)throw new lf}if(Object.assign(a,l),!g)continue;let{content:h,refusal:m,function_call:n,role:o,tool_calls:p,...q}=g;if(mA(q),Object.assign(a.message,q),m&&(a.message.refusal=(a.message.refusal||"")+m),o&&(a.message.role=o),n&&(a.message.function_call?(n.name&&(a.message.function_call.name=n.name),n.arguments&&((d=a.message.function_call).arguments??(d.arguments=""),a.message.function_call.arguments+=n.arguments)):a.message.function_call=n),h&&(a.message.content=(a.message.content||"")+h,!a.message.refusal&&kZ(this,R,"m",_).call(this)&&(a.message.parsed=mx(a.message.content))),p)for(let{index:b,id:c,type:d,function:f,...g}of(a.message.tool_calls||(a.message.tool_calls=[]),p)){let h=(e=a.message.tool_calls)[b]??(e[b]={});Object.assign(h,g),c&&(h.id=c),d&&(h.type=d),f&&(h.function??(h.function={name:f.name??"",arguments:""})),f?.name&&(h.function.name=f.name),f?.arguments&&(h.function.arguments+=f.arguments,function(a,b){if(!a||!("tools"in a)||!a.tools)return!1;let c=a.tools?.find(a=>mj(a)&&a.function?.name===b.function.name);return mj(c)&&(ml(c)||c?.function.strict||!1)}(kZ(this,S,"f"),h)&&(h.function.parsed_arguments=mx(h.function.arguments)))}}return f},Symbol.asyncIterator)](){let a=[],b=[],c=!1;return this.on("chunk",c=>{let d=b.shift();d?d.resolve(c):a.push(c)}),this.on("end",()=>{for(let a of(c=!0,b))a.resolve(void 0);b.length=0}),this.on("abort",a=>{for(let d of(c=!0,b))d.reject(a);b.length=0}),this.on("error",a=>{for(let d of(c=!0,b))d.reject(a);b.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:c?{value:void 0,done:!0}:new Promise((a,c)=>b.push({resolve:a,reject:c})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new lQ(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function mz(a){return JSON.stringify(a)}function mA(a){}function mB(a){}class mC extends my{static fromReadableStream(a){let b=new mC(null);return b._run(()=>b._fromReadableStream(a)),b}static runTools(a,b,c){let d=new mC(b),e={...c,headers:{...c?.headers,"X-Stainless-Helper-Method":"runTools"}};return d._run(()=>d._runTools(a,b,e)),d}}class mD extends me{constructor(){super(...arguments),this.messages=new mi(this._client)}create(a,b){return this._client.post("/chat/completions",{body:a,...b,stream:a.stream??!1})}retrieve(a,b){return this._client.get(mh`/chat/completions/${a}`,b)}update(a,b,c){return this._client.post(mh`/chat/completions/${a}`,{body:b,...c})}list(a={},b){return this._client.getAPIList("/chat/completions",l$,{query:a,...b})}delete(a,b){return this._client.delete(mh`/chat/completions/${a}`,b)}parse(a,b){for(let b of a.tools??[]){if("function"!==b.type)throw new k1(`Currently only \`function\` tool types support auto-parsing; Received \`${b.type}\``);if(!0!==b.function.strict)throw new k1(`The \`${b.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}return this._client.chat.completions.create(a,{...b,headers:{...b?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(b=>mm(b,a))}runTools(a,b){return a.stream?mC.runTools(this._client,a,b):mt.runTools(this._client,a,b)}stream(a,b){return my.createChatCompletion(this._client,a,b)}}mD.Messages=mi;class mE extends me{constructor(){super(...arguments),this.completions=new mD(this._client)}}mE.Completions=mD,a.s([],45834);let mF=Symbol("brand.privateNullableHeaders"),mG=a=>{let b=new Headers,c=new Set;for(let d of a){let a=new Set;for(let[e,f]of function*(a){let b;if(!a)return;if(mF in a){let{values:b,nulls:c}=a;for(let a of(yield*b.entries(),c))yield[a,null];return}let c=!1;for(let d of(a instanceof Headers?b=a.entries():lj(a)?b=a:(c=!0,b=Object.entries(a??{})),b)){let a=d[0];if("string"!=typeof a)throw TypeError("expected header name to be a string");let b=lj(d[1])?d[1]:[d[1]],e=!1;for(let d of b)void 0!==d&&(c&&!e&&(e=!0,yield[a,null]),yield[a,d])}}(d)){let d=e.toLowerCase();a.has(d)||(b.delete(e),a.add(d)),null===f?(b.delete(e),c.add(d)):(b.append(e,f),c.delete(d))}}return{[mF]:!0,values:b,nulls:c}};class mH extends me{create(a,b){return this._client.post("/audio/speech",{body:a,...b,headers:mG([{Accept:"application/octet-stream"},b?.headers]),__binaryResponse:!0})}}class mI extends me{create(a,b){return this._client.post("/audio/transcriptions",l5({body:a,...b,stream:a.stream??!1,__metadata:{model:a.model}},this._client))}}class mJ extends me{create(a,b){return this._client.post("/audio/translations",l5({body:a,...b,__metadata:{model:a.model}},this._client))}}class mK extends me{constructor(){super(...arguments),this.transcriptions=new mI(this._client),this.translations=new mJ(this._client),this.speech=new mH(this._client)}}mK.Transcriptions=mI,mK.Translations=mJ,mK.Speech=mH;class mL extends me{create(a,b){return this._client.post("/batches",{body:a,...b})}retrieve(a,b){return this._client.get(mh`/batches/${a}`,b)}list(a={},b){return this._client.getAPIList("/batches",l$,{query:a,...b})}cancel(a,b){return this._client.post(mh`/batches/${a}/cancel`,b)}}class mM extends me{create(a,b){return this._client.post("/assistants",{body:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}retrieve(a,b){return this._client.get(mh`/assistants/${a}`,{...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}update(a,b,c){return this._client.post(mh`/assistants/${a}`,{body:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}list(a={},b){return this._client.getAPIList("/assistants",l$,{query:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}delete(a,b){return this._client.delete(mh`/assistants/${a}`,{...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}}class mN extends me{create(a,b){return this._client.post("/realtime/sessions",{body:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}}class mO extends me{create(a,b){return this._client.post("/realtime/transcription_sessions",{body:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}}class mP extends me{constructor(){super(...arguments),this.sessions=new mN(this._client),this.transcriptionSessions=new mO(this._client)}}mP.Sessions=mN,mP.TranscriptionSessions=mO;class mQ extends me{create(a,b){return this._client.post("/chatkit/sessions",{body:a,...b,headers:mG([{"OpenAI-Beta":"chatkit_beta=v1"},b?.headers])})}cancel(a,b){return this._client.post(mh`/chatkit/sessions/${a}/cancel`,{...b,headers:mG([{"OpenAI-Beta":"chatkit_beta=v1"},b?.headers])})}}class mR extends me{retrieve(a,b){return this._client.get(mh`/chatkit/threads/${a}`,{...b,headers:mG([{"OpenAI-Beta":"chatkit_beta=v1"},b?.headers])})}list(a={},b){return this._client.getAPIList("/chatkit/threads",l_,{query:a,...b,headers:mG([{"OpenAI-Beta":"chatkit_beta=v1"},b?.headers])})}delete(a,b){return this._client.delete(mh`/chatkit/threads/${a}`,{...b,headers:mG([{"OpenAI-Beta":"chatkit_beta=v1"},b?.headers])})}listItems(a,b={},c){return this._client.getAPIList(mh`/chatkit/threads/${a}/items`,l_,{query:b,...c,headers:mG([{"OpenAI-Beta":"chatkit_beta=v1"},c?.headers])})}}class mS extends me{constructor(){super(...arguments),this.sessions=new mQ(this._client),this.threads=new mR(this._client)}}mS.Sessions=mQ,mS.Threads=mR;class mT extends me{create(a,b,c){return this._client.post(mh`/threads/${a}/messages`,{body:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}retrieve(a,b,c){let{thread_id:d}=b;return this._client.get(mh`/threads/${d}/messages/${a}`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}update(a,b,c){let{thread_id:d,...e}=b;return this._client.post(mh`/threads/${d}/messages/${a}`,{body:e,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}list(a,b={},c){return this._client.getAPIList(mh`/threads/${a}/messages`,l$,{query:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}delete(a,b,c){let{thread_id:d}=b;return this._client.delete(mh`/threads/${d}/messages/${a}`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}}class mU extends me{retrieve(a,b,c){let{thread_id:d,run_id:e,...f}=b;return this._client.get(mh`/threads/${d}/runs/${e}/steps/${a}`,{query:f,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}list(a,b,c){let{thread_id:d,...e}=b;return this._client.getAPIList(mh`/threads/${d}/runs/${a}/steps`,l$,{query:e,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}}let mV=a=>void 0!==globalThis.process?globalThis.process.env?.[a]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(a)?.trim():void 0;class mW extends mr{constructor(){super(...arguments),ab.add(this),ad.set(this,[]),ae.set(this,{}),af.set(this,{}),ag.set(this,void 0),ah.set(this,void 0),ai.set(this,void 0),aj.set(this,void 0),ak.set(this,void 0),al.set(this,void 0),am.set(this,void 0),an.set(this,void 0),ao.set(this,void 0)}[(ad=new WeakMap,ae=new WeakMap,af=new WeakMap,ag=new WeakMap,ah=new WeakMap,ai=new WeakMap,aj=new WeakMap,ak=new WeakMap,al=new WeakMap,am=new WeakMap,an=new WeakMap,ao=new WeakMap,ab=new WeakSet,Symbol.asyncIterator)](){let a=[],b=[],c=!1;return this.on("event",c=>{let d=b.shift();d?d.resolve(c):a.push(c)}),this.on("end",()=>{for(let a of(c=!0,b))a.resolve(void 0);b.length=0}),this.on("abort",a=>{for(let d of(c=!0,b))d.reject(a);b.length=0}),this.on("error",a=>{for(let d of(c=!0,b))d.reject(a);b.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:c?{value:void 0,done:!0}:new Promise((a,c)=>b.push({resolve:a,reject:c})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(a){let b=new ac;return b._run(()=>b._fromReadableStream(a)),b}async _fromReadableStream(a,b){let c=b?.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),this._connected();let d=lQ.fromReadableStream(a,this.controller);for await(let a of d)kZ(this,ab,"m",ap).call(this,a);if(d.controller.signal?.aborted)throw new k3;return this._addRun(kZ(this,ab,"m",aq).call(this))}toReadableStream(){return new lQ(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(a,b,c,d){let e=new ac;return e._run(()=>e._runToolAssistantStream(a,b,c,{...d,headers:{...d?.headers,"X-Stainless-Helper-Method":"stream"}})),e}async _createToolAssistantStream(a,b,c,d){let e=d?.signal;e&&(e.aborted&&this.controller.abort(),e.addEventListener("abort",()=>this.controller.abort()));let f={...c,stream:!0},g=await a.submitToolOutputs(b,f,{...d,signal:this.controller.signal});for await(let a of(this._connected(),g))kZ(this,ab,"m",ap).call(this,a);if(g.controller.signal?.aborted)throw new k3;return this._addRun(kZ(this,ab,"m",aq).call(this))}static createThreadAssistantStream(a,b,c){let d=new ac;return d._run(()=>d._threadAssistantStream(a,b,{...c,headers:{...c?.headers,"X-Stainless-Helper-Method":"stream"}})),d}static createAssistantStream(a,b,c,d){let e=new ac;return e._run(()=>e._runAssistantStream(a,b,c,{...d,headers:{...d?.headers,"X-Stainless-Helper-Method":"stream"}})),e}currentEvent(){return kZ(this,am,"f")}currentRun(){return kZ(this,an,"f")}currentMessageSnapshot(){return kZ(this,ag,"f")}currentRunStepSnapshot(){return kZ(this,ao,"f")}async finalRunSteps(){return await this.done(),Object.values(kZ(this,ae,"f"))}async finalMessages(){return await this.done(),Object.values(kZ(this,af,"f"))}async finalRun(){if(await this.done(),!kZ(this,ah,"f"))throw Error("Final run was not received.");return kZ(this,ah,"f")}async _createThreadAssistantStream(a,b,c){let d=c?.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));let e={...b,stream:!0},f=await a.createAndRun(e,{...c,signal:this.controller.signal});for await(let a of(this._connected(),f))kZ(this,ab,"m",ap).call(this,a);if(f.controller.signal?.aborted)throw new k3;return this._addRun(kZ(this,ab,"m",aq).call(this))}async _createAssistantStream(a,b,c,d){let e=d?.signal;e&&(e.aborted&&this.controller.abort(),e.addEventListener("abort",()=>this.controller.abort()));let f={...c,stream:!0},g=await a.create(b,f,{...d,signal:this.controller.signal});for await(let a of(this._connected(),g))kZ(this,ab,"m",ap).call(this,a);if(g.controller.signal?.aborted)throw new k3;return this._addRun(kZ(this,ab,"m",aq).call(this))}static accumulateDelta(a,b){for(let[c,d]of Object.entries(b)){if(!a.hasOwnProperty(c)){a[c]=d;continue}let b=a[c];if(null==b||"index"===c||"type"===c){a[c]=d;continue}if("string"==typeof b&&"string"==typeof d)b+=d;else if("number"==typeof b&&"number"==typeof d)b+=d;else if(ll(b)&&ll(d))b=this.accumulateDelta(b,d);else if(Array.isArray(b)&&Array.isArray(d)){if(b.every(a=>"string"==typeof a||"number"==typeof a)){b.push(...d);continue}for(let a of d){if(!ll(a))throw Error(`Expected array delta entry to be an object but got: ${a}`);let c=a.index;if(null==c)throw console.error(a),Error("Expected array delta entry to have an `index` property");if("number"!=typeof c)throw Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);let d=b[c];null==d?b.push(a):b[c]=this.accumulateDelta(d,a)}continue}else throw Error(`Unhandled record type: ${c}, deltaValue: ${d}, accValue: ${b}`);a[c]=b}return a}_addRun(a){return a}async _threadAssistantStream(a,b,c){return await this._createThreadAssistantStream(b,a,c)}async _runAssistantStream(a,b,c,d){return await this._createAssistantStream(b,a,c,d)}async _runToolAssistantStream(a,b,c,d){return await this._createToolAssistantStream(b,a,c,d)}}ac=mW,ap=function(a){if(!this.ended)switch(kY(this,am,a,"f"),kZ(this,ab,"m",at).call(this,a),a.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":kZ(this,ab,"m",ax).call(this,a);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":kZ(this,ab,"m",as).call(this,a);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":kZ(this,ab,"m",ar).call(this,a);break;case"error":throw Error("Encountered an error event in event processing - errors should be processed earlier")}},aq=function(){if(this.ended)throw new k1("stream has ended, this shouldn't happen");if(!kZ(this,ah,"f"))throw Error("Final run has not been received");return kZ(this,ah,"f")},ar=function(a){let[b,c]=kZ(this,ab,"m",av).call(this,a,kZ(this,ag,"f"));for(let a of(kY(this,ag,b,"f"),kZ(this,af,"f")[b.id]=b,c)){let c=b.content[a.index];c?.type=="text"&&this._emit("textCreated",c.text)}switch(a.event){case"thread.message.created":this._emit("messageCreated",a.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",a.data.delta,b),a.data.delta.content)for(let c of a.data.delta.content){if("text"==c.type&&c.text){let a=c.text,d=b.content[c.index];if(d&&"text"==d.type)this._emit("textDelta",a,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(c.index!=kZ(this,ai,"f")){if(kZ(this,aj,"f"))switch(kZ(this,aj,"f").type){case"text":this._emit("textDone",kZ(this,aj,"f").text,kZ(this,ag,"f"));break;case"image_file":this._emit("imageFileDone",kZ(this,aj,"f").image_file,kZ(this,ag,"f"))}kY(this,ai,c.index,"f")}kY(this,aj,b.content[c.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==kZ(this,ai,"f")){let b=a.data.content[kZ(this,ai,"f")];if(b)switch(b.type){case"image_file":this._emit("imageFileDone",b.image_file,kZ(this,ag,"f"));break;case"text":this._emit("textDone",b.text,kZ(this,ag,"f"))}}kZ(this,ag,"f")&&this._emit("messageDone",a.data),kY(this,ag,void 0,"f")}},as=function(a){let b=kZ(this,ab,"m",au).call(this,a);switch(kY(this,ao,b,"f"),a.event){case"thread.run.step.created":this._emit("runStepCreated",a.data);break;case"thread.run.step.delta":let c=a.data.delta;if(c.step_details&&"tool_calls"==c.step_details.type&&c.step_details.tool_calls&&"tool_calls"==b.step_details.type)for(let a of c.step_details.tool_calls)a.index==kZ(this,ak,"f")?this._emit("toolCallDelta",a,b.step_details.tool_calls[a.index]):(kZ(this,al,"f")&&this._emit("toolCallDone",kZ(this,al,"f")),kY(this,ak,a.index,"f"),kY(this,al,b.step_details.tool_calls[a.index],"f"),kZ(this,al,"f")&&this._emit("toolCallCreated",kZ(this,al,"f")));this._emit("runStepDelta",a.data.delta,b);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":kY(this,ao,void 0,"f"),"tool_calls"==a.data.step_details.type&&kZ(this,al,"f")&&(this._emit("toolCallDone",kZ(this,al,"f")),kY(this,al,void 0,"f")),this._emit("runStepDone",a.data,b)}},at=function(a){kZ(this,ad,"f").push(a),this._emit("event",a)},au=function(a){switch(a.event){case"thread.run.step.created":return kZ(this,ae,"f")[a.data.id]=a.data,a.data;case"thread.run.step.delta":let b=kZ(this,ae,"f")[a.data.id];if(!b)throw Error("Received a RunStepDelta before creation of a snapshot");let c=a.data;if(c.delta){let d=ac.accumulateDelta(b,c.delta);kZ(this,ae,"f")[a.data.id]=d}return kZ(this,ae,"f")[a.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":kZ(this,ae,"f")[a.data.id]=a.data}if(kZ(this,ae,"f")[a.data.id])return kZ(this,ae,"f")[a.data.id];throw Error("No snapshot available")},av=function(a,b){let c=[];switch(a.event){case"thread.message.created":return[a.data,c];case"thread.message.delta":if(!b)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let d=a.data;if(d.delta.content)for(let a of d.delta.content)if(a.index in b.content){let c=b.content[a.index];b.content[a.index]=kZ(this,ab,"m",aw).call(this,a,c)}else b.content[a.index]=a,c.push(a);return[b,c];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(b)return[b,c];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},aw=function(a,b){return ac.accumulateDelta(b,a)},ax=function(a){switch(kY(this,an,a.data,"f"),a.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":kY(this,ah,a.data,"f"),kZ(this,al,"f")&&(this._emit("toolCallDone",kZ(this,al,"f")),kY(this,al,void 0,"f"))}};class mX extends me{constructor(){super(...arguments),this.steps=new mU(this._client)}create(a,b,c){let{include:d,...e}=b;return this._client.post(mh`/threads/${a}/runs`,{query:{include:d},body:e,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers]),stream:b.stream??!1,__synthesizeEventData:!0})}retrieve(a,b,c){let{thread_id:d}=b;return this._client.get(mh`/threads/${d}/runs/${a}`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}update(a,b,c){let{thread_id:d,...e}=b;return this._client.post(mh`/threads/${d}/runs/${a}`,{body:e,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}list(a,b={},c){return this._client.getAPIList(mh`/threads/${a}/runs`,l$,{query:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}cancel(a,b,c){let{thread_id:d}=b;return this._client.post(mh`/threads/${d}/runs/${a}/cancel`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}async createAndPoll(a,b,c){let d=await this.create(a,b,c);return await this.poll(d.id,{thread_id:a},c)}createAndStream(a,b,c){return mW.createAssistantStream(a,this._client.beta.threads.runs,b,c)}async poll(a,b,c){let d=mG([c?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":c?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:e,response:f}=await this.retrieve(a,b,{...c,headers:{...c?.headers,...d}}).withResponse();switch(e.status){case"queued":case"in_progress":case"cancelling":let g=5e3;if(c?.pollIntervalMs)g=c.pollIntervalMs;else{let a=f.headers.get("openai-poll-after-ms");if(a){let b=parseInt(a);isNaN(b)||(g=b)}}await lm(g);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return e}}}stream(a,b,c){return mW.createAssistantStream(a,this._client.beta.threads.runs,b,c)}submitToolOutputs(a,b,c){let{thread_id:d,...e}=b;return this._client.post(mh`/threads/${d}/runs/${a}/submit_tool_outputs`,{body:e,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers]),stream:b.stream??!1,__synthesizeEventData:!0})}async submitToolOutputsAndPoll(a,b,c){let d=await this.submitToolOutputs(a,b,c);return await this.poll(d.id,b,c)}submitToolOutputsStream(a,b,c){return mW.createToolAssistantStream(a,this._client.beta.threads.runs,b,c)}}mX.Steps=mU;class mY extends me{constructor(){super(...arguments),this.runs=new mX(this._client),this.messages=new mT(this._client)}create(a={},b){return this._client.post("/threads",{body:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}retrieve(a,b){return this._client.get(mh`/threads/${a}`,{...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}update(a,b,c){return this._client.post(mh`/threads/${a}`,{body:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}delete(a,b){return this._client.delete(mh`/threads/${a}`,{...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}createAndRun(a,b){return this._client.post("/threads/runs",{body:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers]),stream:a.stream??!1,__synthesizeEventData:!0})}async createAndRunPoll(a,b){let c=await this.createAndRun(a,b);return await this.runs.poll(c.id,{thread_id:c.thread_id},b)}createAndRunStream(a,b){return mW.createThreadAssistantStream(a,this._client.beta.threads,b)}}mY.Runs=mX,mY.Messages=mT;class mZ extends me{constructor(){super(...arguments),this.realtime=new mP(this._client),this.chatkit=new mS(this._client),this.assistants=new mM(this._client),this.threads=new mY(this._client)}}mZ.Realtime=mP,mZ.ChatKit=mS,mZ.Assistants=mM,mZ.Threads=mY;class m$ extends me{create(a,b){return this._client.post("/completions",{body:a,...b,stream:a.stream??!1})}}class m_ extends me{retrieve(a,b,c){let{container_id:d}=b;return this._client.get(mh`/containers/${d}/files/${a}/content`,{...c,headers:mG([{Accept:"application/binary"},c?.headers]),__binaryResponse:!0})}}class m0 extends me{constructor(){super(...arguments),this.content=new m_(this._client)}create(a,b,c){return this._client.post(mh`/containers/${a}/files`,l4({body:b,...c},this._client))}retrieve(a,b,c){let{container_id:d}=b;return this._client.get(mh`/containers/${d}/files/${a}`,c)}list(a,b={},c){return this._client.getAPIList(mh`/containers/${a}/files`,l$,{query:b,...c})}delete(a,b,c){let{container_id:d}=b;return this._client.delete(mh`/containers/${d}/files/${a}`,{...c,headers:mG([{Accept:"*/*"},c?.headers])})}}m0.Content=m_;class m1 extends me{constructor(){super(...arguments),this.files=new m0(this._client)}create(a,b){return this._client.post("/containers",{body:a,...b})}retrieve(a,b){return this._client.get(mh`/containers/${a}`,b)}list(a={},b){return this._client.getAPIList("/containers",l$,{query:a,...b})}delete(a,b){return this._client.delete(mh`/containers/${a}`,{...b,headers:mG([{Accept:"*/*"},b?.headers])})}}m1.Files=m0;class m2 extends me{create(a,b,c){let{include:d,...e}=b;return this._client.post(mh`/conversations/${a}/items`,{query:{include:d},body:e,...c})}retrieve(a,b,c){let{conversation_id:d,...e}=b;return this._client.get(mh`/conversations/${d}/items/${a}`,{query:e,...c})}list(a,b={},c){return this._client.getAPIList(mh`/conversations/${a}/items`,l_,{query:b,...c})}delete(a,b,c){let{conversation_id:d}=b;return this._client.delete(mh`/conversations/${d}/items/${a}`,c)}}class m3 extends me{constructor(){super(...arguments),this.items=new m2(this._client)}create(a={},b){return this._client.post("/conversations",{body:a,...b})}retrieve(a,b){return this._client.get(mh`/conversations/${a}`,b)}update(a,b,c){return this._client.post(mh`/conversations/${a}`,{body:b,...c})}delete(a,b){return this._client.delete(mh`/conversations/${a}`,b)}}m3.Items=m2;class m4 extends me{create(a,b){let c=!!a.encoding_format,d=c?a.encoding_format:"base64";c&&lO(this._client).debug("embeddings/user defined encoding_format:",a.encoding_format);let e=this._client.post("/embeddings",{body:{...a,encoding_format:d},...b});return c?e:(lO(this._client).debug("embeddings/decoding base64 embeddings from base64"),e._thenUnwrap(a=>(a&&a.data&&a.data.forEach(a=>{let b=a.embedding;a.embedding=(a=>{if("u">typeof Buffer){let b=Buffer.from(a,"base64");return Array.from(new Float32Array(b.buffer,b.byteOffset,b.length/Float32Array.BYTES_PER_ELEMENT))}{let b=atob(a),c=b.length,d=new Uint8Array(c);for(let a=0;a<c;a++)d[a]=b.charCodeAt(a);return Array.from(new Float32Array(d.buffer))}})(b)}),a)))}}class m5 extends me{retrieve(a,b,c){let{eval_id:d,run_id:e}=b;return this._client.get(mh`/evals/${d}/runs/${e}/output_items/${a}`,c)}list(a,b,c){let{eval_id:d,...e}=b;return this._client.getAPIList(mh`/evals/${d}/runs/${a}/output_items`,l$,{query:e,...c})}}class m6 extends me{constructor(){super(...arguments),this.outputItems=new m5(this._client)}create(a,b,c){return this._client.post(mh`/evals/${a}/runs`,{body:b,...c})}retrieve(a,b,c){let{eval_id:d}=b;return this._client.get(mh`/evals/${d}/runs/${a}`,c)}list(a,b={},c){return this._client.getAPIList(mh`/evals/${a}/runs`,l$,{query:b,...c})}delete(a,b,c){let{eval_id:d}=b;return this._client.delete(mh`/evals/${d}/runs/${a}`,c)}cancel(a,b,c){let{eval_id:d}=b;return this._client.post(mh`/evals/${d}/runs/${a}`,c)}}m6.OutputItems=m5;class m7 extends me{constructor(){super(...arguments),this.runs=new m6(this._client)}create(a,b){return this._client.post("/evals",{body:a,...b})}retrieve(a,b){return this._client.get(mh`/evals/${a}`,b)}update(a,b,c){return this._client.post(mh`/evals/${a}`,{body:b,...c})}list(a={},b){return this._client.getAPIList("/evals",l$,{query:a,...b})}delete(a,b){return this._client.delete(mh`/evals/${a}`,b)}}m7.Runs=m6;class m8 extends me{create(a,b){return this._client.post("/files",l5({body:a,...b},this._client))}retrieve(a,b){return this._client.get(mh`/files/${a}`,b)}list(a={},b){return this._client.getAPIList("/files",l$,{query:a,...b})}delete(a,b){return this._client.delete(mh`/files/${a}`,b)}content(a,b){return this._client.get(mh`/files/${a}/content`,{...b,headers:mG([{Accept:"application/binary"},b?.headers]),__binaryResponse:!0})}async waitForProcessing(a,{pollInterval:b=5e3,maxWait:c=18e5}={}){let d=new Set(["processed","error","deleted"]),e=Date.now(),f=await this.retrieve(a);for(;!f.status||!d.has(f.status);)if(await lm(b),f=await this.retrieve(a),Date.now()-e>c)throw new k5({message:`Giving up on waiting for file ${a} to finish processing after ${c} milliseconds.`});return f}}class m9 extends me{}class na extends me{run(a,b){return this._client.post("/fine_tuning/alpha/graders/run",{body:a,...b})}validate(a,b){return this._client.post("/fine_tuning/alpha/graders/validate",{body:a,...b})}}class nb extends me{constructor(){super(...arguments),this.graders=new na(this._client)}}nb.Graders=na;class nc extends me{create(a,b,c){return this._client.getAPIList(mh`/fine_tuning/checkpoints/${a}/permissions`,lZ,{body:b,method:"post",...c})}retrieve(a,b={},c){return this._client.get(mh`/fine_tuning/checkpoints/${a}/permissions`,{query:b,...c})}delete(a,b,c){let{fine_tuned_model_checkpoint:d}=b;return this._client.delete(mh`/fine_tuning/checkpoints/${d}/permissions/${a}`,c)}}class nd extends me{constructor(){super(...arguments),this.permissions=new nc(this._client)}}nd.Permissions=nc;class ne extends me{list(a,b={},c){return this._client.getAPIList(mh`/fine_tuning/jobs/${a}/checkpoints`,l$,{query:b,...c})}}class nf extends me{constructor(){super(...arguments),this.checkpoints=new ne(this._client)}create(a,b){return this._client.post("/fine_tuning/jobs",{body:a,...b})}retrieve(a,b){return this._client.get(mh`/fine_tuning/jobs/${a}`,b)}list(a={},b){return this._client.getAPIList("/fine_tuning/jobs",l$,{query:a,...b})}cancel(a,b){return this._client.post(mh`/fine_tuning/jobs/${a}/cancel`,b)}listEvents(a,b={},c){return this._client.getAPIList(mh`/fine_tuning/jobs/${a}/events`,l$,{query:b,...c})}pause(a,b){return this._client.post(mh`/fine_tuning/jobs/${a}/pause`,b)}resume(a,b){return this._client.post(mh`/fine_tuning/jobs/${a}/resume`,b)}}nf.Checkpoints=ne;class ng extends me{constructor(){super(...arguments),this.methods=new m9(this._client),this.jobs=new nf(this._client),this.checkpoints=new nd(this._client),this.alpha=new nb(this._client)}}ng.Methods=m9,ng.Jobs=nf,ng.Checkpoints=nd,ng.Alpha=nb;class nh extends me{}class ni extends me{constructor(){super(...arguments),this.graderModels=new nh(this._client)}}ni.GraderModels=nh;class nj extends me{createVariation(a,b){return this._client.post("/images/variations",l5({body:a,...b},this._client))}edit(a,b){return this._client.post("/images/edits",l5({body:a,...b,stream:a.stream??!1},this._client))}generate(a,b){return this._client.post("/images/generations",{body:a,...b,stream:a.stream??!1})}}class nk extends me{retrieve(a,b){return this._client.get(mh`/models/${a}`,b)}list(a){return this._client.getAPIList("/models",lZ,a)}delete(a,b){return this._client.delete(mh`/models/${a}`,b)}}class nl extends me{create(a,b){return this._client.post("/moderations",{body:a,...b})}}class nm extends me{accept(a,b,c){return this._client.post(mh`/realtime/calls/${a}/accept`,{body:b,...c,headers:mG([{Accept:"*/*"},c?.headers])})}hangup(a,b){return this._client.post(mh`/realtime/calls/${a}/hangup`,{...b,headers:mG([{Accept:"*/*"},b?.headers])})}refer(a,b,c){return this._client.post(mh`/realtime/calls/${a}/refer`,{body:b,...c,headers:mG([{Accept:"*/*"},c?.headers])})}reject(a,b={},c){return this._client.post(mh`/realtime/calls/${a}/reject`,{body:b,...c,headers:mG([{Accept:"*/*"},c?.headers])})}}class nn extends me{create(a,b){return this._client.post("/realtime/client_secrets",{body:a,...b})}}class no extends me{constructor(){super(...arguments),this.clientSecrets=new nn(this._client),this.calls=new nm(this._client)}}function np(a,b){let c=a.output.map(a=>{if("function_call"===a.type)return{...a,parsed_arguments:function(a,b){var c,d;let e=(c=a.tools??[],d=b.name,c.find(a=>"function"===a.type&&a.name===d));return{...b,...b,parsed_arguments:e?.$brand==="auto-parseable-tool"?e.$parseRaw(b.arguments):e?.strict?JSON.parse(b.arguments):null}}(b,a)};if("message"===a.type){let c=a.content.map(a=>{var c,d;return"output_text"===a.type?{...a,parsed:(c=b,d=a.text,c.text?.format?.type!=="json_schema"?null:"$parseRaw"in c.text?.format?(c.text?.format).$parseRaw(d):JSON.parse(d))}:a});return{...a,content:c}}return a}),d=Object.assign({},a,{output:c});return Object.getOwnPropertyDescriptor(a,"output_text")||nq(d),Object.defineProperty(d,"output_parsed",{enumerable:!0,get(){for(let a of d.output)if("message"===a.type){for(let b of a.content)if("output_text"===b.type&&null!==b.parsed)return b.parsed}return null}}),d}function nq(a){let b=[];for(let c of a.output)if("message"===c.type)for(let a of c.content)"output_text"===a.type&&b.push(a.text);a.output_text=b.join("")}no.ClientSecrets=nn,no.Calls=nm;class nr extends mr{constructor(a){super(),ay.add(this),az.set(this,void 0),aA.set(this,void 0),aB.set(this,void 0),kY(this,az,a,"f")}static createResponse(a,b,c){let d=new nr(b);return d._run(()=>d._createOrRetrieveResponse(a,b,{...c,headers:{...c?.headers,"X-Stainless-Helper-Method":"stream"}})),d}async _createOrRetrieveResponse(a,b,c){let d,e=c?.signal;e&&(e.aborted&&this.controller.abort(),e.addEventListener("abort",()=>this.controller.abort())),kZ(this,ay,"m",aC).call(this);let f=null;for await(let e of("response_id"in b?(d=await a.responses.retrieve(b.response_id,{stream:!0},{...c,signal:this.controller.signal,stream:!0}),f=b.starting_after??null):d=await a.responses.create({...b,stream:!0},{...c,signal:this.controller.signal}),this._connected(),d))kZ(this,ay,"m",aD).call(this,e,f);if(d.controller.signal?.aborted)throw new k3;return kZ(this,ay,"m",aE).call(this)}[(az=new WeakMap,aA=new WeakMap,aB=new WeakMap,ay=new WeakSet,aC=function(){this.ended||kY(this,aA,void 0,"f")},aD=function(a,b){if(this.ended)return;let c=(a,c)=>{(null==b||c.sequence_number>b)&&this._emit(a,c)},d=kZ(this,ay,"m",aF).call(this,a);switch(c("event",a),a.type){case"response.output_text.delta":{let b=d.output[a.output_index];if(!b)throw new k1(`missing output at index ${a.output_index}`);if("message"===b.type){let d=b.content[a.content_index];if(!d)throw new k1(`missing content at index ${a.content_index}`);if("output_text"!==d.type)throw new k1(`expected content to be 'output_text', got ${d.type}`);c("response.output_text.delta",{...a,snapshot:d.text})}break}case"response.function_call_arguments.delta":{let b=d.output[a.output_index];if(!b)throw new k1(`missing output at index ${a.output_index}`);"function_call"===b.type&&c("response.function_call_arguments.delta",{...a,snapshot:b.arguments});break}default:c(a.type,a)}},aE=function(){if(this.ended)throw new k1("stream has ended, this shouldn't happen");let a=kZ(this,aA,"f");if(!a)throw new k1("request ended without sending any events");kY(this,aA,void 0,"f");let b=function(a,b){var c;return b&&(c=b,mk(c.text?.format))?np(a,b):{...a,output_parsed:null,output:a.output.map(a=>"function_call"===a.type?{...a,parsed_arguments:null}:"message"===a.type?{...a,content:a.content.map(a=>({...a,parsed:null}))}:a)}}(a,kZ(this,az,"f"));return kY(this,aB,b,"f"),b},aF=function(a){let b=kZ(this,aA,"f");if(!b){if("response.created"!==a.type)throw new k1(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return kY(this,aA,a.response,"f")}switch(a.type){case"response.output_item.added":b.output.push(a.item);break;case"response.content_part.added":{let c=b.output[a.output_index];if(!c)throw new k1(`missing output at index ${a.output_index}`);let d=c.type,e=a.part;"message"===d&&"reasoning_text"!==e.type?c.content.push(e):"reasoning"===d&&"reasoning_text"===e.type&&(c.content||(c.content=[]),c.content.push(e));break}case"response.output_text.delta":{let c=b.output[a.output_index];if(!c)throw new k1(`missing output at index ${a.output_index}`);if("message"===c.type){let b=c.content[a.content_index];if(!b)throw new k1(`missing content at index ${a.content_index}`);if("output_text"!==b.type)throw new k1(`expected content to be 'output_text', got ${b.type}`);b.text+=a.delta}break}case"response.function_call_arguments.delta":{let c=b.output[a.output_index];if(!c)throw new k1(`missing output at index ${a.output_index}`);"function_call"===c.type&&(c.arguments+=a.delta);break}case"response.reasoning_text.delta":{let c=b.output[a.output_index];if(!c)throw new k1(`missing output at index ${a.output_index}`);if("reasoning"===c.type){let b=c.content?.[a.content_index];if(!b)throw new k1(`missing content at index ${a.content_index}`);if("reasoning_text"!==b.type)throw new k1(`expected content to be 'reasoning_text', got ${b.type}`);b.text+=a.delta}break}case"response.completed":kY(this,aA,a.response,"f")}return b},Symbol.asyncIterator)](){let a=[],b=[],c=!1;return this.on("event",c=>{let d=b.shift();d?d.resolve(c):a.push(c)}),this.on("end",()=>{for(let a of(c=!0,b))a.resolve(void 0);b.length=0}),this.on("abort",a=>{for(let d of(c=!0,b))d.reject(a);b.length=0}),this.on("error",a=>{for(let d of(c=!0,b))d.reject(a);b.length=0}),{next:async()=>a.length?{value:a.shift(),done:!1}:c?{value:void 0,done:!0}:new Promise((a,c)=>b.push({resolve:a,reject:c})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let a=kZ(this,aB,"f");if(!a)throw new k1("stream ended without producing a ChatCompletion");return a}}class ns extends me{list(a,b={},c){return this._client.getAPIList(mh`/responses/${a}/input_items`,l$,{query:b,...c})}}class nt extends me{count(a={},b){return this._client.post("/responses/input_tokens",{body:a,...b})}}class nu extends me{constructor(){super(...arguments),this.inputItems=new ns(this._client),this.inputTokens=new nt(this._client)}create(a,b){return this._client.post("/responses",{body:a,...b,stream:a.stream??!1})._thenUnwrap(a=>("object"in a&&"response"===a.object&&nq(a),a))}retrieve(a,b={},c){return this._client.get(mh`/responses/${a}`,{query:b,...c,stream:b?.stream??!1})._thenUnwrap(a=>("object"in a&&"response"===a.object&&nq(a),a))}delete(a,b){return this._client.delete(mh`/responses/${a}`,{...b,headers:mG([{Accept:"*/*"},b?.headers])})}parse(a,b){return this._client.responses.create(a,b)._thenUnwrap(b=>np(b,a))}stream(a,b){return nr.createResponse(this._client,a,b)}cancel(a,b){return this._client.post(mh`/responses/${a}/cancel`,b)}compact(a,b){return this._client.post("/responses/compact",{body:a,...b})}}nu.InputItems=ns,nu.InputTokens=nt;class nv extends me{retrieve(a,b){return this._client.get(mh`/skills/${a}/content`,{...b,headers:mG([{Accept:"application/binary"},b?.headers]),__binaryResponse:!0})}}class nw extends me{retrieve(a,b,c){let{skill_id:d}=b;return this._client.get(mh`/skills/${d}/versions/${a}/content`,{...c,headers:mG([{Accept:"application/binary"},c?.headers]),__binaryResponse:!0})}}class nx extends me{constructor(){super(...arguments),this.content=new nw(this._client)}create(a,b={},c){return this._client.post(mh`/skills/${a}/versions`,l4({body:b,...c},this._client))}retrieve(a,b,c){let{skill_id:d}=b;return this._client.get(mh`/skills/${d}/versions/${a}`,c)}list(a,b={},c){return this._client.getAPIList(mh`/skills/${a}/versions`,l$,{query:b,...c})}delete(a,b,c){let{skill_id:d}=b;return this._client.delete(mh`/skills/${d}/versions/${a}`,c)}}nx.Content=nw;class ny extends me{constructor(){super(...arguments),this.content=new nv(this._client),this.versions=new nx(this._client)}create(a={},b){return this._client.post("/skills",l4({body:a,...b},this._client))}retrieve(a,b){return this._client.get(mh`/skills/${a}`,b)}update(a,b,c){return this._client.post(mh`/skills/${a}`,{body:b,...c})}list(a={},b){return this._client.getAPIList("/skills",l$,{query:a,...b})}delete(a,b){return this._client.delete(mh`/skills/${a}`,b)}}ny.Content=nv,ny.Versions=nx;class nz extends me{create(a,b,c){return this._client.post(mh`/uploads/${a}/parts`,l5({body:b,...c},this._client))}}class nA extends me{constructor(){super(...arguments),this.parts=new nz(this._client)}create(a,b){return this._client.post("/uploads",{body:a,...b})}cancel(a,b){return this._client.post(mh`/uploads/${a}/cancel`,b)}complete(a,b,c){return this._client.post(mh`/uploads/${a}/complete`,{body:b,...c})}}nA.Parts=nz;let nB=async a=>{let b=await Promise.allSettled(a),c=b.filter(a=>"rejected"===a.status);if(c.length){for(let a of c)console.error(a.reason);throw Error(`${c.length} promise(s) failed - see the above errors`)}let d=[];for(let a of b)"fulfilled"===a.status&&d.push(a.value);return d};class nC extends me{create(a,b,c){return this._client.post(mh`/vector_stores/${a}/file_batches`,{body:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}retrieve(a,b,c){let{vector_store_id:d}=b;return this._client.get(mh`/vector_stores/${d}/file_batches/${a}`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}cancel(a,b,c){let{vector_store_id:d}=b;return this._client.post(mh`/vector_stores/${d}/file_batches/${a}/cancel`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}async createAndPoll(a,b,c){let d=await this.create(a,b);return await this.poll(a,d.id,c)}listFiles(a,b,c){let{vector_store_id:d,...e}=b;return this._client.getAPIList(mh`/vector_stores/${d}/file_batches/${a}/files`,l$,{query:e,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}async poll(a,b,c){let d=mG([c?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":c?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:e,response:f}=await this.retrieve(b,{vector_store_id:a},{...c,headers:d}).withResponse();switch(e.status){case"in_progress":let g=5e3;if(c?.pollIntervalMs)g=c.pollIntervalMs;else{let a=f.headers.get("openai-poll-after-ms");if(a){let b=parseInt(a);isNaN(b)||(g=b)}}await lm(g);break;case"failed":case"cancelled":case"completed":return e}}}async uploadAndPoll(a,{files:b,fileIds:c=[]},d){if(null==b||0==b.length)throw Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let e=Math.min(d?.maxConcurrency??5,b.length),f=this._client,g=b.values(),h=[...c];async function i(a){for(let b of a){let a=await f.files.create({file:b,purpose:"assistants"},d);h.push(a.id)}}let j=Array(e).fill(g).map(i);return await nB(j),await this.createAndPoll(a,{file_ids:h})}}class nD extends me{create(a,b,c){return this._client.post(mh`/vector_stores/${a}/files`,{body:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}retrieve(a,b,c){let{vector_store_id:d}=b;return this._client.get(mh`/vector_stores/${d}/files/${a}`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}update(a,b,c){let{vector_store_id:d,...e}=b;return this._client.post(mh`/vector_stores/${d}/files/${a}`,{body:e,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}list(a,b={},c){return this._client.getAPIList(mh`/vector_stores/${a}/files`,l$,{query:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}delete(a,b,c){let{vector_store_id:d}=b;return this._client.delete(mh`/vector_stores/${d}/files/${a}`,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}async createAndPoll(a,b,c){let d=await this.create(a,b,c);return await this.poll(a,d.id,c)}async poll(a,b,c){let d=mG([c?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":c?.pollIntervalMs?.toString()??void 0}]);for(;;){let e=await this.retrieve(b,{vector_store_id:a},{...c,headers:d}).withResponse(),f=e.data;switch(f.status){case"in_progress":let g=5e3;if(c?.pollIntervalMs)g=c.pollIntervalMs;else{let a=e.response.headers.get("openai-poll-after-ms");if(a){let b=parseInt(a);isNaN(b)||(g=b)}}await lm(g);break;case"failed":case"completed":return f}}}async upload(a,b,c){let d=await this._client.files.create({file:b,purpose:"assistants"},c);return this.create(a,{file_id:d.id},c)}async uploadAndPoll(a,b,c){let d=await this.upload(a,b,c);return await this.poll(a,d.id,c)}content(a,b,c){let{vector_store_id:d}=b;return this._client.getAPIList(mh`/vector_stores/${d}/files/${a}/content`,lZ,{...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}}class nE extends me{constructor(){super(...arguments),this.files=new nD(this._client),this.fileBatches=new nC(this._client)}create(a,b){return this._client.post("/vector_stores",{body:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}retrieve(a,b){return this._client.get(mh`/vector_stores/${a}`,{...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}update(a,b,c){return this._client.post(mh`/vector_stores/${a}`,{body:b,...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}list(a={},b){return this._client.getAPIList("/vector_stores",l$,{query:a,...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}delete(a,b){return this._client.delete(mh`/vector_stores/${a}`,{...b,headers:mG([{"OpenAI-Beta":"assistants=v2"},b?.headers])})}search(a,b,c){return this._client.getAPIList(mh`/vector_stores/${a}/search`,lZ,{body:b,method:"post",...c,headers:mG([{"OpenAI-Beta":"assistants=v2"},c?.headers])})}}nE.Files=nD,nE.FileBatches=nC;class nF extends me{create(a,b){return this._client.post("/videos",l4({body:a,...b},this._client))}retrieve(a,b){return this._client.get(mh`/videos/${a}`,b)}list(a={},b){return this._client.getAPIList("/videos",l_,{query:a,...b})}delete(a,b){return this._client.delete(mh`/videos/${a}`,b)}downloadContent(a,b={},c){return this._client.get(mh`/videos/${a}/content`,{query:b,...c,headers:mG([{Accept:"application/binary"},c?.headers]),__binaryResponse:!0})}remix(a,b,c){return this._client.post(mh`/videos/${a}/remix`,l4({body:b,...c},this._client))}}class nG extends me{constructor(){super(...arguments),aG.add(this)}async unwrap(a,b,c=this._client.webhookSecret,d=300){return await this.verifySignature(a,b,c,d),JSON.parse(a)}async verifySignature(a,b,c=this._client.webhookSecret,d=300){if("u"<typeof crypto||"function"!=typeof crypto.subtle.importKey||"function"!=typeof crypto.subtle.verify)throw Error("Webhook signature verification is only supported when the `crypto` global is defined");kZ(this,aG,"m",aH).call(this,c);let e=mG([b]).values,f=kZ(this,aG,"m",aI).call(this,e,"webhook-signature"),g=kZ(this,aG,"m",aI).call(this,e,"webhook-timestamp"),h=kZ(this,aG,"m",aI).call(this,e,"webhook-id"),i=parseInt(g,10);if(isNaN(i))throw new lg("Invalid webhook timestamp format");let j=Math.floor(Date.now()/1e3);if(j-i>d)throw new lg("Webhook timestamp is too old");if(i>j+d)throw new lg("Webhook timestamp is too new");let k=f.split(" ").map(a=>a.startsWith("v1,")?a.substring(3):a),l=c.startsWith("whsec_")?Buffer.from(c.replace("whsec_",""),"base64"):Buffer.from(c,"utf-8"),m=h?`${h}.${g}.${a}`:`${g}.${a}`,n=await crypto.subtle.importKey("raw",l,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let a of k)try{let b=Buffer.from(a,"base64");if(await crypto.subtle.verify("HMAC",n,b,new TextEncoder().encode(m)))return}catch{continue}throw new lg("The given webhook signature does not match the expected signature")}}aG=new WeakSet,aH=function(a){if("string"!=typeof a||0===a.length)throw Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},aI=function(a,b){if(!a)throw Error("Headers are required");let c=a.get(b);if(null==c)throw Error(`Missing required header: ${b}`);return c},a.i(45834);class nH{constructor({baseURL:a=mV("OPENAI_BASE_URL"),apiKey:b=mV("OPENAI_API_KEY"),organization:c=mV("OPENAI_ORG_ID")??null,project:d=mV("OPENAI_PROJECT_ID")??null,webhookSecret:e=mV("OPENAI_WEBHOOK_SECRET")??null,...f}={}){if(aJ.add(this),aL.set(this,void 0),this.completions=new m$(this),this.chat=new mE(this),this.embeddings=new m4(this),this.files=new m8(this),this.images=new nj(this),this.audio=new mK(this),this.moderations=new nl(this),this.models=new nk(this),this.fineTuning=new ng(this),this.graders=new ni(this),this.vectorStores=new nE(this),this.webhooks=new nG(this),this.beta=new mZ(this),this.batches=new mL(this),this.uploads=new nA(this),this.responses=new nu(this),this.realtime=new no(this),this.conversations=new m3(this),this.evals=new m7(this),this.containers=new m1(this),this.skills=new ny(this),this.videos=new nF(this),void 0===b)throw new k1("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const g={apiKey:b,organization:c,project:d,webhookSecret:e,...f,baseURL:a||"https://api.openai.com/v1"};g.dangerouslyAllowBrowser,this.baseURL=g.baseURL,this.timeout=g.timeout??aK.DEFAULT_TIMEOUT,this.logger=g.logger??console;const h="warn";this.logLevel=h,this.logLevel=lJ(g.logLevel,"ClientOptions.logLevel",this)??lJ(mV("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??h,this.fetchOptions=g.fetchOptions,this.maxRetries=g.maxRetries??2,this.fetch=g.fetch??function(){if("u">typeof fetch)return fetch;throw Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),kY(this,aL,lu,"f"),this._options=g,this.apiKey="string"==typeof b?b:"Missing Key",this.organization=c,this.project=d,this.webhookSecret=e}withOptions(a){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...a})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:a,nulls:b}){}async authHeaders(a){return mG([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(a){return function(a,b={}){let c,d=a,e=function(a=lD){let b;if(void 0!==a.allowEmptyArrays&&"boolean"!=typeof a.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==a.encodeDotInKeys&&"boolean"!=typeof a.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw TypeError("Encoder has to be a function.");let c=a.charset||lD.charset;if(void 0!==a.charset&&"utf-8"!==a.charset&&"iso-8859-1"!==a.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let d=lv;if(void 0!==a.format){if(!ly(lx,a.format))throw TypeError("Unknown format option provided.");d=a.format}let e=lx[d],f=lD.filter;if(("function"==typeof a.filter||li(a.filter))&&(f=a.filter),b=a.arrayFormat&&a.arrayFormat in lB?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":lD.arrayFormat,"commaRoundTrip"in a&&"boolean"!=typeof a.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");let g=void 0===a.allowDots?!0==!!a.encodeDotInKeys||lD.allowDots:!!a.allowDots;return{addQueryPrefix:"boolean"==typeof a.addQueryPrefix?a.addQueryPrefix:lD.addQueryPrefix,allowDots:g,allowEmptyArrays:"boolean"==typeof a.allowEmptyArrays?!!a.allowEmptyArrays:lD.allowEmptyArrays,arrayFormat:b,charset:c,charsetSentinel:"boolean"==typeof a.charsetSentinel?a.charsetSentinel:lD.charsetSentinel,commaRoundTrip:!!a.commaRoundTrip,delimiter:void 0===a.delimiter?lD.delimiter:a.delimiter,encode:"boolean"==typeof a.encode?a.encode:lD.encode,encodeDotInKeys:"boolean"==typeof a.encodeDotInKeys?a.encodeDotInKeys:lD.encodeDotInKeys,encoder:"function"==typeof a.encoder?a.encoder:lD.encoder,encodeValuesOnly:"boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:lD.encodeValuesOnly,filter:f,format:d,formatter:e,serializeDate:"function"==typeof a.serializeDate?a.serializeDate:lD.serializeDate,skipNulls:"boolean"==typeof a.skipNulls?a.skipNulls:lD.skipNulls,sort:"function"==typeof a.sort?a.sort:null,strictNullHandling:"boolean"==typeof a.strictNullHandling?a.strictNullHandling:lD.strictNullHandling}}(b);"function"==typeof e.filter?d=(0,e.filter)("",d):li(e.filter)&&(c=e.filter);let f=[];if("object"!=typeof d||null===d)return"";let g=lB[e.arrayFormat],h="comma"===g&&e.commaRoundTrip;c||(c=Object.keys(d)),e.sort&&c.sort(e.sort);let i=new WeakMap;for(let a=0;a<c.length;++a){let b=c[a];e.skipNulls&&null===d[b]||lC(f,function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t,u;let v,w=b,x=s,y=0,z=!1;for(;void 0!==(x=x.get(lE))&&!z;){let a=x.get(b);if(y+=1,void 0!==a)if(a===y)throw RangeError("Cyclic object value");else z=!0;void 0===x.get(lE)&&(y=0)}if("function"==typeof k?w=k(c,w):w instanceof Date?w=n?.(w):"comma"===d&&li(w)&&(w=lA(w,function(a){return a instanceof Date?n?.(a):a})),null===w){if(g)return j&&!q?j(c,lD.encoder,r,"key",o):c;w=""}if("string"==typeof(t=w)||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t||(u=w)&&"object"==typeof u&&u.constructor&&u.constructor.isBuffer&&u.constructor.isBuffer(u)){if(j){let a=q?c:j(c,lD.encoder,r,"key",o);return[p?.(a)+"="+p?.(j(w,lD.encoder,r,"value",o))]}return[p?.(c)+"="+p?.(String(w))]}let A=[];if(void 0===w)return A;if("comma"===d&&li(w))q&&j&&(w=lA(w,j)),v=[{value:w.length>0?w.join(",")||null:void 0}];else if(li(k))v=k;else{let a=Object.keys(w);v=l?a.sort(l):a}let B=i?String(c).replace(/\./g,"%2E"):String(c),C=e&&li(w)&&1===w.length?B+"[]":B;if(f&&li(w)&&0===w.length)return C+"[]";for(let c=0;c<v.length;++c){let t=v[c],u="object"==typeof t&&void 0!==t.value?t.value:w[t];if(h&&null===u)continue;let x=m&&i?t.replace(/\./g,"%2E"):t,z=li(w)?"function"==typeof d?d(C,x):C:C+(m?"."+x:"["+x+"]");s.set(b,y);let B=new WeakMap;B.set(lE,s),lC(A,a(u,z,d,e,f,g,h,i,"comma"===d&&q&&li(w)?null:j,k,l,m,n,o,p,q,r,B))}return A}(d[b],b,g,h,e.allowEmptyArrays,e.strictNullHandling,e.skipNulls,e.encodeDotInKeys,e.encode?e.encoder:null,e.filter,e.sort,e.allowDots,e.serializeDate,e.format,e.formatter,e.encodeValuesOnly,e.charset,i))}let j=f.join(e.delimiter),k=!0===e.addQueryPrefix?"?":"";return e.charsetSentinel&&("iso-8859-1"===e.charset?k+="utf8=%26%2310003%3B&":k+="utf8=%E2%9C%93&"),j.length>0?k+j:""}(a,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ln}`}defaultIdempotencyKey(){return`stainless-node-retry-${k$()}`}makeStatusError(a,b,c,d){return k2.generate(a,b,c,d)}async _callApiKey(){let a,b=this._options.apiKey;if("function"!=typeof b)return!1;try{a=await b()}catch(a){if(a instanceof k1)throw a;throw new k1(`Failed to get token from 'apiKey' function: ${a.message}`,{cause:a})}if("string"!=typeof a||!a)throw new k1(`Expected 'apiKey' function argument to return a string but it returned ${a}`);return this.apiKey=a,!0}buildURL(a,b,c){let d=!kZ(this,aJ,"m",aM).call(this)&&c||this.baseURL,e=new URL(lh.test(a)?a:d+(d.endsWith("/")&&a.startsWith("/")?a.slice(1):a)),f=this.defaultQuery();return!function(a){if(!a)return!0;for(let b in a)return!1;return!0}(f)&&(b={...f,...b}),"object"==typeof b&&b&&!Array.isArray(b)&&(e.search=this.stringifyQuery(b)),e.toString()}async prepareOptions(a){await this._callApiKey()}async prepareRequest(a,{url:b,options:c}){}get(a,b){return this.methodRequest("get",a,b)}post(a,b){return this.methodRequest("post",a,b)}patch(a,b){return this.methodRequest("patch",a,b)}put(a,b){return this.methodRequest("put",a,b)}delete(a,b){return this.methodRequest("delete",a,b)}methodRequest(a,b,c){return this.request(Promise.resolve(c).then(c=>({method:a,path:b,...c})))}request(a,b=null){return new lW(this,this.makeRequest(a,b,void 0))}async makeRequest(a,b,c){let d=await a,e=d.maxRetries??this.maxRetries;null==b&&(b=e),await this.prepareOptions(d);let{req:f,url:g,timeout:h}=await this.buildRequest(d,{retryCount:e-b});await this.prepareRequest(f,{url:g,options:d});let i="log_"+(0x1000000*Math.random()|0).toString(16).padStart(6,"0"),j=void 0===c?"":`, retryOf: ${c}`,k=Date.now();if(lO(this).debug(`[${i}] sending request`,lP({retryOfRequestLogID:c,method:d.method,url:g,options:d,headers:f.headers})),d.signal?.aborted)throw new k3;let l=new AbortController,m=await this.fetchWithTimeout(g,f,h,l).catch(k0),n=Date.now();if(m instanceof globalThis.Error){let a=`retrying, ${b} attempts remaining`;if(d.signal?.aborted)throw new k3;let e=k_(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(b)return lO(this).info(`[${i}] connection ${e?"timed out":"failed"} - ${a}`),lO(this).debug(`[${i}] connection ${e?"timed out":"failed"} (${a})`,lP({retryOfRequestLogID:c,url:g,durationMs:n-k,message:m.message})),this.retryRequest(d,b,c??i);if(lO(this).info(`[${i}] connection ${e?"timed out":"failed"} - error; no more retries left`),lO(this).debug(`[${i}] connection ${e?"timed out":"failed"} (error; no more retries left)`,lP({retryOfRequestLogID:c,url:g,durationMs:n-k,message:m.message})),e)throw new k5;throw new k4({cause:m})}let o=[...m.headers.entries()].filter(([a])=>"x-request-id"===a).map(([a,b])=>", "+a+": "+JSON.stringify(b)).join(""),p=`[${i}${j}${o}] ${f.method} ${g} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${n-k}ms`;if(!m.ok){let a=await this.shouldRetry(m);if(b&&a){let a=`retrying, ${b} attempts remaining`;return await lt(m.body),lO(this).info(`${p} - ${a}`),lO(this).debug(`[${i}] response error (${a})`,lP({retryOfRequestLogID:c,url:m.url,status:m.status,headers:m.headers,durationMs:n-k})),this.retryRequest(d,b,c??i,m.headers)}let e=a?"error; no more retries left":"error; not retryable";lO(this).info(`${p} - ${e}`);let f=await m.text().catch(a=>k0(a).message),g=(a=>{try{return JSON.parse(a)}catch(a){return}})(f),h=g?void 0:f;throw lO(this).debug(`[${i}] response error (${e})`,lP({retryOfRequestLogID:c,url:m.url,status:m.status,headers:m.headers,message:h,durationMs:Date.now()-k})),this.makeStatusError(m.status,g,h,m.headers)}return lO(this).info(p),lO(this).debug(`[${i}] response start`,lP({retryOfRequestLogID:c,url:m.url,status:m.status,headers:m.headers,durationMs:n-k})),{response:m,options:d,controller:l,requestLogID:i,retryOfRequestLogID:c,startTime:k}}getAPIList(a,b,c){return this.requestAPIList(b,c&&"then"in c?c.then(b=>({method:"get",path:a,...b})):{method:"get",path:a,...c})}requestAPIList(a,b){return new lY(this,this.makeRequest(b,null,void 0),a)}async fetchWithTimeout(a,b,c,d){let{signal:e,method:f,...g}=b||{},h=this._makeAbort(d);e&&e.addEventListener("abort",h,{once:!0});let i=setTimeout(h,c),j=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||"object"==typeof g.body&&null!==g.body&&Symbol.asyncIterator in g.body,k={signal:d.signal,...j?{duplex:"half"}:{},method:"GET",...g};f&&(k.method=f.toUpperCase());try{return await this.fetch.call(void 0,a,k)}finally{clearTimeout(i)}}async shouldRetry(a){let b=a.headers.get("x-should-retry");return"true"===b||"false"!==b&&(408===a.status||409===a.status||429===a.status||!!(a.status>=500))}async retryRequest(a,b,c,d){let e,f=d?.get("retry-after-ms");if(f){let a=parseFloat(f);Number.isNaN(a)||(e=a)}let g=d?.get("retry-after");if(g&&!e){let a=parseFloat(g);e=Number.isNaN(a)?Date.parse(g)-Date.now():1e3*a}if(!(e&&0<=e&&e<6e4)){let c=a.maxRetries??this.maxRetries;e=this.calculateDefaultRetryTimeoutMillis(b,c)}return await lm(e),this.makeRequest(a,b-1,c)}calculateDefaultRetryTimeoutMillis(a,b){return Math.min(.5*Math.pow(2,b-a),8)*(1-.25*Math.random())*1e3}async buildRequest(a,{retryCount:b=0}={}){let c={...a},{method:d,path:e,query:f,defaultBaseURL:g}=c,h=this.buildURL(e,f,g);"timeout"in c&&((a,b)=>{if("number"!=typeof b||!Number.isInteger(b))throw new k1(`${a} must be an integer`);if(b<0)throw new k1(`${a} must be a positive integer`)})("timeout",c.timeout),c.timeout=c.timeout??this.timeout;let{bodyHeaders:i,body:j}=this.buildBody({options:c}),k=await this.buildHeaders({options:a,method:d,bodyHeaders:i,retryCount:b});return{req:{method:d,headers:k,...c.signal&&{signal:c.signal},...globalThis.ReadableStream&&j instanceof globalThis.ReadableStream&&{duplex:"half"},...j&&{body:j},...this.fetchOptions??{},...c.fetchOptions??{}},url:h,timeout:c.timeout}}async buildHeaders({options:a,method:c,bodyHeaders:d,retryCount:e}){let f={};this.idempotencyHeader&&"get"!==c&&(a.idempotencyKey||(a.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=a.idempotencyKey);let g=mG([f,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(e),...a.timeout?{"X-Stainless-Timeout":String(Math.trunc(a.timeout/1e3))}:{},...b??(b=(()=>{let a="u">typeof Deno&&null!=Deno.build?"deno":"u">typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===a)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":lp(Deno.build.os),"X-Stainless-Arch":lo(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("u">typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===a)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":lp(globalThis.process.platform??"unknown"),"X-Stainless-Arch":lo(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let b=function(){if("u"<typeof navigator||!navigator)return null;for(let{key:a,pattern:b}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let c=b.exec(navigator.userAgent);if(c){let b=c[1]||0,d=c[2]||0,e=c[3]||0;return{browser:a,version:`${b}.${d}.${e}`}}}return null}();return b?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${b.browser}`,"X-Stainless-Runtime-Version":b.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ln,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})()),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(a),this._options.defaultHeaders,d,a.headers]);return this.validateHeaders(g),g.values}_makeAbort(a){return()=>a.abort()}buildBody({options:{body:a,headers:b}}){if(!a)return{bodyHeaders:void 0,body:void 0};let c=mG([b]);return ArrayBuffer.isView(a)||a instanceof ArrayBuffer||a instanceof DataView||"string"==typeof a&&c.values.has("content-type")||globalThis.Blob&&a instanceof globalThis.Blob||a instanceof FormData||a instanceof URLSearchParams||globalThis.ReadableStream&&a instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:a}:"object"==typeof a&&(Symbol.asyncIterator in a||Symbol.iterator in a&&"next"in a&&"function"==typeof a.next)?{bodyHeaders:void 0,body:lr(a)}:"object"==typeof a&&"application/x-www-form-urlencoded"===c.values.get("content-type")?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(a)}:kZ(this,aL,"f").call(this,{body:a,headers:c})}}function nI(a){return new nH({apiKey:a,dangerouslyAllowBrowser:!0})}async function nJ(a,b){let c,d;if(!b.openaiApiKey)throw Error("OpenAI API 키가 설정되지 않았습니다. 설정 메뉴에서 API 키를 입력해주세요.");let e=nI(b.openaiApiKey),f=`당신은 소프트웨어 요구사항 분석 전문가입니다. 사용자의 설명을 바탕으로 유즈케이스를 분석하여 JSON 형식으로 반환하세요.

중요: 반드시 유효한 JSON만 반환하세요. 마크다운 코드 블록이나 설명 없이 순수 JSON만 반환해야 합니다.

응답은 반드시 다음 JSON 형식을 따라야 합니다:
{
  "title": "유즈케이스 제목 (간결하게)",
  "description": "유즈케이스에 대한 상세 설명 (2-3문장)",
  "actors": ["액터1", "액터2"],
  "flow": [
    {"order": 1, "actor": "액터명", "action": "수행 동작", "result": "결과 (선택사항)"},
    {"order": 2, "actor": "액터명", "action": "수행 동작", "result": "결과 (선택사항)"}
  ]
}

flow 배열은 반드시 3-8단계의 실제적인 동작 흐름을 포함해야 합니다.`,g=(await e.responses.create({model:b.model,instructions:f,input:a,text:{format:{type:"json_schema",name:"usecase_schema",schema:{type:"object",properties:{title:{type:"string"},description:{type:"string"},actors:{type:"array",items:{type:"string"}},flow:{type:"array",items:{type:"object",properties:{order:{type:"number"},actor:{type:"string"},action:{type:"string"},result:{type:"string"}},required:["order","actor","action"]}}},required:["title","description","actors","flow"]}}}})).output_text;if(!g)throw Error("API 응답이 비어있습니다.");let h=JSON.parse(g),i={id:kX(),title:h.title,description:h.description,actors:h.actors,flow:h.flow,mermaidDiagram:"",requirements:[],createdAt:new Date};return c=[...new Set(i.flow.map(a=>a.actor))].map(a=>`actor ${a.replace(/\s+/g,"_")}`).join("\n"),d="",i.flow.forEach(a=>{let b=a.actor.replace(/\s+/g,"_");d+=`    ${b}->>System: ${a.action}
`,a.result&&(d+=`    System-->>${b}: ${a.result}
`)}),i.mermaidDiagram=`sequenceDiagram
    autonumber
${c}
    participant System
${d}`,i}async function nK(a,b,c){if(!c.openaiApiKey)throw Error("OpenAI API 키가 설정되지 않았습니다.");let d=nI(c.openaiApiKey),e=`당신은 소프트웨어 요구사항 분석 전문가입니다. 주어진 유즈케이스에 대해 사용자의 추가 요청사항을 바탕으로 요구사항 목록을 JSON 형식으로 생성하세요.

중요: 반드시 유효한 JSON만 반환하세요. 마크다운 코드 블록이나 설명 없이 순수 JSON만 반환해야 합니다.

유즈케이스: ${a.title}
설명: ${a.description}

응답은 반드시 다음 JSON 형식의 배열을 따라야 합니다:
{
  "requirements": [
    {
      "type": "functional" 또는 "non-functional",
      "description": "요구사항 상세 설명",
      "priority": "high" | "medium" | "low"
    }
  ]
}

functional: 사용자가 시스템을 통해 수행할 수 있는 구체적인 기능
non-functional: 성능, 보안, 사용성 등 시스템의 품질 속성

최소 3개, 최대 8개의 요구사항을 생성하세요.`,f=(await d.responses.create({model:c.model,instructions:e,input:b,text:{format:{type:"json_schema",name:"requirements_schema",schema:{type:"object",properties:{requirements:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["functional","non-functional"]},description:{type:"string"},priority:{type:"string",enum:["high","medium","low"]}},required:["type","description","priority"]}}},required:["requirements"]}}}})).output_text;if(!f)throw Error("API 응답이 비어있습니다.");return(JSON.parse(f).requirements||[]).map(b=>({id:kX(),useCaseId:a.id,type:b.type,description:b.description,priority:b.priority,selected:!1}))}aK=nH,aL=new WeakMap,aJ=new WeakSet,aM=function(){return"https://api.openai.com/v1"!==this.baseURL},nH.OpenAI=aK,nH.DEFAULT_TIMEOUT=6e5,nH.OpenAIError=k1,nH.APIError=k2,nH.APIConnectionError=k4,nH.APIConnectionTimeoutError=k5,nH.APIUserAbortError=k3,nH.NotFoundError=k9,nH.ConflictError=la,nH.RateLimitError=lc,nH.BadRequestError=k6,nH.AuthenticationError=k7,nH.InternalServerError=ld,nH.PermissionDeniedError=k8,nH.UnprocessableEntityError=lb,nH.InvalidWebhookSignatureError=lg,nH.toFile=mc,nH.Completions=m$,nH.Chat=mE,nH.Embeddings=m4,nH.Files=m8,nH.Images=nj,nH.Audio=mK,nH.Moderations=nl,nH.Models=nk,nH.FineTuning=ng,nH.Graders=ni,nH.VectorStores=nE,nH.Webhooks=nG,nH.Beta=mZ,nH.Batches=mL,nH.Uploads=nA,nH.Responses=nu,nH.Realtime=no,nH.Conversations=m3,nH.Evals=m7,nH.Containers=m1,nH.Skills=ny,nH.Videos=nF;let nL=aY("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function nM({className:a,variant:b,...c}){return(0,aN.jsx)("div",{"data-slot":"alert",role:"alert",className:b7(nL({variant:b}),a),...c})}function nN({className:a,...b}){return(0,aN.jsx)("div",{"data-slot":"alert-description",className:b7("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...b})}function nO(){let[a,b]=(0,aO.useState)([]),[c,d]=(0,aO.useState)(null),[e,f]=(0,aO.useState)([]),[g,h]=(0,aO.useState)(!1),[i,j]=(0,aO.useState)(!1),[k,l]=(0,aO.useState)("chat"),[m,n]=(0,aO.useState)({openaiApiKey:"",model:"gpt-5.2"}),[o,p]=(0,aO.useState)(null);(0,aO.useEffect)(()=>{n(gs)},[]);let q=a.find(a=>a.id===c),r=async a=>{p(null);let c={id:kX(),role:"user",content:a,timestamp:new Date};f(a=>[...a,c]),h(!0);try{let c=await nJ(a,m),e={id:kX(),role:"assistant",content:`다음 유즈케이스를 분석했습니다: **${c.title}**

승인하시면 목록에 등록됩니다.`,timestamp:new Date};f(a=>[...a,e]),b(a=>[c,...a]),d(c.id),l("detail")}catch(b){p(b.message||"유즈케이스 생성 중 오류가 발생했습니다.");let a={id:kX(),role:"assistant",content:`오류: ${b.message||"알 수 없는 오류가 발생했습니다."}`,timestamp:new Date};f(b=>[...b,a])}finally{h(!1)}},s=async a=>{if(q){p(null),j(!0);try{let c=await nK(q,a,m);b(a=>a.map(a=>a.id===q.id?{...a,requirements:[...a.requirements,...c]}:a))}catch(a){p(a.message||"요구사항 생성 중 오류가 발생했습니다.")}finally{j(!1)}}},t=a.reduce((a,b)=>a+b.requirements.filter(a=>a.selected).length,0),u=!!m.openaiApiKey;return(0,aN.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,aN.jsxs)("div",{className:"w-80 border-r border-border bg-card flex flex-col",children:[(0,aN.jsxs)("div",{className:"p-5 border-b border-border",children:[(0,aN.jsxs)("div",{className:"flex items-center justify-between",children:[(0,aN.jsxs)("div",{className:"flex items-center gap-2",children:[(0,aN.jsx)(kP,{className:"h-5 w-5"}),(0,aN.jsx)("h1",{className:"font-semibold tracking-tight",children:"UseCase Builder"})]}),(0,aN.jsx)(kN,{onSettingsChange:a=>{n(a),p(null)}})]}),(0,aN.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"AI-powered requirements engineering"})]}),(0,aN.jsxs)("div",{className:"px-5 py-4 border-b border-border",children:[(0,aN.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,aN.jsxs)("div",{className:"flex items-center gap-2",children:[(0,aN.jsx)(kQ,{className:"h-4 w-4 text-muted-foreground"}),(0,aN.jsx)("span",{className:"text-muted-foreground",children:"유즈케이스"})]}),(0,aN.jsx)("span",{className:"font-medium",children:a.length})]}),(0,aN.jsxs)("div",{className:"flex items-center justify-between text-sm mt-2",children:[(0,aN.jsxs)("div",{className:"flex items-center gap-2",children:[(0,aN.jsx)(gn,{className:"h-4 w-4 text-muted-foreground"}),(0,aN.jsx)("span",{className:"text-muted-foreground",children:"선택된 요구사항"})]}),(0,aN.jsx)("span",{className:"font-medium",children:t})]})]}),(0,aN.jsxs)("div",{className:"p-4",children:[(0,aN.jsxs)(b9,{onClick:()=>{d(null),l("chat"),p(null)},className:"w-full",variant:"chat"===k?"default":"outline",disabled:!u,children:[(0,aN.jsx)(kO,{className:"h-4 w-4 mr-2"}),"새 유즈케이스"]}),!u&&(0,aN.jsx)("p",{className:"text-xs text-destructive mt-2",children:"설정에서 OpenAI API 키를 입력해주세요"})]}),(0,aN.jsx)(cU,{className:"flex-1 px-4",children:(0,aN.jsx)("div",{className:"space-y-2 pb-4",children:0===a.length?(0,aN.jsx)("div",{className:"text-center py-8",children:(0,aN.jsx)("p",{className:"text-xs text-muted-foreground",children:"아직 등록된 유즈케이스가 없습니다."})}):a.map(a=>(0,aN.jsx)(c1,{useCase:a,isSelected:c===a.id,onClick:()=>{d(a.id),l("detail"),p(null)}},a.id))})})]}),(0,aN.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[o&&(0,aN.jsxs)(nM,{variant:"destructive",className:"m-4 mb-0",children:[(0,aN.jsx)(kR,{className:"h-4 w-4"}),(0,aN.jsx)(nN,{children:o})]}),"chat"===k?(0,aN.jsx)(cW,{messages:e,onSendMessage:r,isLoading:g,placeholder:u?"어떤 시스템을 설계하고 싶으신가요? 예: 로그인 기능, 상품 주문 시스템 등":"설정 메뉴에서 OpenAI API 키를 먼저 입력해주세요"}):q?(0,aN.jsxs)("div",{className:"flex h-full",children:[(0,aN.jsxs)("div",{className:"flex-1 min-w-0 border-r border-border",children:[(0,aN.jsxs)("div",{className:"flex items-center gap-2 px-6 py-4 border-b border-border",children:[(0,aN.jsx)(b9,{variant:"ghost",size:"sm",onClick:()=>l("chat"),className:"text-muted-foreground",children:"← 뒤로"}),(0,aN.jsx)(c6,{orientation:"vertical",className:"h-4"}),(0,aN.jsx)("span",{className:"text-sm text-muted-foreground",children:"유즈케이스 상세"})]}),(0,aN.jsx)(cU,{className:"h-[calc(100vh-65px)]",children:(0,aN.jsx)("div",{className:"p-6 max-w-3xl",children:(0,aN.jsx)(f3,{useCase:q})})})]}),(0,aN.jsxs)("div",{className:"w-96 bg-card",children:[(0,aN.jsx)("div",{className:"px-6 py-4 border-b border-border",children:(0,aN.jsx)("h3",{className:"font-medium",children:"요구사항 관리"})}),(0,aN.jsx)(cU,{className:"h-[calc(100vh-65px)]",children:(0,aN.jsx)("div",{className:"p-5",children:(0,aN.jsx)(gr,{useCase:q,onGenerateRequirements:s,onToggleRequirement:a=>{b(b=>b.map(b=>b.id===c?{...b,requirements:b.requirements.map(b=>b.id===a?{...b,selected:!b.selected}:b)}:b))},isGenerating:i})})})]})]}):(0,aN.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,aN.jsx)("p",{className:"text-muted-foreground",children:"유즈케이스를 선택해 주세요"})})]})]})}a.s(["default",()=>nO],60350)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e048b80b._.js.map