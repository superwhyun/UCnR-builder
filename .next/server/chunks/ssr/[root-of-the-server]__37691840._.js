module.exports=[63647,(a,b,c)=>{"use strict";let d;function e(){if(void 0===d)throw Error("No runtime abstraction layer installed");return d}Object.defineProperty(c,"__esModule",{value:!0}),(e||(e={})).install=function(a){if(void 0===a)throw Error("No runtime abstraction layer provided");d=a},c.default=e},39597,(a,b,c)=>{"use strict";function d(a){return"string"==typeof a||a instanceof String}function e(a){return Array.isArray(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.stringArray=c.array=c.func=c.error=c.number=c.string=c.boolean=void 0,c.boolean=function(a){return!0===a||!1===a},c.string=d,c.number=function(a){return"number"==typeof a||a instanceof Number},c.error=function(a){return a instanceof Error},c.func=function(a){return"function"==typeof a},c.array=e,c.stringArray=function(a){return e(a)&&a.every(a=>d(a))}},37898,(a,b,c)=>{"use strict";var d,e;let f;Object.defineProperty(c,"__esModule",{value:!0}),c.Emitter=c.Event=void 0;let g=a.r(63647);e=d||(c.Event=d={}),f={dispose(){}},e.None=function(){return f};class h{add(a,b=null,c){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(a),this._contexts.push(b),Array.isArray(c)&&c.push({dispose:()=>this.remove(a,b)})}remove(a,b=null){if(!this._callbacks)return;let c=!1;for(let d=0,e=this._callbacks.length;d<e;d++)if(this._callbacks[d]===a)if(this._contexts[d]===b){this._callbacks.splice(d,1),this._contexts.splice(d,1);return}else c=!0;if(c)throw Error("When adding a listener with a context, you should remove it with the same context")}invoke(...a){if(!this._callbacks)return[];let b=[],c=this._callbacks.slice(0),d=this._contexts.slice(0);for(let e=0,f=c.length;e<f;e++)try{b.push(c[e].apply(d[e],a))}catch(a){(0,g.default)().console.error(a)}return b}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(a){this._options=a}get event(){return this._event||(this._event=(a,b,c)=>{this._callbacks||(this._callbacks=new h),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(a,b);let d={dispose:()=>{this._callbacks&&(this._callbacks.remove(a,b),d.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(c)&&c.push(d),d}),this._event}fire(a){this._callbacks&&this._callbacks.invoke.call(this._callbacks,a)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}c.Emitter=i,i._noop=function(){}},96212,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.CancellationTokenSource=c.CancellationToken=void 0;let f=a.r(63647),g=a.r(39597),h=a.r(37898);(e=d||(c.CancellationToken=d={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:h.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:h.Event.None}),e.is=function(a){return a&&(a===e.None||a===e.Cancelled||g.boolean(a.isCancellationRequested)&&!!a.onCancellationRequested)};let i=Object.freeze(function(a,b){let c=(0,f.default)().timer.setTimeout(a.bind(b),0);return{dispose(){c.dispose()}}});class j{constructor(){this._isCancelled=!1}cancel(){!this._isCancelled&&(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new h.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}c.CancellationTokenSource=class{get token(){return this._token||(this._token=new j),this._token}cancel(){this._token?this._token.cancel():this._token=d.Cancelled}dispose(){this._token?this._token instanceof j&&this._token.dispose():this._token=d.None}}},65506,(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(c,"__esModule",{value:!0}),c.Message=c.NotificationType9=c.NotificationType8=c.NotificationType7=c.NotificationType6=c.NotificationType5=c.NotificationType4=c.NotificationType3=c.NotificationType2=c.NotificationType1=c.NotificationType0=c.NotificationType=c.RequestType9=c.RequestType8=c.RequestType7=c.RequestType6=c.RequestType5=c.RequestType4=c.RequestType3=c.RequestType2=c.RequestType1=c.RequestType=c.RequestType0=c.AbstractMessageSignature=c.ParameterStructures=c.ResponseError=c.ErrorCodes=void 0;let h=a.r(39597);(f=d||(c.ErrorCodes=d={})).ParseError=-32700,f.InvalidRequest=-32600,f.MethodNotFound=-32601,f.InvalidParams=-32602,f.InternalError=-32603,f.jsonrpcReservedErrorRangeStart=-32099,f.serverErrorStart=-32099,f.MessageWriteError=-32099,f.MessageReadError=-32098,f.PendingResponseRejected=-32097,f.ConnectionInactive=-32096,f.ServerNotInitialized=-32002,f.UnknownErrorCode=-32001,f.jsonrpcReservedErrorRangeEnd=-32e3,f.serverErrorEnd=-32e3;class i extends Error{constructor(a,b,c){super(b),this.code=h.number(a)?a:d.UnknownErrorCode,this.data=c,Object.setPrototypeOf(this,i.prototype)}toJson(){let a={code:this.code,message:this.message};return void 0!==this.data&&(a.data=this.data),a}}c.ResponseError=i;class j{constructor(a){this.kind=a}static is(a){return a===j.auto||a===j.byName||a===j.byPosition}toString(){return this.kind}}c.ParameterStructures=j,j.auto=new j("auto"),j.byPosition=new j("byPosition"),j.byName=new j("byName");class k{constructor(a,b){this.method=a,this.numberOfParams=b}get parameterStructures(){return j.auto}}c.AbstractMessageSignature=k,c.RequestType0=class extends k{constructor(a){super(a,0)}},c.RequestType=class extends k{constructor(a,b=j.auto){super(a,1),this._parameterStructures=b}get parameterStructures(){return this._parameterStructures}},c.RequestType1=class extends k{constructor(a,b=j.auto){super(a,1),this._parameterStructures=b}get parameterStructures(){return this._parameterStructures}},c.RequestType2=class extends k{constructor(a){super(a,2)}},c.RequestType3=class extends k{constructor(a){super(a,3)}},c.RequestType4=class extends k{constructor(a){super(a,4)}},c.RequestType5=class extends k{constructor(a){super(a,5)}},c.RequestType6=class extends k{constructor(a){super(a,6)}},c.RequestType7=class extends k{constructor(a){super(a,7)}},c.RequestType8=class extends k{constructor(a){super(a,8)}},c.RequestType9=class extends k{constructor(a){super(a,9)}},c.NotificationType=class extends k{constructor(a,b=j.auto){super(a,1),this._parameterStructures=b}get parameterStructures(){return this._parameterStructures}},c.NotificationType0=class extends k{constructor(a){super(a,0)}},c.NotificationType1=class extends k{constructor(a,b=j.auto){super(a,1),this._parameterStructures=b}get parameterStructures(){return this._parameterStructures}},c.NotificationType2=class extends k{constructor(a){super(a,2)}},c.NotificationType3=class extends k{constructor(a){super(a,3)}},c.NotificationType4=class extends k{constructor(a){super(a,4)}},c.NotificationType5=class extends k{constructor(a){super(a,5)}},c.NotificationType6=class extends k{constructor(a){super(a,6)}},c.NotificationType7=class extends k{constructor(a){super(a,7)}},c.NotificationType8=class extends k{constructor(a){super(a,8)}},c.NotificationType9=class extends k{constructor(a){super(a,9)}},(g=e||(c.Message=e={})).isRequest=function(a){return a&&h.string(a.method)&&(h.string(a.id)||h.number(a.id))},g.isNotification=function(a){return a&&h.string(a.method)&&void 0===a.id},g.isResponse=function(a){return a&&(void 0!==a.result||!!a.error)&&(h.string(a.id)||h.number(a.id)||null===a.id)}},73867,(a,b,c)=>{"use strict";var d,e,f;Object.defineProperty(c,"__esModule",{value:!0}),c.LRUCache=c.LinkedMap=c.Touch=void 0,(f=e||(c.Touch=e={})).None=0,f.First=1,f.AsOld=f.First,f.Last=2,f.AsNew=f.Last;class g{constructor(){this[d]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(a){return this._map.has(a)}get(a,b=e.None){let c=this._map.get(a);if(c)return b!==e.None&&this.touch(c,b),c.value}set(a,b,c=e.None){let d=this._map.get(a);if(d)d.value=b,c!==e.None&&this.touch(d,c);else{switch(d={key:a,value:b,next:void 0,previous:void 0},c){case e.None:this.addItemLast(d);break;case e.First:this.addItemFirst(d);break;case e.Last:default:this.addItemLast(d)}this._map.set(a,d),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){let b=this._map.get(a);if(b)return this._map.delete(a),this.removeItem(b),this._size--,b.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw Error("Invalid list");let a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,b){let c=this._state,d=this._head;for(;d;){if(b?a.bind(b)(d.value,d.key,this):a(d.value,d.key,this),this._state!==c)throw Error("LinkedMap got modified during iteration.");d=d.next}}keys(){let a=this._state,b=this._head,c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==a)throw Error("LinkedMap got modified during iteration.");if(!b)return{value:void 0,done:!0};{let a={value:b.key,done:!1};return b=b.next,a}}};return c}values(){let a=this._state,b=this._head,c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==a)throw Error("LinkedMap got modified during iteration.");if(!b)return{value:void 0,done:!0};{let a={value:b.value,done:!1};return b=b.next,a}}};return c}entries(){let a=this._state,b=this._head,c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==a)throw Error("LinkedMap got modified during iteration.");if(!b)return{value:void 0,done:!0};{let a={value:[b.key,b.value],done:!1};return b=b.next,a}}};return c}[(d=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(0===a)return void this.clear();let b=this._head,c=this.size;for(;b&&c>a;)this._map.delete(b.key),b=b.next,c--;this._head=b,this._size=c,b&&(b.previous=void 0),this._state++}addItemFirst(a){if(this._head||this._tail)if(this._head)a.next=this._head,this._head.previous=a;else throw Error("Invalid list");else this._tail=a;this._head=a,this._state++}addItemLast(a){if(this._head||this._tail)if(this._tail)a.previous=this._tail,this._tail.next=a;else throw Error("Invalid list");else this._head=a;this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{let b=a.next,c=a.previous;if(!b||!c)throw Error("Invalid list");b.previous=c,c.next=b}a.next=void 0,a.previous=void 0,this._state++}touch(a,b){if(!this._head||!this._tail)throw Error("Invalid list");if(b===e.First||b===e.Last){if(b===e.First){if(a===this._head)return;let b=a.next,c=a.previous;a===this._tail?(c.next=void 0,this._tail=c):(b.previous=c,c.next=b),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(b===e.Last){if(a===this._tail)return;let b=a.next,c=a.previous;a===this._head?(b.previous=void 0,this._head=b):(b.previous=c,c.next=b),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}}toJSON(){let a=[];return this.forEach((b,c)=>{a.push([c,b])}),a}fromJSON(a){for(let[b,c]of(this.clear(),a))this.set(b,c)}}c.LinkedMap=g,c.LRUCache=class extends g{constructor(a,b=1){super(),this._limit=a,this._ratio=Math.min(Math.max(0,b),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get ratio(){return this._ratio}set ratio(a){this._ratio=Math.min(Math.max(0,a),1),this.checkTrim()}get(a,b=e.AsNew){return super.get(a,b)}peek(a){return super.get(a,e.None)}set(a,b){return super.set(a,b,e.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},68981,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.Disposable=void 0,(d||(c.Disposable=d={})).create=function(a){return{dispose:a}}},66602,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.SharedArrayReceiverStrategy=c.SharedArraySenderStrategy=void 0;let f=a.r(96212);(e=d||(d={})).Continue=0,e.Cancelled=1,c.SharedArraySenderStrategy=class{constructor(){this.buffers=new Map}enableCancellation(a){if(null===a.id)return;let b=new SharedArrayBuffer(4);new Int32Array(b,0,1)[0]=d.Continue,this.buffers.set(a.id,b),a.$cancellationData=b}async sendCancellation(a,b){let c=this.buffers.get(b);if(void 0===c)return;let e=new Int32Array(c,0,1);Atomics.store(e,0,d.Cancelled)}cleanup(a){this.buffers.delete(a)}dispose(){this.buffers.clear()}};class g{constructor(a){this.data=new Int32Array(a,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===d.Cancelled}get onCancellationRequested(){throw Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class h{constructor(a){this.token=new g(a)}cancel(){}dispose(){}}c.SharedArrayReceiverStrategy=class{constructor(){this.kind="request"}createCancellationTokenSource(a){let b=a.$cancellationData;return void 0===b?new f.CancellationTokenSource:new h(b)}}},73596,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Semaphore=void 0;let d=a.r(63647);c.Semaphore=class{constructor(a=1){if(a<=0)throw Error("Capacity must be greater than 0");this._capacity=a,this._active=0,this._waiting=[]}lock(a){return new Promise((b,c)=>{this._waiting.push({thunk:a,resolve:b,reject:c}),this.runNext()})}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,d.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;let a=this._waiting.shift();if(this._active++,this._active>this._capacity)throw Error("To many thunks active");try{let b=a.thunk();b instanceof Promise?b.then(b=>{this._active--,a.resolve(b),this.runNext()},b=>{this._active--,a.reject(b),this.runNext()}):(this._active--,a.resolve(b),this.runNext())}catch(b){this._active--,a.reject(b),this.runNext()}}}},36507,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.ReadableStreamMessageReader=c.AbstractMessageReader=c.MessageReader=void 0;let f=a.r(63647),g=a.r(39597),h=a.r(37898),i=a.r(73596);(d||(c.MessageReader=d={})).is=function(a){return a&&g.func(a.listen)&&g.func(a.dispose)&&g.func(a.onError)&&g.func(a.onClose)&&g.func(a.onPartialMessage)};class j{constructor(){this.errorEmitter=new h.Emitter,this.closeEmitter=new h.Emitter,this.partialMessageEmitter=new h.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(a){this.errorEmitter.fire(this.asError(a))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(a){this.partialMessageEmitter.fire(a)}asError(a){return a instanceof Error?a:Error(`Reader received error. Reason: ${g.string(a.message)?a.message:"unknown"}`)}}c.AbstractMessageReader=j,(e||(e={})).fromOptions=function(a){let b,c,d,e=new Map,g=new Map;if(void 0===a||"string"==typeof a)b=a??"utf-8";else{if(b=a.charset??"utf-8",void 0!==a.contentDecoder&&(c=a.contentDecoder,e.set(c.name,c)),void 0!==a.contentDecoders)for(let b of a.contentDecoders)e.set(b.name,b);if(void 0!==a.contentTypeDecoder&&(d=a.contentTypeDecoder,g.set(d.name,d)),void 0!==a.contentTypeDecoders)for(let b of a.contentTypeDecoders)g.set(b.name,b)}return void 0===d&&(d=(0,f.default)().applicationJson.decoder,g.set(d.name,d)),{charset:b,contentDecoder:c,contentDecoders:e,contentTypeDecoder:d,contentTypeDecoders:g}},c.ReadableStreamMessageReader=class extends j{constructor(a,b){super(),this.readable=a,this.options=e.fromOptions(b),this.buffer=(0,f.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new i.Semaphore(1)}set partialMessageTimeout(a){this._partialMessageTimeout=a}get partialMessageTimeout(){return this._partialMessageTimeout}listen(a){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=a;let b=this.readable.onData(a=>{this.onData(a)});return this.readable.onError(a=>this.fireError(a)),this.readable.onClose(()=>this.fireClose()),b}onData(a){try{for(this.buffer.append(a);;){if(-1===this.nextMessageLength){let a=this.buffer.tryReadHeaders(!0);if(!a)return;let b=a.get("content-length");if(!b)return void this.fireError(Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(a))}`));let c=parseInt(b);if(isNaN(c))return void this.fireError(Error(`Content-Length value must be a number. Got ${b}`));this.nextMessageLength=c}let a=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===a)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let b=void 0!==this.options.contentDecoder?await this.options.contentDecoder.decode(a):a,c=await this.options.contentTypeDecoder.decode(b,this.options);this.callback(c)}).catch(a=>{this.fireError(a)})}}catch(a){this.fireError(a)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,f.default)().timer.setTimeout((a,b)=>{this.partialMessageTimer=void 0,a===this.messageToken&&(this.firePartialMessage({messageToken:a,waitingTime:b}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},43311,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.WriteableStreamMessageWriter=c.AbstractMessageWriter=c.MessageWriter=void 0;let f=a.r(63647),g=a.r(39597),h=a.r(73596),i=a.r(37898);(d||(c.MessageWriter=d={})).is=function(a){return a&&g.func(a.dispose)&&g.func(a.onClose)&&g.func(a.onError)&&g.func(a.write)};class j{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(a,b,c){this.errorEmitter.fire([this.asError(a),b,c])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(a){return a instanceof Error?a:Error(`Writer received error. Reason: ${g.string(a.message)?a.message:"unknown"}`)}}c.AbstractMessageWriter=j,(e||(e={})).fromOptions=function(a){return void 0===a||"string"==typeof a?{charset:a??"utf-8",contentTypeEncoder:(0,f.default)().applicationJson.encoder}:{charset:a.charset??"utf-8",contentEncoder:a.contentEncoder,contentTypeEncoder:a.contentTypeEncoder??(0,f.default)().applicationJson.encoder}},c.WriteableStreamMessageWriter=class extends j{constructor(a,b){super(),this.writable=a,this.options=e.fromOptions(b),this.errorCount=0,this.writeSemaphore=new h.Semaphore(1),this.writable.onError(a=>this.fireError(a)),this.writable.onClose(()=>this.fireClose())}async write(a){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(a,this.options).then(a=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(a):a).then(b=>{let c=[];return c.push("Content-Length: ",b.byteLength.toString(),"\r\n"),c.push("\r\n"),this.doWrite(a,c,b)},a=>{throw this.fireError(a),a}))}async doWrite(a,b,c){try{return await this.writable.write(b.join(""),"ascii"),this.writable.write(c)}catch(b){return this.handleError(b,a),Promise.reject(b)}}handleError(a,b){this.errorCount++,this.fireError(a,b,this.errorCount)}end(){this.writable.end()}}},4763,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.AbstractMessageBuffer=void 0,c.AbstractMessageBuffer=class{constructor(a="utf-8"){this._encoding=a,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(a){let b="string"==typeof a?this.fromString(a,this._encoding):a;this._chunks.push(b),this._totalLength+=b.byteLength}tryReadHeaders(a=!1){if(0===this._chunks.length)return;let b=0,c=0,d=0,e=0;a:for(;c<this._chunks.length;){let a=this._chunks[c];for(d=0;d<a.length;){switch(a[d]){case 13:switch(b){case 0:b=1;break;case 2:b=3;break;default:b=0}break;case 10:switch(b){case 1:b=2;break;case 3:b=4,d++;break a;default:b=0}break;default:b=0}d++}e+=a.byteLength,c++}if(4!==b)return;let f=this._read(e+d),g=new Map,h=this.toString(f,"ascii").split("\r\n");if(h.length<2)return g;for(let b=0;b<h.length-2;b++){let c=h[b],d=c.indexOf(":");if(-1===d)throw Error(`Message header must separate key and value using ':'
${c}`);let e=c.substr(0,d),f=c.substr(d+1).trim();g.set(a?e.toLowerCase():e,f)}return g}tryReadBody(a){if(!(this._totalLength<a))return this._read(a)}get numberOfBytes(){return this._totalLength}_read(a){if(0===a)return this.emptyBuffer();if(a>this._totalLength)throw Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===a){let b=this._chunks[0];return this._chunks.shift(),this._totalLength-=a,this.asNative(b)}if(this._chunks[0].byteLength>a){let b=this._chunks[0],c=this.asNative(b,a);return this._chunks[0]=b.slice(a),this._totalLength-=a,c}let b=this.allocNative(a),c=0;for(;a>0;){let d=this._chunks[0];if(d.byteLength>a){let e=d.slice(0,a);b.set(e,c),c+=a,this._chunks[0]=d.slice(a),this._totalLength-=a,a-=a}else b.set(d,c),c+=d.byteLength,this._chunks.shift(),this._totalLength-=d.byteLength,a-=d.byteLength}return b}}},72632,(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;Object.defineProperty(c,"__esModule",{value:!0}),c.createMessageConnection=c.ConnectionOptions=c.MessageStrategy=c.CancellationStrategy=c.CancellationSenderStrategy=c.CancellationReceiverStrategy=c.RequestCancellationReceiverStrategy=c.IdCancellationReceiverStrategy=c.ConnectionStrategy=c.ConnectionError=c.ConnectionErrors=c.LogTraceNotification=c.SetTraceNotification=c.TraceFormat=c.TraceValues=c.Trace=c.NullLogger=c.ProgressType=c.ProgressToken=void 0;let G=a.r(63647),H=a.r(39597),I=a.r(65506),J=a.r(73867),K=a.r(37898),L=a.r(96212);(d||(d={})).type=new I.NotificationType("$/cancelRequest"),(e||(c.ProgressToken=e={})).is=function(a){return"string"==typeof a||"number"==typeof a},(f||(f={})).type=new I.NotificationType("$/progress"),c.ProgressType=class{},(g||(g={})).is=function(a){return H.func(a)},c.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),(w=h||(c.Trace=h={}))[w.Off=0]="Off",w[w.Messages=1]="Messages",w[w.Compact=2]="Compact",w[w.Verbose=3]="Verbose",(x=i||(c.TraceValues=i={})).Off="off",x.Messages="messages",x.Compact="compact",x.Verbose="verbose",(y=h||(c.Trace=h={})).fromString=function(a){if(!H.string(a))return y.Off;switch(a=a.toLowerCase()){case"off":default:return y.Off;case"messages":return y.Messages;case"compact":return y.Compact;case"verbose":return y.Verbose}},y.toString=function(a){switch(a){case y.Off:return"off";case y.Messages:return"messages";case y.Compact:return"compact";case y.Verbose:return"verbose";default:return"off"}},(z=j||(c.TraceFormat=j={})).Text="text",z.JSON="json",(A=j||(c.TraceFormat=j={})).fromString=function(a){return H.string(a)&&"json"===(a=a.toLowerCase())?A.JSON:A.Text},(k||(c.SetTraceNotification=k={})).type=new I.NotificationType("$/setTrace"),(l||(c.LogTraceNotification=l={})).type=new I.NotificationType("$/logTrace"),(B=m||(c.ConnectionErrors=m={}))[B.Closed=1]="Closed",B[B.Disposed=2]="Disposed",B[B.AlreadyListening=3]="AlreadyListening";class M extends Error{constructor(a,b){super(b),this.code=a,Object.setPrototypeOf(this,M.prototype)}}c.ConnectionError=M,(n||(c.ConnectionStrategy=n={})).is=function(a){return a&&H.func(a.cancelUndispatched)},(o||(c.IdCancellationReceiverStrategy=o={})).is=function(a){return a&&(void 0===a.kind||"id"===a.kind)&&H.func(a.createCancellationTokenSource)&&(void 0===a.dispose||H.func(a.dispose))},(p||(c.RequestCancellationReceiverStrategy=p={})).is=function(a){return a&&"request"===a.kind&&H.func(a.createCancellationTokenSource)&&(void 0===a.dispose||H.func(a.dispose))},(C=q||(c.CancellationReceiverStrategy=q={})).Message=Object.freeze({createCancellationTokenSource:a=>new L.CancellationTokenSource}),C.is=function(a){return o.is(a)||p.is(a)},(D=r||(c.CancellationSenderStrategy=r={})).Message=Object.freeze({sendCancellation:(a,b)=>a.sendNotification(d.type,{id:b}),cleanup(a){}}),D.is=function(a){return a&&H.func(a.sendCancellation)&&H.func(a.cleanup)},(E=s||(c.CancellationStrategy=s={})).Message=Object.freeze({receiver:q.Message,sender:r.Message}),E.is=function(a){return a&&q.is(a.receiver)&&r.is(a.sender)},(t||(c.MessageStrategy=t={})).is=function(a){return a&&H.func(a.handleMessage)},(u||(c.ConnectionOptions=u={})).is=function(a){return a&&(s.is(a.cancellationStrategy)||n.is(a.connectionStrategy)||t.is(a.messageStrategy))},(F=v||(v={}))[F.New=1]="New",F[F.Listening=2]="Listening",F[F.Closed=3]="Closed",F[F.Disposed=4]="Disposed",c.createMessageConnection=function(a,b,i,n){let p,q,r,u,w=void 0!==i?i:c.NullLogger,x=0,y=0,z=0,A=new Map,B=new Map,C=new Map,D=new J.LinkedMap,E=new Map,F=new Set,N=new Map,O=h.Off,P=j.Text,Q=v.New,R=new K.Emitter,S=new K.Emitter,T=new K.Emitter,U=new K.Emitter,V=new K.Emitter,W=n&&n.cancellationStrategy?n.cancellationStrategy:s.Message;function X(a){if(null===a)throw Error("Can't send requests with id null since the response can't be correlated.");return"req-"+a.toString()}function Y(a){}function Z(){return Q===v.Listening}function $(){return Q===v.Closed}function _(){return Q===v.Disposed}function aa(){(Q===v.New||Q===v.Listening)&&(Q=v.Closed,S.fire(void 0))}function ab(a){I.Message.isRequest(a)?function(a){let c,d;if(_())return;function e(c,d,e){let f={jsonrpc:"2.0",id:a.id};c instanceof I.ResponseError?f.error=c.toJson():f.result=void 0===c?null:c,ae(f,d,e),b.write(f).catch(()=>w.error("Sending response failed."))}function f(c,d,e){let f={jsonrpc:"2.0",id:a.id,error:c.toJson()};ae(f,d,e),b.write(f).catch(()=>w.error("Sending response failed."))}var g,i,k=a;if(O!==h.Off&&q)if(P===j.Text){let a;(O===h.Verbose||O===h.Compact)&&k.params&&(a=`Params: ${ad(k.params)}

`),q.log(`Received request '${k.method} - (${k.id})'.`,a)}else ag("receive-request",k);let l=A.get(a.method);l&&(c=l.type,d=l.handler);let m=Date.now();if(d||r){let h=a.id??String(Date.now()),j=o.is(W.receiver)?W.receiver.createCancellationTokenSource(h):W.receiver.createCancellationTokenSource(a);null!==a.id&&F.has(a.id)&&j.cancel(),null!==a.id&&N.set(h,j);try{let k;if(d)if(void 0===a.params){if(void 0!==c&&0!==c.numberOfParams)return void f(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${a.method} defines ${c.numberOfParams} params but received none.`),a.method,m);k=d(j.token)}else if(Array.isArray(a.params)){if(void 0!==c&&c.parameterStructures===I.ParameterStructures.byName)return void f(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${a.method} defines parameters by name but received parameters by position`),a.method,m);k=d(...a.params,j.token)}else{if(void 0!==c&&c.parameterStructures===I.ParameterStructures.byPosition)return void f(new I.ResponseError(I.ErrorCodes.InvalidParams,`Request ${a.method} defines parameters by position but received parameters by name`),a.method,m);k=d(a.params,j.token)}else r&&(k=r(a.method,a.params,j.token));let l=k;if(k)l.then?l.then(b=>{N.delete(h),e(b,a.method,m)},b=>{N.delete(h),b instanceof I.ResponseError?f(b,a.method,m):b&&H.string(b.message)?f(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${a.method} failed with message: ${b.message}`),a.method,m):f(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${a.method} failed unexpectedly without providing any details.`),a.method,m)}):(N.delete(h),e(k,a.method,m));else{let c;N.delete(h),g=k,i=a.method,void 0===g&&(g=null),c={jsonrpc:"2.0",id:a.id,result:g},ae(c,i,m),b.write(c).catch(()=>w.error("Sending response failed."))}}catch(b){N.delete(h),b instanceof I.ResponseError?e(b,a.method,m):b&&H.string(b.message)?f(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${a.method} failed with message: ${b.message}`),a.method,m):f(new I.ResponseError(I.ErrorCodes.InternalError,`Request ${a.method} failed unexpectedly without providing any details.`),a.method,m)}}else f(new I.ResponseError(I.ErrorCodes.MethodNotFound,`Unhandled method ${a.method}`),a.method,m)}(a):I.Message.isNotification(a)?function(a){let b,c;if(!_()){if(a.method===d.type.method){let b=a.params.id;F.delete(b),af(a);return}{let d=B.get(a.method);d&&(b=d.handler,c=d.type)}if(b||u)try{if(af(a),b)if(void 0===a.params)void 0!==c&&0!==c.numberOfParams&&c.parameterStructures!==I.ParameterStructures.byName&&w.error(`Notification ${a.method} defines ${c.numberOfParams} params but received none.`),b();else if(Array.isArray(a.params)){let d=a.params;a.method===f.type.method&&2===d.length&&e.is(d[0])?b({token:d[0],value:d[1]}):(void 0!==c&&(c.parameterStructures===I.ParameterStructures.byName&&w.error(`Notification ${a.method} defines parameters by name but received parameters by position`),c.numberOfParams!==a.params.length&&w.error(`Notification ${a.method} defines ${c.numberOfParams} params but received ${d.length} arguments`)),b(...d))}else void 0!==c&&c.parameterStructures===I.ParameterStructures.byPosition&&w.error(`Notification ${a.method} defines parameters by position but received parameters by name`),b(a.params);else u&&u(a.method,a.params)}catch(b){b.message?w.error(`Notification handler '${a.method}' failed with message: ${b.message}`):w.error(`Notification handler '${a.method}' failed unexpectedly.`)}else T.fire(a)}}(a):I.Message.isResponse(a)?function(a){if(!_())if(null===a.id)a.error?w.error(`Received response message without id: Error is: 
${JSON.stringify(a.error,void 0,4)}`):w.error("Received response message without id. No further error information provided.");else{let b=a.id,c=E.get(b);if(function(a,b){if(O!==h.Off&&q)if(P===j.Text){let c;if((O===h.Verbose||O===h.Compact)&&(a.error&&a.error.data?c=`Error data: ${ad(a.error.data)}

`:a.result?c=`Result: ${ad(a.result)}

`:void 0===a.error&&(c="No result returned.\n\n")),b){let d=a.error?` Request failed: ${a.error.message} (${a.error.code}).`:"";q.log(`Received response '${b.method} - (${a.id})' in ${Date.now()-b.timerStart}ms.${d}`,c)}else q.log(`Received response ${a.id} without active response promise.`,c)}else ag("receive-response",a)}(a,c),void 0!==c){E.delete(b);try{if(a.error){let b=a.error;c.reject(new I.ResponseError(b.code,b.message,b.data))}else if(void 0!==a.result)c.resolve(a.result);else throw Error("Should never happen.")}catch(a){a.message?w.error(`Response handler '${c.method}' failed with message: ${a.message}`):w.error(`Response handler '${c.method}' failed unexpectedly.`)}}}}(a):function(a){if(!a)return w.error("Received empty message.");if(w.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(a,null,4)}`),H.string(a.id)||H.number(a.id)){let b=a.id,c=E.get(b);c&&c.reject(Error("The received response has neither a result nor an error property."))}}(a)}a.onClose(aa),a.onError(function(a){R.fire([a,void 0,void 0])}),b.onClose(aa),b.onError(function(a){R.fire(a)});let ac=a=>{try{if(I.Message.isNotification(a)&&a.method===d.type.method){let c=a.params.id,d=X(c),e=D.get(d);if(I.Message.isRequest(e)){let f=n?.connectionStrategy,g=f&&f.cancelUndispatched?f.cancelUndispatched(e,Y):Y(e);if(g&&(void 0!==g.error||void 0!==g.result)){D.delete(d),N.delete(c),g.id=e.id,ae(g,a.method,Date.now()),b.write(g).catch(()=>w.error("Sending response for canceled message failed."));return}}let f=N.get(c);if(void 0!==f){f.cancel(),af(a);return}F.add(c)}var c,e=D;I.Message.isRequest(a)?e.set(X(a.id),a):I.Message.isResponse(a)?e.set(null===(c=a.id)?"res-unknown-"+(++z).toString():"res-"+c.toString(),a):e.set("not-"+(++y).toString(),a)}finally{!function a(){p||0===D.size||(p=(0,G.default)().timer.setImmediate(()=>{p=void 0,function(){if(0===D.size)return;let b=D.shift();try{let a=n?.messageStrategy;t.is(a)?a.handleMessage(b,ab):ab(b)}finally{a()}}()}))}()}};function ad(a){if(null!=a)switch(O){case h.Verbose:return JSON.stringify(a,null,4);case h.Compact:return JSON.stringify(a);default:return}}function ae(a,b,c){if(O!==h.Off&&q)if(P===j.Text){let d;(O===h.Verbose||O===h.Compact)&&(a.error&&a.error.data?d=`Error data: ${ad(a.error.data)}

`:a.result?d=`Result: ${ad(a.result)}

`:void 0===a.error&&(d="No result returned.\n\n")),q.log(`Sending response '${b} - (${a.id})'. Processing request took ${Date.now()-c}ms`,d)}else ag("send-response",a)}function af(a){if(O!==h.Off&&q&&a.method!==l.type.method)if(P===j.Text){let b;(O===h.Verbose||O===h.Compact)&&(b=a.params?`Params: ${ad(a.params)}

`:"No parameters provided.\n\n"),q.log(`Received notification '${a.method}'.`,b)}else ag("receive-notification",a)}function ag(a,b){if(!q||O===h.Off)return;let c={isLSPMessage:!0,type:a,message:b,timestamp:Date.now()};q.log(c)}function ah(){if($())throw new M(m.Closed,"Connection is closed.");if(_())throw new M(m.Disposed,"Connection is disposed.")}function ai(a){return void 0===a?null:a}function aj(a){if(null!==a)return a}function ak(a){return null!=a&&!Array.isArray(a)&&"object"==typeof a}function al(a,b){switch(a){case I.ParameterStructures.auto:if(ak(b))return aj(b);return[ai(b)];case I.ParameterStructures.byName:if(!ak(b))throw Error("Received parameters by name but param is not an object literal.");return aj(b);case I.ParameterStructures.byPosition:return[ai(b)];default:throw Error(`Unknown parameter structure ${a.toString()}`)}}function am(a,b){let c,d=a.numberOfParams;switch(d){case 0:c=void 0;break;case 1:c=al(a.parameterStructures,b[0]);break;default:c=[];for(let a=0;a<b.length&&a<d;a++)c.push(ai(b[a]));if(b.length<d)for(let a=b.length;a<d;a++)c.push(null)}return c}let an={sendNotification:(a,...c)=>{let d,e;if(ah(),H.string(a)){d=a;let b=c[0],f=0,g=I.ParameterStructures.auto;I.ParameterStructures.is(b)&&(f=1,g=b);let h=c.length,i=h-f;switch(i){case 0:e=void 0;break;case 1:e=al(g,c[f]);break;default:if(g===I.ParameterStructures.byName)throw Error(`Received ${i} parameters for 'by Name' notification parameter structure.`);e=c.slice(f,h).map(a=>ai(a))}}else d=a.method,e=am(a,c);let f={jsonrpc:"2.0",method:d,params:e};if(O!==h.Off&&q)if(P===j.Text){let a;(O===h.Verbose||O===h.Compact)&&(a=f.params?`Params: ${ad(f.params)}

`:"No parameters provided.\n\n"),q.log(`Sending notification '${f.method}'.`,a)}else ag("send-notification",f);return b.write(f).catch(a=>{throw w.error("Sending notification failed."),a})},onNotification:(a,b)=>{let c;return ah(),H.func(a)?u=a:b&&(H.string(a)?(c=a,B.set(a,{type:void 0,handler:b})):(c=a.method,B.set(a.method,{type:a,handler:b}))),{dispose:()=>{void 0!==c?B.delete(c):u=void 0}}},onProgress:(a,b,c)=>{if(C.has(b))throw Error(`Progress handler for token ${b} already registered`);return C.set(b,c),{dispose:()=>{C.delete(b)}}},sendProgress:(a,b,c)=>an.sendNotification(f.type,{token:b,value:c}),onUnhandledProgress:U.event,sendRequest:(a,...c)=>{let d,e,f,g;if(ah(),!Z())throw Error("Call listen() first.");if(H.string(a)){d=a;let b=c[0],f=c[c.length-1],h=0,i=I.ParameterStructures.auto;I.ParameterStructures.is(b)&&(h=1,i=b);let j=c.length;L.CancellationToken.is(f)&&(j-=1,g=f);let k=j-h;switch(k){case 0:e=void 0;break;case 1:e=al(i,c[h]);break;default:if(i===I.ParameterStructures.byName)throw Error(`Received ${k} parameters for 'by Name' request parameter structure.`);e=c.slice(h,j).map(a=>ai(a))}}else{d=a.method,e=am(a,c);let b=a.numberOfParams;g=L.CancellationToken.is(c[b])?c[b]:void 0}let i=x++;g&&(f=g.onCancellationRequested(()=>{let a=W.sender.sendCancellation(an,i);return void 0===a?(w.log(`Received no promise from cancellation strategy when cancelling id ${i}`),Promise.resolve()):a.catch(()=>{w.log(`Sending cancellation messages for id ${i} failed`)})}));let k={jsonrpc:"2.0",id:i,method:d,params:e};if(O!==h.Off&&q)if(P===j.Text){let a;(O===h.Verbose||O===h.Compact)&&k.params&&(a=`Params: ${ad(k.params)}

`),q.log(`Sending request '${k.method} - (${k.id})'.`,a)}else ag("send-request",k);return"function"==typeof W.sender.enableCancellation&&W.sender.enableCancellation(k),new Promise(async(a,c)=>{let e={method:d,timerStart:Date.now(),resolve:b=>{a(b),W.sender.cleanup(i),f?.dispose()},reject:a=>{c(a),W.sender.cleanup(i),f?.dispose()}};try{await b.write(k),E.set(i,e)}catch(a){throw w.error("Sending request failed."),e.reject(new I.ResponseError(I.ErrorCodes.MessageWriteError,a.message?a.message:"Unknown reason")),a}})},onRequest:(a,b)=>{ah();let c=null;return g.is(a)?(c=void 0,r=a):H.string(a)?(c=null,void 0!==b&&(c=a,A.set(a,{handler:b,type:void 0}))):void 0!==b&&(c=a.method,A.set(a.method,{type:a,handler:b})),{dispose:()=>{null!==c&&(void 0!==c?A.delete(c):r=void 0)}}},hasPendingResponse:()=>E.size>0,trace:async(a,b,c)=>{let d=!1,e=j.Text;void 0!==c&&(H.boolean(c)?d=c:(d=c.sendNotification||!1,e=c.traceFormat||j.Text)),O=a,P=e,q=O===h.Off?void 0:b,!d||$()||_()||await an.sendNotification(k.type,{value:h.toString(a)})},onError:R.event,onClose:S.event,onUnhandledNotification:T.event,onDispose:V.event,end:()=>{b.end()},dispose:()=>{if(_())return;Q=v.Disposed,V.fire(void 0);let c=new I.ResponseError(I.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let a of E.values())a.reject(c);E=new Map,N=new Map,F=new Set,D=new J.LinkedMap,H.func(b.dispose)&&b.dispose(),H.func(a.dispose)&&a.dispose()},listen:()=>{if(ah(),Z())throw new M(m.AlreadyListening,"Connection is already listening");Q=v.Listening,a.listen(ac)},inspect:()=>{(0,G.default)().console.log("inspect")}};return an.onNotification(l.type,a=>{if(O===h.Off||!q)return;let b=O===h.Verbose||O===h.Compact;q.log(a.message,b?a.verbose:void 0)}),an.onNotification(f.type,a=>{let b=C.get(a.token);b?b(a.value):U.fire(a)}),an}},85249,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ProgressType=c.ProgressToken=c.createMessageConnection=c.NullLogger=c.ConnectionOptions=c.ConnectionStrategy=c.AbstractMessageBuffer=c.WriteableStreamMessageWriter=c.AbstractMessageWriter=c.MessageWriter=c.ReadableStreamMessageReader=c.AbstractMessageReader=c.MessageReader=c.SharedArrayReceiverStrategy=c.SharedArraySenderStrategy=c.CancellationToken=c.CancellationTokenSource=c.Emitter=c.Event=c.Disposable=c.LRUCache=c.Touch=c.LinkedMap=c.ParameterStructures=c.NotificationType9=c.NotificationType8=c.NotificationType7=c.NotificationType6=c.NotificationType5=c.NotificationType4=c.NotificationType3=c.NotificationType2=c.NotificationType1=c.NotificationType0=c.NotificationType=c.ErrorCodes=c.ResponseError=c.RequestType9=c.RequestType8=c.RequestType7=c.RequestType6=c.RequestType5=c.RequestType4=c.RequestType3=c.RequestType2=c.RequestType1=c.RequestType0=c.RequestType=c.Message=c.RAL=void 0,c.MessageStrategy=c.CancellationStrategy=c.CancellationSenderStrategy=c.CancellationReceiverStrategy=c.ConnectionError=c.ConnectionErrors=c.LogTraceNotification=c.SetTraceNotification=c.TraceFormat=c.TraceValues=c.Trace=void 0;let d=a.r(65506);Object.defineProperty(c,"Message",{enumerable:!0,get:function(){return d.Message}}),Object.defineProperty(c,"RequestType",{enumerable:!0,get:function(){return d.RequestType}}),Object.defineProperty(c,"RequestType0",{enumerable:!0,get:function(){return d.RequestType0}}),Object.defineProperty(c,"RequestType1",{enumerable:!0,get:function(){return d.RequestType1}}),Object.defineProperty(c,"RequestType2",{enumerable:!0,get:function(){return d.RequestType2}}),Object.defineProperty(c,"RequestType3",{enumerable:!0,get:function(){return d.RequestType3}}),Object.defineProperty(c,"RequestType4",{enumerable:!0,get:function(){return d.RequestType4}}),Object.defineProperty(c,"RequestType5",{enumerable:!0,get:function(){return d.RequestType5}}),Object.defineProperty(c,"RequestType6",{enumerable:!0,get:function(){return d.RequestType6}}),Object.defineProperty(c,"RequestType7",{enumerable:!0,get:function(){return d.RequestType7}}),Object.defineProperty(c,"RequestType8",{enumerable:!0,get:function(){return d.RequestType8}}),Object.defineProperty(c,"RequestType9",{enumerable:!0,get:function(){return d.RequestType9}}),Object.defineProperty(c,"ResponseError",{enumerable:!0,get:function(){return d.ResponseError}}),Object.defineProperty(c,"ErrorCodes",{enumerable:!0,get:function(){return d.ErrorCodes}}),Object.defineProperty(c,"NotificationType",{enumerable:!0,get:function(){return d.NotificationType}}),Object.defineProperty(c,"NotificationType0",{enumerable:!0,get:function(){return d.NotificationType0}}),Object.defineProperty(c,"NotificationType1",{enumerable:!0,get:function(){return d.NotificationType1}}),Object.defineProperty(c,"NotificationType2",{enumerable:!0,get:function(){return d.NotificationType2}}),Object.defineProperty(c,"NotificationType3",{enumerable:!0,get:function(){return d.NotificationType3}}),Object.defineProperty(c,"NotificationType4",{enumerable:!0,get:function(){return d.NotificationType4}}),Object.defineProperty(c,"NotificationType5",{enumerable:!0,get:function(){return d.NotificationType5}}),Object.defineProperty(c,"NotificationType6",{enumerable:!0,get:function(){return d.NotificationType6}}),Object.defineProperty(c,"NotificationType7",{enumerable:!0,get:function(){return d.NotificationType7}}),Object.defineProperty(c,"NotificationType8",{enumerable:!0,get:function(){return d.NotificationType8}}),Object.defineProperty(c,"NotificationType9",{enumerable:!0,get:function(){return d.NotificationType9}}),Object.defineProperty(c,"ParameterStructures",{enumerable:!0,get:function(){return d.ParameterStructures}});let e=a.r(73867);Object.defineProperty(c,"LinkedMap",{enumerable:!0,get:function(){return e.LinkedMap}}),Object.defineProperty(c,"LRUCache",{enumerable:!0,get:function(){return e.LRUCache}}),Object.defineProperty(c,"Touch",{enumerable:!0,get:function(){return e.Touch}});let f=a.r(68981);Object.defineProperty(c,"Disposable",{enumerable:!0,get:function(){return f.Disposable}});let g=a.r(37898);Object.defineProperty(c,"Event",{enumerable:!0,get:function(){return g.Event}}),Object.defineProperty(c,"Emitter",{enumerable:!0,get:function(){return g.Emitter}});let h=a.r(96212);Object.defineProperty(c,"CancellationTokenSource",{enumerable:!0,get:function(){return h.CancellationTokenSource}}),Object.defineProperty(c,"CancellationToken",{enumerable:!0,get:function(){return h.CancellationToken}});let i=a.r(66602);Object.defineProperty(c,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return i.SharedArraySenderStrategy}}),Object.defineProperty(c,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return i.SharedArrayReceiverStrategy}});let j=a.r(36507);Object.defineProperty(c,"MessageReader",{enumerable:!0,get:function(){return j.MessageReader}}),Object.defineProperty(c,"AbstractMessageReader",{enumerable:!0,get:function(){return j.AbstractMessageReader}}),Object.defineProperty(c,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return j.ReadableStreamMessageReader}});let k=a.r(43311);Object.defineProperty(c,"MessageWriter",{enumerable:!0,get:function(){return k.MessageWriter}}),Object.defineProperty(c,"AbstractMessageWriter",{enumerable:!0,get:function(){return k.AbstractMessageWriter}}),Object.defineProperty(c,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return k.WriteableStreamMessageWriter}});let l=a.r(4763);Object.defineProperty(c,"AbstractMessageBuffer",{enumerable:!0,get:function(){return l.AbstractMessageBuffer}});let m=a.r(72632);Object.defineProperty(c,"ConnectionStrategy",{enumerable:!0,get:function(){return m.ConnectionStrategy}}),Object.defineProperty(c,"ConnectionOptions",{enumerable:!0,get:function(){return m.ConnectionOptions}}),Object.defineProperty(c,"NullLogger",{enumerable:!0,get:function(){return m.NullLogger}}),Object.defineProperty(c,"createMessageConnection",{enumerable:!0,get:function(){return m.createMessageConnection}}),Object.defineProperty(c,"ProgressToken",{enumerable:!0,get:function(){return m.ProgressToken}}),Object.defineProperty(c,"ProgressType",{enumerable:!0,get:function(){return m.ProgressType}}),Object.defineProperty(c,"Trace",{enumerable:!0,get:function(){return m.Trace}}),Object.defineProperty(c,"TraceValues",{enumerable:!0,get:function(){return m.TraceValues}}),Object.defineProperty(c,"TraceFormat",{enumerable:!0,get:function(){return m.TraceFormat}}),Object.defineProperty(c,"SetTraceNotification",{enumerable:!0,get:function(){return m.SetTraceNotification}}),Object.defineProperty(c,"LogTraceNotification",{enumerable:!0,get:function(){return m.LogTraceNotification}}),Object.defineProperty(c,"ConnectionErrors",{enumerable:!0,get:function(){return m.ConnectionErrors}}),Object.defineProperty(c,"ConnectionError",{enumerable:!0,get:function(){return m.ConnectionError}}),Object.defineProperty(c,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return m.CancellationReceiverStrategy}}),Object.defineProperty(c,"CancellationSenderStrategy",{enumerable:!0,get:function(){return m.CancellationSenderStrategy}}),Object.defineProperty(c,"CancellationStrategy",{enumerable:!0,get:function(){return m.CancellationStrategy}}),Object.defineProperty(c,"MessageStrategy",{enumerable:!0,get:function(){return m.MessageStrategy}}),c.RAL=a.r(63647).default},94862,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});let d=a.r(24361),e=a.r(85249);class f extends e.AbstractMessageBuffer{constructor(a="utf-8"){super(a)}emptyBuffer(){return f.emptyBuffer}fromString(a,b){return Buffer.from(a,b)}toString(a,b){return a instanceof Buffer?a.toString(b):new d.TextDecoder(b).decode(a)}asNative(a,b){return void 0===b?a instanceof Buffer?a:Buffer.from(a):a instanceof Buffer?a.slice(0,b):Buffer.from(a,0,b)}allocNative(a){return Buffer.allocUnsafe(a)}}f.emptyBuffer=Buffer.allocUnsafe(0);class g{constructor(a){this.stream=a}onClose(a){return this.stream.on("close",a),e.Disposable.create(()=>this.stream.off("close",a))}onError(a){return this.stream.on("error",a),e.Disposable.create(()=>this.stream.off("error",a))}onEnd(a){return this.stream.on("end",a),e.Disposable.create(()=>this.stream.off("end",a))}onData(a){return this.stream.on("data",a),e.Disposable.create(()=>this.stream.off("data",a))}}class h{constructor(a){this.stream=a}onClose(a){return this.stream.on("close",a),e.Disposable.create(()=>this.stream.off("close",a))}onError(a){return this.stream.on("error",a),e.Disposable.create(()=>this.stream.off("error",a))}onEnd(a){return this.stream.on("end",a),e.Disposable.create(()=>this.stream.off("end",a))}write(a,b){return new Promise((c,d)=>{let e=a=>{null==a?c():d(a)};"string"==typeof a?this.stream.write(a,b,e):this.stream.write(a,e)})}end(){this.stream.end()}}let i=Object.freeze({messageBuffer:Object.freeze({create:a=>new f(a)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(a,b)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(a,void 0,0),b.charset))}catch(a){return Promise.reject(a)}}}),decoder:Object.freeze({name:"application/json",decode:(a,b)=>{try{if(a instanceof Buffer)return Promise.resolve(JSON.parse(a.toString(b.charset)));return Promise.resolve(JSON.parse(new d.TextDecoder(b.charset).decode(a)))}catch(a){return Promise.reject(a)}}})}),stream:Object.freeze({asReadableStream:a=>new g(a),asWritableStream:a=>new h(a)}),console:console,timer:Object.freeze({setTimeout(a,b,...c){let d=setTimeout(a,b,...c);return{dispose:()=>clearTimeout(d)}},setImmediate(a,...b){let c=setImmediate(a,...b);return{dispose:()=>clearImmediate(c)}},setInterval(a,b,...c){let d=setInterval(a,b,...c);return{dispose:()=>clearInterval(d)}}})});function j(){return i}(j||(j={})).install=function(){e.RAL.install(i)},c.default=j},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},8804,(a,b,c)=>{"use strict";var d=a.e&&a.e.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=a.e&&a.e.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(c,"__esModule",{value:!0}),c.createMessageConnection=c.createServerSocketTransport=c.createClientSocketTransport=c.createServerPipeTransport=c.createClientPipeTransport=c.generateRandomPipeName=c.StreamMessageWriter=c.StreamMessageReader=c.SocketMessageWriter=c.SocketMessageReader=c.PortMessageWriter=c.PortMessageReader=c.IPCMessageWriter=c.IPCMessageReader=void 0;let f=a.r(94862);f.default.install();let g=a.r(14747),h=a.r(46786),i=a.r(54799),j=a.r(4446),k=a.r(85249);e(a.r(85249),c);class l extends k.AbstractMessageReader{constructor(a){super(),this.process=a;let b=this.process;b.on("error",a=>this.fireError(a)),b.on("close",()=>this.fireClose())}listen(a){return this.process.on("message",a),k.Disposable.create(()=>this.process.off("message",a))}}c.IPCMessageReader=l;class m extends k.AbstractMessageWriter{constructor(a){super(),this.process=a,this.errorCount=0;const b=this.process;b.on("error",a=>this.fireError(a)),b.on("close",()=>this.fireClose)}write(a){try{return"function"==typeof this.process.send&&this.process.send(a,void 0,void 0,b=>{b?(this.errorCount++,this.handleError(b,a)):this.errorCount=0}),Promise.resolve()}catch(b){return this.handleError(b,a),Promise.reject(b)}}handleError(a,b){this.errorCount++,this.fireError(a,b,this.errorCount)}end(){}}c.IPCMessageWriter=m;class n extends k.AbstractMessageReader{constructor(a){super(),this.onData=new k.Emitter,a.on("close",()=>this.fireClose),a.on("error",a=>this.fireError(a)),a.on("message",a=>{this.onData.fire(a)})}listen(a){return this.onData.event(a)}}c.PortMessageReader=n;class o extends k.AbstractMessageWriter{constructor(a){super(),this.port=a,this.errorCount=0,a.on("close",()=>this.fireClose()),a.on("error",a=>this.fireError(a))}write(a){try{return this.port.postMessage(a),Promise.resolve()}catch(b){return this.handleError(b,a),Promise.reject(b)}}handleError(a,b){this.errorCount++,this.fireError(a,b,this.errorCount)}end(){}}c.PortMessageWriter=o;class p extends k.ReadableStreamMessageReader{constructor(a,b="utf-8"){super((0,f.default)().stream.asReadableStream(a),b)}}c.SocketMessageReader=p;class q extends k.WriteableStreamMessageWriter{constructor(a,b){super((0,f.default)().stream.asWritableStream(a),b),this.socket=a}dispose(){super.dispose(),this.socket.destroy()}}c.SocketMessageWriter=q;class r extends k.ReadableStreamMessageReader{constructor(a,b){super((0,f.default)().stream.asReadableStream(a),b)}}c.StreamMessageReader=r;class s extends k.WriteableStreamMessageWriter{constructor(a,b){super((0,f.default)().stream.asWritableStream(a),b)}}c.StreamMessageWriter=s;let t=process.env.XDG_RUNTIME_DIR,u=new Map([["linux",107],["darwin",103]]);c.generateRandomPipeName=function(){let a,b=(0,i.randomBytes)(21).toString("hex");a=t?g.join(t,`vscode-ipc-${b}.sock`):g.join(h.tmpdir(),`vscode-${b}.sock`);let c=u.get(process.platform);return void 0!==c&&a.length>c&&(0,f.default)().console.warn(`WARNING: IPC handle "${a}" is longer than ${c} characters.`),a},c.createClientPipeTransport=function(a,b="utf-8"){let c,d=new Promise((a,b)=>{c=a});return new Promise((e,f)=>{let g=(0,j.createServer)(a=>{g.close(),c([new p(a,b),new q(a,b)])});g.on("error",f),g.listen(a,()=>{g.removeListener("error",f),e({onConnected:()=>d})})})},c.createServerPipeTransport=function(a,b="utf-8"){let c=(0,j.createConnection)(a);return[new p(c,b),new q(c,b)]},c.createClientSocketTransport=function(a,b="utf-8"){let c,d=new Promise((a,b)=>{c=a});return new Promise((e,f)=>{let g=(0,j.createServer)(a=>{g.close(),c([new p(a,b),new q(a,b)])});g.on("error",f),g.listen(a,"127.0.0.1",()=>{g.removeListener("error",f),e({onConnected:()=>d})})})},c.createServerSocketTransport=function(a,b="utf-8"){let c=(0,j.createConnection)(a,"127.0.0.1");return[new p(c,b),new q(c,b)]},c.createMessageConnection=function(a,b,c,d){c||(c=k.NullLogger);let e=void 0!==a.read&&void 0!==a.addListener?new r(a):a,f=void 0!==b.write&&void 0!==b.addListener?new s(b):b;return k.ConnectionStrategy.is(d)&&(d={connectionStrategy:d}),(0,k.createMessageConnection)(e,f,c,d)}},51698,(a,b,c)=>{"use strict";b.exports=a.r(8804)},32646,(a,b,c)=>{var d=function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TextDocument=b.EOL=b.WorkspaceFolder=b.InlineCompletionContext=b.SelectedCompletionInfo=b.InlineCompletionTriggerKind=b.InlineCompletionList=b.InlineCompletionItem=b.StringValue=b.InlayHint=b.InlayHintLabelPart=b.InlayHintKind=b.InlineValueContext=b.InlineValueEvaluatableExpression=b.InlineValueVariableLookup=b.InlineValueText=b.SemanticTokens=b.SemanticTokenModifiers=b.SemanticTokenTypes=b.SelectionRange=b.DocumentLink=b.FormattingOptions=b.CodeLens=b.CodeAction=b.CodeActionContext=b.CodeActionTriggerKind=b.CodeActionKind=b.DocumentSymbol=b.WorkspaceSymbol=b.SymbolInformation=b.SymbolTag=b.SymbolKind=b.DocumentHighlight=b.DocumentHighlightKind=b.SignatureInformation=b.ParameterInformation=b.Hover=b.MarkedString=b.CompletionList=b.CompletionItem=b.CompletionItemLabelDetails=b.InsertTextMode=b.InsertReplaceEdit=b.CompletionItemTag=b.InsertTextFormat=b.CompletionItemKind=b.MarkupContent=b.MarkupKind=b.TextDocumentItem=b.OptionalVersionedTextDocumentIdentifier=b.VersionedTextDocumentIdentifier=b.TextDocumentIdentifier=b.WorkspaceChange=b.WorkspaceEdit=b.DeleteFile=b.RenameFile=b.CreateFile=b.TextDocumentEdit=b.AnnotatedTextEdit=b.ChangeAnnotationIdentifier=b.ChangeAnnotation=b.TextEdit=b.Command=b.Diagnostic=b.CodeDescription=b.DiagnosticTag=b.DiagnosticSeverity=b.DiagnosticRelatedInformation=b.FoldingRange=b.FoldingRangeKind=b.ColorPresentation=b.ColorInformation=b.Color=b.LocationLink=b.Location=b.Range=b.Position=b.uinteger=b.integer=b.URI=b.DocumentUri=void 0,(af||(b.DocumentUri=af={})).is=function(a){return"string"==typeof a},(ag||(b.URI=ag={})).is=function(a){return"string"==typeof a},(K=ah||(b.integer=ah={})).MIN_VALUE=-0x80000000,K.MAX_VALUE=0x7fffffff,K.is=function(a){return"number"==typeof a&&K.MIN_VALUE<=a&&a<=K.MAX_VALUE},(L=ai||(b.uinteger=ai={})).MIN_VALUE=0,L.MAX_VALUE=0x7fffffff,L.is=function(a){return"number"==typeof a&&L.MIN_VALUE<=a&&a<=L.MAX_VALUE},(M=aj||(b.Position=aj={})).create=function(a,b){return a===Number.MAX_VALUE&&(a=ai.MAX_VALUE),b===Number.MAX_VALUE&&(b=ai.MAX_VALUE),{line:a,character:b}},M.is=function(a){return bu.objectLiteral(a)&&bu.uinteger(a.line)&&bu.uinteger(a.character)},(N=ak||(b.Range=ak={})).create=function(a,b,c,d){if(bu.uinteger(a)&&bu.uinteger(b)&&bu.uinteger(c)&&bu.uinteger(d))return{start:aj.create(a,b),end:aj.create(c,d)};if(aj.is(a)&&aj.is(b))return{start:a,end:b};throw Error("Range#create called with invalid arguments[".concat(a,", ").concat(b,", ").concat(c,", ").concat(d,"]"))},N.is=function(a){return bu.objectLiteral(a)&&aj.is(a.start)&&aj.is(a.end)},(O=al||(b.Location=al={})).create=function(a,b){return{uri:a,range:b}},O.is=function(a){return bu.objectLiteral(a)&&ak.is(a.range)&&(bu.string(a.uri)||bu.undefined(a.uri))},(P=am||(b.LocationLink=am={})).create=function(a,b,c,d){return{targetUri:a,targetRange:b,targetSelectionRange:c,originSelectionRange:d}},P.is=function(a){return bu.objectLiteral(a)&&ak.is(a.targetRange)&&bu.string(a.targetUri)&&ak.is(a.targetSelectionRange)&&(ak.is(a.originSelectionRange)||bu.undefined(a.originSelectionRange))},(Q=an||(b.Color=an={})).create=function(a,b,c,d){return{red:a,green:b,blue:c,alpha:d}},Q.is=function(a){return bu.objectLiteral(a)&&bu.numberRange(a.red,0,1)&&bu.numberRange(a.green,0,1)&&bu.numberRange(a.blue,0,1)&&bu.numberRange(a.alpha,0,1)},(R=ao||(b.ColorInformation=ao={})).create=function(a,b){return{range:a,color:b}},R.is=function(a){return bu.objectLiteral(a)&&ak.is(a.range)&&an.is(a.color)},(S=ap||(b.ColorPresentation=ap={})).create=function(a,b,c){return{label:a,textEdit:b,additionalTextEdits:c}},S.is=function(a){return bu.objectLiteral(a)&&bu.string(a.label)&&(bu.undefined(a.textEdit)||ay.is(a))&&(bu.undefined(a.additionalTextEdits)||bu.typedArray(a.additionalTextEdits,ay.is))},(T=aq||(b.FoldingRangeKind=aq={})).Comment="comment",T.Imports="imports",T.Region="region",(U=ar||(b.FoldingRange=ar={})).create=function(a,b,c,d,e,f){var g={startLine:a,endLine:b};return bu.defined(c)&&(g.startCharacter=c),bu.defined(d)&&(g.endCharacter=d),bu.defined(e)&&(g.kind=e),bu.defined(f)&&(g.collapsedText=f),g},U.is=function(a){return bu.objectLiteral(a)&&bu.uinteger(a.startLine)&&bu.uinteger(a.startLine)&&(bu.undefined(a.startCharacter)||bu.uinteger(a.startCharacter))&&(bu.undefined(a.endCharacter)||bu.uinteger(a.endCharacter))&&(bu.undefined(a.kind)||bu.string(a.kind))},(V=as||(b.DiagnosticRelatedInformation=as={})).create=function(a,b){return{location:a,message:b}},V.is=function(a){return bu.defined(a)&&al.is(a.location)&&bu.string(a.message)},(W=at||(b.DiagnosticSeverity=at={})).Error=1,W.Warning=2,W.Information=3,W.Hint=4,(X=au||(b.DiagnosticTag=au={})).Unnecessary=1,X.Deprecated=2,(av||(b.CodeDescription=av={})).is=function(a){return bu.objectLiteral(a)&&bu.string(a.href)},(Y=aw||(b.Diagnostic=aw={})).create=function(a,b,c,d,e,f){var g={range:a,message:b};return bu.defined(c)&&(g.severity=c),bu.defined(d)&&(g.code=d),bu.defined(e)&&(g.source=e),bu.defined(f)&&(g.relatedInformation=f),g},Y.is=function(a){var b;return bu.defined(a)&&ak.is(a.range)&&bu.string(a.message)&&(bu.number(a.severity)||bu.undefined(a.severity))&&(bu.integer(a.code)||bu.string(a.code)||bu.undefined(a.code))&&(bu.undefined(a.codeDescription)||bu.string(null==(b=a.codeDescription)?void 0:b.href))&&(bu.string(a.source)||bu.undefined(a.source))&&(bu.undefined(a.relatedInformation)||bu.typedArray(a.relatedInformation,as.is))},(Z=ax||(b.Command=ax={})).create=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var e={title:a,command:b};return bu.defined(c)&&c.length>0&&(e.arguments=c),e},Z.is=function(a){return bu.defined(a)&&bu.string(a.title)&&bu.string(a.command)},($=ay||(b.TextEdit=ay={})).replace=function(a,b){return{range:a,newText:b}},$.insert=function(a,b){return{range:{start:a,end:a},newText:b}},$.del=function(a){return{range:a,newText:""}},$.is=function(a){return bu.objectLiteral(a)&&bu.string(a.newText)&&ak.is(a.range)},(_=az||(b.ChangeAnnotation=az={})).create=function(a,b,c){var d={label:a};return void 0!==b&&(d.needsConfirmation=b),void 0!==c&&(d.description=c),d},_.is=function(a){return bu.objectLiteral(a)&&bu.string(a.label)&&(bu.boolean(a.needsConfirmation)||void 0===a.needsConfirmation)&&(bu.string(a.description)||void 0===a.description)},(aA||(b.ChangeAnnotationIdentifier=aA={})).is=function(a){return bu.string(a)},(aa=aB||(b.AnnotatedTextEdit=aB={})).replace=function(a,b,c){return{range:a,newText:b,annotationId:c}},aa.insert=function(a,b,c){return{range:{start:a,end:a},newText:b,annotationId:c}},aa.del=function(a,b){return{range:a,newText:"",annotationId:b}},aa.is=function(a){return ay.is(a)&&(az.is(a.annotationId)||aA.is(a.annotationId))},(ab=aC||(b.TextDocumentEdit=aC={})).create=function(a,b){return{textDocument:a,edits:b}},ab.is=function(a){return bu.defined(a)&&aJ.is(a.textDocument)&&Array.isArray(a.edits)},(ac=aD||(b.CreateFile=aD={})).create=function(a,b,c){var d={kind:"create",uri:a};return void 0!==b&&(void 0!==b.overwrite||void 0!==b.ignoreIfExists)&&(d.options=b),void 0!==c&&(d.annotationId=c),d},ac.is=function(a){return a&&"create"===a.kind&&bu.string(a.uri)&&(void 0===a.options||(void 0===a.options.overwrite||bu.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||bu.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||aA.is(a.annotationId))},(ad=aE||(b.RenameFile=aE={})).create=function(a,b,c,d){var e={kind:"rename",oldUri:a,newUri:b};return void 0!==c&&(void 0!==c.overwrite||void 0!==c.ignoreIfExists)&&(e.options=c),void 0!==d&&(e.annotationId=d),e},ad.is=function(a){return a&&"rename"===a.kind&&bu.string(a.oldUri)&&bu.string(a.newUri)&&(void 0===a.options||(void 0===a.options.overwrite||bu.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||bu.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||aA.is(a.annotationId))},(ae=aF||(b.DeleteFile=aF={})).create=function(a,b,c){var d={kind:"delete",uri:a};return void 0!==b&&(void 0!==b.recursive||void 0!==b.ignoreIfNotExists)&&(d.options=b),void 0!==c&&(d.annotationId=c),d},ae.is=function(a){return a&&"delete"===a.kind&&bu.string(a.uri)&&(void 0===a.options||(void 0===a.options.recursive||bu.boolean(a.options.recursive))&&(void 0===a.options.ignoreIfNotExists||bu.boolean(a.options.ignoreIfNotExists)))&&(void 0===a.annotationId||aA.is(a.annotationId))},(aG||(b.WorkspaceEdit=aG={})).is=function(a){return a&&(void 0!==a.changes||void 0!==a.documentChanges)&&(void 0===a.documentChanges||a.documentChanges.every(function(a){return bu.string(a.kind)?aD.is(a)||aE.is(a)||aF.is(a):aC.is(a)}))};var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv=function(){function a(a,b){this.edits=a,this.changeAnnotations=b}return a.prototype.insert=function(a,b,c){var d,e;if(void 0===c?d=ay.insert(a,b):aA.is(c)?(e=c,d=aB.insert(a,b,c)):(this.assertChangeAnnotations(this.changeAnnotations),e=this.changeAnnotations.manage(c),d=aB.insert(a,b,e)),this.edits.push(d),void 0!==e)return e},a.prototype.replace=function(a,b,c){var d,e;if(void 0===c?d=ay.replace(a,b):aA.is(c)?(e=c,d=aB.replace(a,b,c)):(this.assertChangeAnnotations(this.changeAnnotations),e=this.changeAnnotations.manage(c),d=aB.replace(a,b,e)),this.edits.push(d),void 0!==e)return e},a.prototype.delete=function(a,b){var c,d;if(void 0===b?c=ay.del(a):aA.is(b)?(d=b,c=aB.del(a,b)):(this.assertChangeAnnotations(this.changeAnnotations),d=this.changeAnnotations.manage(b),c=aB.del(a,d)),this.edits.push(c),void 0!==d)return d},a.prototype.add=function(a){this.edits.push(a)},a.prototype.all=function(){return this.edits},a.prototype.clear=function(){this.edits.splice(0,this.edits.length)},a.prototype.assertChangeAnnotations=function(a){if(void 0===a)throw Error("Text edit change is not configured to manage change annotations.")},a}(),bw=function(){function a(a){this._annotations=void 0===a?Object.create(null):a,this._counter=0,this._size=0}return a.prototype.all=function(){return this._annotations},Object.defineProperty(a.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),a.prototype.manage=function(a,b){var c;if(aA.is(a)?c=a:(c=this.nextId(),b=a),void 0!==this._annotations[c])throw Error("Id ".concat(c," is already in use."));if(void 0===b)throw Error("No annotation provided for id ".concat(c));return this._annotations[c]=b,this._size++,c},a.prototype.nextId=function(){return this._counter++,this._counter.toString()},a}();b.WorkspaceChange=function(){function a(a){var b=this;this._textEditChanges=Object.create(null),void 0!==a?(this._workspaceEdit=a,a.documentChanges?(this._changeAnnotations=new bw(a.changeAnnotations),a.changeAnnotations=this._changeAnnotations.all(),a.documentChanges.forEach(function(a){if(aC.is(a)){var c=new bv(a.edits,b._changeAnnotations);b._textEditChanges[a.textDocument.uri]=c}})):a.changes&&Object.keys(a.changes).forEach(function(c){var d=new bv(a.changes[c]);b._textEditChanges[c]=d})):this._workspaceEdit={}}return Object.defineProperty(a.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),a.prototype.getTextEditChange=function(a){if(aJ.is(a)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");var b={uri:a.uri,version:a.version},c=this._textEditChanges[b.uri];if(!c){var d=[],e={textDocument:b,edits:d};this._workspaceEdit.documentChanges.push(e),c=new bv(d,this._changeAnnotations),this._textEditChanges[b.uri]=c}return c}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw Error("Workspace edit is not configured for normal text edit changes.");var c=this._textEditChanges[a];if(!c){var d=[];this._workspaceEdit.changes[a]=d,c=new bv(d),this._textEditChanges[a]=c}return c},a.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new bw,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},a.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},a.prototype.createFile=function(a,b,c){var d,e,f;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(az.is(b)||aA.is(b)?d=b:c=b,void 0===d?e=aD.create(a,c):(f=aA.is(d)?d:this._changeAnnotations.manage(d),e=aD.create(a,c,f)),this._workspaceEdit.documentChanges.push(e),void 0!==f)return f},a.prototype.renameFile=function(a,b,c,d){var e,f,g;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(az.is(c)||aA.is(c)?e=c:d=c,void 0===e?f=aE.create(a,b,d):(g=aA.is(e)?e:this._changeAnnotations.manage(e),f=aE.create(a,b,d,g)),this._workspaceEdit.documentChanges.push(f),void 0!==g)return g},a.prototype.deleteFile=function(a,b,c){var d,e,f;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(az.is(b)||aA.is(b)?d=b:c=b,void 0===d?e=aF.create(a,c):(f=aA.is(d)?d:this._changeAnnotations.manage(d),e=aF.create(a,c,f)),this._workspaceEdit.documentChanges.push(e),void 0!==f)return f},a}(),(c=aH||(b.TextDocumentIdentifier=aH={})).create=function(a){return{uri:a}},c.is=function(a){return bu.defined(a)&&bu.string(a.uri)},(d=aI||(b.VersionedTextDocumentIdentifier=aI={})).create=function(a,b){return{uri:a,version:b}},d.is=function(a){return bu.defined(a)&&bu.string(a.uri)&&bu.integer(a.version)},(e=aJ||(b.OptionalVersionedTextDocumentIdentifier=aJ={})).create=function(a,b){return{uri:a,version:b}},e.is=function(a){return bu.defined(a)&&bu.string(a.uri)&&(null===a.version||bu.integer(a.version))},(f=aK||(b.TextDocumentItem=aK={})).create=function(a,b,c,d){return{uri:a,languageId:b,version:c,text:d}},f.is=function(a){return bu.defined(a)&&bu.string(a.uri)&&bu.string(a.languageId)&&bu.integer(a.version)&&bu.string(a.text)},(g=aL||(b.MarkupKind=aL={})).PlainText="plaintext",g.Markdown="markdown",g.is=function(a){return a===g.PlainText||a===g.Markdown},(aM||(b.MarkupContent=aM={})).is=function(a){return bu.objectLiteral(a)&&aL.is(a.kind)&&bu.string(a.value)},(h=aN||(b.CompletionItemKind=aN={})).Text=1,h.Method=2,h.Function=3,h.Constructor=4,h.Field=5,h.Variable=6,h.Class=7,h.Interface=8,h.Module=9,h.Property=10,h.Unit=11,h.Value=12,h.Enum=13,h.Keyword=14,h.Snippet=15,h.Color=16,h.File=17,h.Reference=18,h.Folder=19,h.EnumMember=20,h.Constant=21,h.Struct=22,h.Event=23,h.Operator=24,h.TypeParameter=25,(i=aO||(b.InsertTextFormat=aO={})).PlainText=1,i.Snippet=2,(aP||(b.CompletionItemTag=aP={})).Deprecated=1,(j=aQ||(b.InsertReplaceEdit=aQ={})).create=function(a,b,c){return{newText:a,insert:b,replace:c}},j.is=function(a){return a&&bu.string(a.newText)&&ak.is(a.insert)&&ak.is(a.replace)},(k=aR||(b.InsertTextMode=aR={})).asIs=1,k.adjustIndentation=2,(aS||(b.CompletionItemLabelDetails=aS={})).is=function(a){return a&&(bu.string(a.detail)||void 0===a.detail)&&(bu.string(a.description)||void 0===a.description)},(aT||(b.CompletionItem=aT={})).create=function(a){return{label:a}},(aU||(b.CompletionList=aU={})).create=function(a,b){return{items:a||[],isIncomplete:!!b}},(l=aV||(b.MarkedString=aV={})).fromPlainText=function(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},l.is=function(a){return bu.string(a)||bu.objectLiteral(a)&&bu.string(a.language)&&bu.string(a.value)},(aW||(b.Hover=aW={})).is=function(a){return!!a&&bu.objectLiteral(a)&&(aM.is(a.contents)||aV.is(a.contents)||bu.typedArray(a.contents,aV.is))&&(void 0===a.range||ak.is(a.range))},(aX||(b.ParameterInformation=aX={})).create=function(a,b){return b?{label:a,documentation:b}:{label:a}},(aY||(b.SignatureInformation=aY={})).create=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var e={label:a};return bu.defined(b)&&(e.documentation=b),bu.defined(c)?e.parameters=c:e.parameters=[],e},(m=aZ||(b.DocumentHighlightKind=aZ={})).Text=1,m.Read=2,m.Write=3,(a$||(b.DocumentHighlight=a$={})).create=function(a,b){var c={range:a};return bu.number(b)&&(c.kind=b),c},(n=a_||(b.SymbolKind=a_={})).File=1,n.Module=2,n.Namespace=3,n.Package=4,n.Class=5,n.Method=6,n.Property=7,n.Field=8,n.Constructor=9,n.Enum=10,n.Interface=11,n.Function=12,n.Variable=13,n.Constant=14,n.String=15,n.Number=16,n.Boolean=17,n.Array=18,n.Object=19,n.Key=20,n.Null=21,n.EnumMember=22,n.Struct=23,n.Event=24,n.Operator=25,n.TypeParameter=26,(a0||(b.SymbolTag=a0={})).Deprecated=1,(a1||(b.SymbolInformation=a1={})).create=function(a,b,c,d,e){var f={name:a,kind:b,location:{uri:d,range:c}};return e&&(f.containerName=e),f},(a2||(b.WorkspaceSymbol=a2={})).create=function(a,b,c,d){return void 0!==d?{name:a,kind:b,location:{uri:c,range:d}}:{name:a,kind:b,location:{uri:c}}},(o=a3||(b.DocumentSymbol=a3={})).create=function(a,b,c,d,e,f){var g={name:a,detail:b,kind:c,range:d,selectionRange:e};return void 0!==f&&(g.children=f),g},o.is=function(a){return a&&bu.string(a.name)&&bu.number(a.kind)&&ak.is(a.range)&&ak.is(a.selectionRange)&&(void 0===a.detail||bu.string(a.detail))&&(void 0===a.deprecated||bu.boolean(a.deprecated))&&(void 0===a.children||Array.isArray(a.children))&&(void 0===a.tags||Array.isArray(a.tags))},(p=a4||(b.CodeActionKind=a4={})).Empty="",p.QuickFix="quickfix",p.Refactor="refactor",p.RefactorExtract="refactor.extract",p.RefactorInline="refactor.inline",p.RefactorRewrite="refactor.rewrite",p.Source="source",p.SourceOrganizeImports="source.organizeImports",p.SourceFixAll="source.fixAll",(q=a5||(b.CodeActionTriggerKind=a5={})).Invoked=1,q.Automatic=2,(r=a6||(b.CodeActionContext=a6={})).create=function(a,b,c){var d={diagnostics:a};return null!=b&&(d.only=b),null!=c&&(d.triggerKind=c),d},r.is=function(a){return bu.defined(a)&&bu.typedArray(a.diagnostics,aw.is)&&(void 0===a.only||bu.typedArray(a.only,bu.string))&&(void 0===a.triggerKind||a.triggerKind===a5.Invoked||a.triggerKind===a5.Automatic)},(s=a7||(b.CodeAction=a7={})).create=function(a,b,c){var d={title:a},e=!0;return"string"==typeof b?(e=!1,d.kind=b):ax.is(b)?d.command=b:d.edit=b,e&&void 0!==c&&(d.kind=c),d},s.is=function(a){return a&&bu.string(a.title)&&(void 0===a.diagnostics||bu.typedArray(a.diagnostics,aw.is))&&(void 0===a.kind||bu.string(a.kind))&&(void 0!==a.edit||void 0!==a.command)&&(void 0===a.command||ax.is(a.command))&&(void 0===a.isPreferred||bu.boolean(a.isPreferred))&&(void 0===a.edit||aG.is(a.edit))},(t=a8||(b.CodeLens=a8={})).create=function(a,b){var c={range:a};return bu.defined(b)&&(c.data=b),c},t.is=function(a){return bu.defined(a)&&ak.is(a.range)&&(bu.undefined(a.command)||ax.is(a.command))},(u=a9||(b.FormattingOptions=a9={})).create=function(a,b){return{tabSize:a,insertSpaces:b}},u.is=function(a){return bu.defined(a)&&bu.uinteger(a.tabSize)&&bu.boolean(a.insertSpaces)},(v=ba||(b.DocumentLink=ba={})).create=function(a,b,c){return{range:a,target:b,data:c}},v.is=function(a){return bu.defined(a)&&ak.is(a.range)&&(bu.undefined(a.target)||bu.string(a.target))},(w=bb||(b.SelectionRange=bb={})).create=function(a,b){return{range:a,parent:b}},w.is=function(a){return bu.objectLiteral(a)&&ak.is(a.range)&&(void 0===a.parent||w.is(a.parent))},(x=bc||(b.SemanticTokenTypes=bc={})).namespace="namespace",x.type="type",x.class="class",x.enum="enum",x.interface="interface",x.struct="struct",x.typeParameter="typeParameter",x.parameter="parameter",x.variable="variable",x.property="property",x.enumMember="enumMember",x.event="event",x.function="function",x.method="method",x.macro="macro",x.keyword="keyword",x.modifier="modifier",x.comment="comment",x.string="string",x.number="number",x.regexp="regexp",x.operator="operator",x.decorator="decorator",(y=bd||(b.SemanticTokenModifiers=bd={})).declaration="declaration",y.definition="definition",y.readonly="readonly",y.static="static",y.deprecated="deprecated",y.abstract="abstract",y.async="async",y.modification="modification",y.documentation="documentation",y.defaultLibrary="defaultLibrary",(be||(b.SemanticTokens=be={})).is=function(a){return bu.objectLiteral(a)&&(void 0===a.resultId||"string"==typeof a.resultId)&&Array.isArray(a.data)&&(0===a.data.length||"number"==typeof a.data[0])},(z=bf||(b.InlineValueText=bf={})).create=function(a,b){return{range:a,text:b}},z.is=function(a){return null!=a&&ak.is(a.range)&&bu.string(a.text)},(A=bg||(b.InlineValueVariableLookup=bg={})).create=function(a,b,c){return{range:a,variableName:b,caseSensitiveLookup:c}},A.is=function(a){return null!=a&&ak.is(a.range)&&bu.boolean(a.caseSensitiveLookup)&&(bu.string(a.variableName)||void 0===a.variableName)},(B=bh||(b.InlineValueEvaluatableExpression=bh={})).create=function(a,b){return{range:a,expression:b}},B.is=function(a){return null!=a&&ak.is(a.range)&&(bu.string(a.expression)||void 0===a.expression)},(C=bi||(b.InlineValueContext=bi={})).create=function(a,b){return{frameId:a,stoppedLocation:b}},C.is=function(a){return bu.defined(a)&&ak.is(a.stoppedLocation)},(D=bj||(b.InlayHintKind=bj={})).Type=1,D.Parameter=2,D.is=function(a){return 1===a||2===a},(E=bk||(b.InlayHintLabelPart=bk={})).create=function(a){return{value:a}},E.is=function(a){return bu.objectLiteral(a)&&(void 0===a.tooltip||bu.string(a.tooltip)||aM.is(a.tooltip))&&(void 0===a.location||al.is(a.location))&&(void 0===a.command||ax.is(a.command))},(F=bl||(b.InlayHint=bl={})).create=function(a,b,c){var d={position:a,label:b};return void 0!==c&&(d.kind=c),d},F.is=function(a){return bu.objectLiteral(a)&&aj.is(a.position)&&(bu.string(a.label)||bu.typedArray(a.label,bk.is))&&(void 0===a.kind||bj.is(a.kind))&&void 0===a.textEdits||bu.typedArray(a.textEdits,ay.is)&&(void 0===a.tooltip||bu.string(a.tooltip)||aM.is(a.tooltip))&&(void 0===a.paddingLeft||bu.boolean(a.paddingLeft))&&(void 0===a.paddingRight||bu.boolean(a.paddingRight))},(bm||(b.StringValue=bm={})).createSnippet=function(a){return{kind:"snippet",value:a}},(bn||(b.InlineCompletionItem=bn={})).create=function(a,b,c,d){return{insertText:a,filterText:b,range:c,command:d}},(bo||(b.InlineCompletionList=bo={})).create=function(a){return{items:a}},(G=bp||(b.InlineCompletionTriggerKind=bp={})).Invoked=0,G.Automatic=1,(bq||(b.SelectedCompletionInfo=bq={})).create=function(a,b){return{range:a,text:b}},(br||(b.InlineCompletionContext=br={})).create=function(a,b){return{triggerKind:a,selectedCompletionInfo:b}},(bs||(b.WorkspaceFolder=bs={})).is=function(a){return bu.objectLiteral(a)&&ag.is(a.uri)&&bu.string(a.name)},b.EOL=["\n","\r\n","\r"],(H=bt||(b.TextDocument=bt={})).create=function(a,b,c,d){return new bx(a,b,c,d)},H.is=function(a){return!!(bu.defined(a)&&bu.string(a.uri)&&(bu.undefined(a.languageId)||bu.string(a.languageId))&&bu.uinteger(a.lineCount)&&bu.func(a.getText)&&bu.func(a.positionAt)&&bu.func(a.offsetAt))},H.applyEdits=function(a,b){for(var c=a.getText(),d=function a(b,c){if(b.length<=1)return b;var d=b.length/2|0,e=b.slice(0,d),f=b.slice(d);a(e,c),a(f,c);for(var g=0,h=0,i=0;g<e.length&&h<f.length;)0>=c(e[g],f[h])?b[i++]=e[g++]:b[i++]=f[h++];for(;g<e.length;)b[i++]=e[g++];for(;h<f.length;)b[i++]=f[h++];return b}(b,function(a,b){var c=a.range.start.line-b.range.start.line;return 0===c?a.range.start.character-b.range.start.character:c}),e=c.length,f=d.length-1;f>=0;f--){var g=d[f],h=a.offsetAt(g.range.start),i=a.offsetAt(g.range.end);if(i<=e)c=c.substring(0,h)+g.newText+c.substring(i,c.length);else throw Error("Overlapping edit");e=h}return c};var bx=function(){function a(a,b,c,d){this._uri=a,this._languageId=b,this._version=c,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(a.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),a.prototype.getText=function(a){if(a){var b=this.offsetAt(a.start),c=this.offsetAt(a.end);return this._content.substring(b,c)}return this._content},a.prototype.update=function(a,b){this._content=a.text,this._version=b,this._lineOffsets=void 0},a.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var a=[],b=this._content,c=!0,d=0;d<b.length;d++){c&&(a.push(d),c=!1);var e=b.charAt(d);c="\r"===e||"\n"===e,"\r"===e&&d+1<b.length&&"\n"===b.charAt(d+1)&&d++}c&&b.length>0&&a.push(b.length),this._lineOffsets=a}return this._lineOffsets},a.prototype.positionAt=function(a){a=Math.max(Math.min(a,this._content.length),0);var b=this.getLineOffsets(),c=0,d=b.length;if(0===d)return aj.create(0,a);for(;c<d;){var e=Math.floor((c+d)/2);b[e]>a?d=e:c=e+1}var f=c-1;return aj.create(f,a-b[f])},a.prototype.offsetAt=function(a){var b=this.getLineOffsets();if(a.line>=b.length)return this._content.length;if(a.line<0)return 0;var c=b[a.line],d=a.line+1<b.length?b[a.line+1]:this._content.length;return Math.max(Math.min(c+a.character,d),c)},Object.defineProperty(a.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),a}();I=bu||(bu={}),J=Object.prototype.toString,I.defined=function(a){return void 0!==a},I.undefined=function(a){return void 0===a},I.boolean=function(a){return!0===a||!1===a},I.string=function(a){return"[object String]"===J.call(a)},I.number=function(a){return"[object Number]"===J.call(a)},I.numberRange=function(a,b,c){return"[object Number]"===J.call(a)&&b<=a&&a<=c},I.integer=function(a){return"[object Number]"===J.call(a)&&-0x80000000<=a&&a<=0x7fffffff},I.uinteger=function(a){return"[object Number]"===J.call(a)&&0<=a&&a<=0x7fffffff},I.func=function(a){return"[object Function]"===J.call(a)},I.objectLiteral=function(a){return null!==a&&"object"==typeof a},I.typedArray=function(a,b){return Array.isArray(a)&&a.every(b)}};if("object"==typeof b.exports)d(a.t,c);else{let b;"function"==typeof define&&define.amd&&void 0!==(b=d(a.r,c))&&a.v(b)}},72456,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.ProtocolNotificationType=c.ProtocolNotificationType0=c.ProtocolRequestType=c.ProtocolRequestType0=c.RegistrationType=c.MessageDirection=void 0;let f=a.r(8804);(e=d||(c.MessageDirection=d={})).clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both",c.RegistrationType=class{constructor(a){this.method=a}};class g extends f.RequestType0{constructor(a){super(a)}}c.ProtocolRequestType0=g;class h extends f.RequestType{constructor(a){super(a,f.ParameterStructures.byName)}}c.ProtocolRequestType=h;class i extends f.NotificationType0{constructor(a){super(a)}}c.ProtocolNotificationType0=i;class j extends f.NotificationType{constructor(a){super(a,f.ParameterStructures.byName)}}c.ProtocolNotificationType=j},15758,(a,b,c)=>{"use strict";function d(a){return"string"==typeof a||a instanceof String}function e(a){return Array.isArray(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.objectLiteral=c.typedArray=c.stringArray=c.array=c.func=c.error=c.number=c.string=c.boolean=void 0,c.boolean=function(a){return!0===a||!1===a},c.string=d,c.number=function(a){return"number"==typeof a||a instanceof Number},c.error=function(a){return a instanceof Error},c.func=function(a){return"function"==typeof a},c.array=e,c.stringArray=function(a){return e(a)&&a.every(a=>d(a))},c.typedArray=function(a,b){return Array.isArray(a)&&a.every(b)},c.objectLiteral=function(a){return null!==a&&"object"==typeof a}},79314,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.ImplementationRequest=void 0;let f=a.r(72456);(e=d||(c.ImplementationRequest=d={})).method="textDocument/implementation",e.messageDirection=f.MessageDirection.clientToServer,e.type=new f.ProtocolRequestType(e.method)},89686,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.TypeDefinitionRequest=void 0;let f=a.r(72456);(e=d||(c.TypeDefinitionRequest=d={})).method="textDocument/typeDefinition",e.messageDirection=f.MessageDirection.clientToServer,e.type=new f.ProtocolRequestType(e.method)},76415,(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(c,"__esModule",{value:!0}),c.DidChangeWorkspaceFoldersNotification=c.WorkspaceFoldersRequest=void 0;let h=a.r(72456);(f=d||(c.WorkspaceFoldersRequest=d={})).method="workspace/workspaceFolders",f.messageDirection=h.MessageDirection.serverToClient,f.type=new h.ProtocolRequestType0(f.method),(g=e||(c.DidChangeWorkspaceFoldersNotification=e={})).method="workspace/didChangeWorkspaceFolders",g.messageDirection=h.MessageDirection.clientToServer,g.type=new h.ProtocolNotificationType(g.method)},57226,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.ConfigurationRequest=void 0;let f=a.r(72456);(e=d||(c.ConfigurationRequest=d={})).method="workspace/configuration",e.messageDirection=f.MessageDirection.serverToClient,e.type=new f.ProtocolRequestType(e.method)},74319,(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(c,"__esModule",{value:!0}),c.ColorPresentationRequest=c.DocumentColorRequest=void 0;let h=a.r(72456);(f=d||(c.DocumentColorRequest=d={})).method="textDocument/documentColor",f.messageDirection=h.MessageDirection.clientToServer,f.type=new h.ProtocolRequestType(f.method),(g=e||(c.ColorPresentationRequest=e={})).method="textDocument/colorPresentation",g.messageDirection=h.MessageDirection.clientToServer,g.type=new h.ProtocolRequestType(g.method)},28705,(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(c,"__esModule",{value:!0}),c.FoldingRangeRefreshRequest=c.FoldingRangeRequest=void 0;let h=a.r(72456);(f=d||(c.FoldingRangeRequest=d={})).method="textDocument/foldingRange",f.messageDirection=h.MessageDirection.clientToServer,f.type=new h.ProtocolRequestType(f.method),(g=e||(c.FoldingRangeRefreshRequest=e={})).method="workspace/foldingRange/refresh",g.messageDirection=h.MessageDirection.serverToClient,g.type=new h.ProtocolRequestType0(g.method)},13770,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.DeclarationRequest=void 0;let f=a.r(72456);(e=d||(c.DeclarationRequest=d={})).method="textDocument/declaration",e.messageDirection=f.MessageDirection.clientToServer,e.type=new f.ProtocolRequestType(e.method)},13161,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionRangeRequest=void 0;let f=a.r(72456);(e=d||(c.SelectionRangeRequest=d={})).method="textDocument/selectionRange",e.messageDirection=f.MessageDirection.clientToServer,e.type=new f.ProtocolRequestType(e.method)},21885,(a,b,c)=>{"use strict";var d,e,f,g,h,i;Object.defineProperty(c,"__esModule",{value:!0}),c.WorkDoneProgressCancelNotification=c.WorkDoneProgressCreateRequest=c.WorkDoneProgress=void 0;let j=a.r(8804),k=a.r(72456);(g=d||(c.WorkDoneProgress=d={})).type=new j.ProgressType,g.is=function(a){return a===g.type},(h=e||(c.WorkDoneProgressCreateRequest=e={})).method="window/workDoneProgress/create",h.messageDirection=k.MessageDirection.serverToClient,h.type=new k.ProtocolRequestType(h.method),(i=f||(c.WorkDoneProgressCancelNotification=f={})).method="window/workDoneProgress/cancel",i.messageDirection=k.MessageDirection.clientToServer,i.type=new k.ProtocolNotificationType(i.method)},21701,(a,b,c)=>{"use strict";var d,e,f,g,h,i;Object.defineProperty(c,"__esModule",{value:!0}),c.CallHierarchyOutgoingCallsRequest=c.CallHierarchyIncomingCallsRequest=c.CallHierarchyPrepareRequest=void 0;let j=a.r(72456);(g=d||(c.CallHierarchyPrepareRequest=d={})).method="textDocument/prepareCallHierarchy",g.messageDirection=j.MessageDirection.clientToServer,g.type=new j.ProtocolRequestType(g.method),(h=e||(c.CallHierarchyIncomingCallsRequest=e={})).method="callHierarchy/incomingCalls",h.messageDirection=j.MessageDirection.clientToServer,h.type=new j.ProtocolRequestType(h.method),(i=f||(c.CallHierarchyOutgoingCallsRequest=f={})).method="callHierarchy/outgoingCalls",i.messageDirection=j.MessageDirection.clientToServer,i.type=new j.ProtocolRequestType(i.method)},40457,(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m,n;Object.defineProperty(c,"__esModule",{value:!0}),c.SemanticTokensRefreshRequest=c.SemanticTokensRangeRequest=c.SemanticTokensDeltaRequest=c.SemanticTokensRequest=c.SemanticTokensRegistrationType=c.TokenFormat=void 0;let o=a.r(72456);(d||(c.TokenFormat=d={})).Relative="relative",(j=e||(c.SemanticTokensRegistrationType=e={})).method="textDocument/semanticTokens",j.type=new o.RegistrationType(j.method),(k=f||(c.SemanticTokensRequest=f={})).method="textDocument/semanticTokens/full",k.messageDirection=o.MessageDirection.clientToServer,k.type=new o.ProtocolRequestType(k.method),k.registrationMethod=e.method,(l=g||(c.SemanticTokensDeltaRequest=g={})).method="textDocument/semanticTokens/full/delta",l.messageDirection=o.MessageDirection.clientToServer,l.type=new o.ProtocolRequestType(l.method),l.registrationMethod=e.method,(m=h||(c.SemanticTokensRangeRequest=h={})).method="textDocument/semanticTokens/range",m.messageDirection=o.MessageDirection.clientToServer,m.type=new o.ProtocolRequestType(m.method),m.registrationMethod=e.method,(n=i||(c.SemanticTokensRefreshRequest=i={})).method="workspace/semanticTokens/refresh",n.messageDirection=o.MessageDirection.serverToClient,n.type=new o.ProtocolRequestType0(n.method)},8163,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.ShowDocumentRequest=void 0;let f=a.r(72456);(e=d||(c.ShowDocumentRequest=d={})).method="window/showDocument",e.messageDirection=f.MessageDirection.serverToClient,e.type=new f.ProtocolRequestType(e.method)},80291,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.LinkedEditingRangeRequest=void 0;let f=a.r(72456);(e=d||(c.LinkedEditingRangeRequest=d={})).method="textDocument/linkedEditingRange",e.messageDirection=f.MessageDirection.clientToServer,e.type=new f.ProtocolRequestType(e.method)},2168,(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q;Object.defineProperty(c,"__esModule",{value:!0}),c.WillDeleteFilesRequest=c.DidDeleteFilesNotification=c.DidRenameFilesNotification=c.WillRenameFilesRequest=c.DidCreateFilesNotification=c.WillCreateFilesRequest=c.FileOperationPatternKind=void 0;let r=a.r(72456);(k=d||(c.FileOperationPatternKind=d={})).file="file",k.folder="folder",(l=e||(c.WillCreateFilesRequest=e={})).method="workspace/willCreateFiles",l.messageDirection=r.MessageDirection.clientToServer,l.type=new r.ProtocolRequestType(l.method),(m=f||(c.DidCreateFilesNotification=f={})).method="workspace/didCreateFiles",m.messageDirection=r.MessageDirection.clientToServer,m.type=new r.ProtocolNotificationType(m.method),(n=g||(c.WillRenameFilesRequest=g={})).method="workspace/willRenameFiles",n.messageDirection=r.MessageDirection.clientToServer,n.type=new r.ProtocolRequestType(n.method),(o=h||(c.DidRenameFilesNotification=h={})).method="workspace/didRenameFiles",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolNotificationType(o.method),(p=i||(c.DidDeleteFilesNotification=i={})).method="workspace/didDeleteFiles",p.messageDirection=r.MessageDirection.clientToServer,p.type=new r.ProtocolNotificationType(p.method),(q=j||(c.WillDeleteFilesRequest=j={})).method="workspace/willDeleteFiles",q.messageDirection=r.MessageDirection.clientToServer,q.type=new r.ProtocolRequestType(q.method)},4278,(a,b,c)=>{"use strict";var d,e,f,g,h,i;Object.defineProperty(c,"__esModule",{value:!0}),c.MonikerRequest=c.MonikerKind=c.UniquenessLevel=void 0;let j=a.r(72456);(g=d||(c.UniquenessLevel=d={})).document="document",g.project="project",g.group="group",g.scheme="scheme",g.global="global",(h=e||(c.MonikerKind=e={})).$import="import",h.$export="export",h.local="local",(i=f||(c.MonikerRequest=f={})).method="textDocument/moniker",i.messageDirection=j.MessageDirection.clientToServer,i.type=new j.ProtocolRequestType(i.method)},36797,(a,b,c)=>{"use strict";var d,e,f,g,h,i;Object.defineProperty(c,"__esModule",{value:!0}),c.TypeHierarchySubtypesRequest=c.TypeHierarchySupertypesRequest=c.TypeHierarchyPrepareRequest=void 0;let j=a.r(72456);(g=d||(c.TypeHierarchyPrepareRequest=d={})).method="textDocument/prepareTypeHierarchy",g.messageDirection=j.MessageDirection.clientToServer,g.type=new j.ProtocolRequestType(g.method),(h=e||(c.TypeHierarchySupertypesRequest=e={})).method="typeHierarchy/supertypes",h.messageDirection=j.MessageDirection.clientToServer,h.type=new j.ProtocolRequestType(h.method),(i=f||(c.TypeHierarchySubtypesRequest=f={})).method="typeHierarchy/subtypes",i.messageDirection=j.MessageDirection.clientToServer,i.type=new j.ProtocolRequestType(i.method)},92932,(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(c,"__esModule",{value:!0}),c.InlineValueRefreshRequest=c.InlineValueRequest=void 0;let h=a.r(72456);(f=d||(c.InlineValueRequest=d={})).method="textDocument/inlineValue",f.messageDirection=h.MessageDirection.clientToServer,f.type=new h.ProtocolRequestType(f.method),(g=e||(c.InlineValueRefreshRequest=e={})).method="workspace/inlineValue/refresh",g.messageDirection=h.MessageDirection.serverToClient,g.type=new h.ProtocolRequestType0(g.method)},75313,(a,b,c)=>{"use strict";var d,e,f,g,h,i;Object.defineProperty(c,"__esModule",{value:!0}),c.InlayHintRefreshRequest=c.InlayHintResolveRequest=c.InlayHintRequest=void 0;let j=a.r(72456);(g=d||(c.InlayHintRequest=d={})).method="textDocument/inlayHint",g.messageDirection=j.MessageDirection.clientToServer,g.type=new j.ProtocolRequestType(g.method),(h=e||(c.InlayHintResolveRequest=e={})).method="inlayHint/resolve",h.messageDirection=j.MessageDirection.clientToServer,h.type=new j.ProtocolRequestType(h.method),(i=f||(c.InlayHintRefreshRequest=f={})).method="workspace/inlayHint/refresh",i.messageDirection=j.MessageDirection.serverToClient,i.type=new j.ProtocolRequestType0(i.method)},74028,(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l;Object.defineProperty(c,"__esModule",{value:!0}),c.DiagnosticRefreshRequest=c.WorkspaceDiagnosticRequest=c.DocumentDiagnosticRequest=c.DocumentDiagnosticReportKind=c.DiagnosticServerCancellationData=void 0;let m=a.r(8804),n=a.r(15758),o=a.r(72456);(d||(c.DiagnosticServerCancellationData=d={})).is=function(a){return a&&n.boolean(a.retriggerRequest)},(i=e||(c.DocumentDiagnosticReportKind=e={})).Full="full",i.Unchanged="unchanged",(j=f||(c.DocumentDiagnosticRequest=f={})).method="textDocument/diagnostic",j.messageDirection=o.MessageDirection.clientToServer,j.type=new o.ProtocolRequestType(j.method),j.partialResult=new m.ProgressType,(k=g||(c.WorkspaceDiagnosticRequest=g={})).method="workspace/diagnostic",k.messageDirection=o.MessageDirection.clientToServer,k.type=new o.ProtocolRequestType(k.method),k.partialResult=new m.ProgressType,(l=h||(c.DiagnosticRefreshRequest=h={})).method="workspace/diagnostic/refresh",l.messageDirection=o.MessageDirection.serverToClient,l.type=new o.ProtocolRequestType0(l.method)},31619,(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;Object.defineProperty(c,"__esModule",{value:!0}),c.DidCloseNotebookDocumentNotification=c.DidSaveNotebookDocumentNotification=c.DidChangeNotebookDocumentNotification=c.NotebookCellArrayChange=c.DidOpenNotebookDocumentNotification=c.NotebookDocumentSyncRegistrationType=c.NotebookDocument=c.NotebookCell=c.ExecutionSummary=c.NotebookCellKind=void 0;let x=a.r(32646),y=a.r(15758),z=a.r(72456);(n=d||(c.NotebookCellKind=d={})).Markup=1,n.Code=2,n.is=function(a){return 1===a||2===a},(o=e||(c.ExecutionSummary=e={})).create=function(a,b){let c={executionOrder:a};return(!0===b||!1===b)&&(c.success=b),c},o.is=function(a){return y.objectLiteral(a)&&x.uinteger.is(a.executionOrder)&&(void 0===a.success||y.boolean(a.success))},o.equals=function(a,b){return a===b||null!=a&&null!=b&&a.executionOrder===b.executionOrder&&a.success===b.success},(p=f||(c.NotebookCell=f={})).create=function(a,b){return{kind:a,document:b}},p.is=function(a){return y.objectLiteral(a)&&d.is(a.kind)&&x.DocumentUri.is(a.document)&&(void 0===a.metadata||y.objectLiteral(a.metadata))},p.diff=function(a,b){let c=new Set;return a.document!==b.document&&c.add("document"),a.kind!==b.kind&&c.add("kind"),a.executionSummary!==b.executionSummary&&c.add("executionSummary"),(void 0!==a.metadata||void 0!==b.metadata)&&!function a(b,c){if(b===c)return!0;if(null==b||null==c||typeof b!=typeof c||"object"!=typeof b)return!1;let d=Array.isArray(b),e=Array.isArray(c);if(d!==e)return!1;if(d&&e){if(b.length!==c.length)return!1;for(let d=0;d<b.length;d++)if(!a(b[d],c[d]))return!1}if(y.objectLiteral(b)&&y.objectLiteral(c)){let d=Object.keys(b),e=Object.keys(c);if(d.length!==e.length||(d.sort(),e.sort(),!a(d,e)))return!1;for(let e=0;e<d.length;e++){let f=d[e];if(!a(b[f],c[f]))return!1}}return!0}(a.metadata,b.metadata)&&c.add("metadata"),void 0===a.executionSummary&&void 0===b.executionSummary||e.equals(a.executionSummary,b.executionSummary)||c.add("executionSummary"),c},(q=g||(c.NotebookDocument=g={})).create=function(a,b,c,d){return{uri:a,notebookType:b,version:c,cells:d}},q.is=function(a){return y.objectLiteral(a)&&y.string(a.uri)&&x.integer.is(a.version)&&y.typedArray(a.cells,f.is)},(r=h||(c.NotebookDocumentSyncRegistrationType=h={})).method="notebookDocument/sync",r.messageDirection=z.MessageDirection.clientToServer,r.type=new z.RegistrationType(r.method),(s=i||(c.DidOpenNotebookDocumentNotification=i={})).method="notebookDocument/didOpen",s.messageDirection=z.MessageDirection.clientToServer,s.type=new z.ProtocolNotificationType(s.method),s.registrationMethod=h.method,(t=j||(c.NotebookCellArrayChange=j={})).is=function(a){return y.objectLiteral(a)&&x.uinteger.is(a.start)&&x.uinteger.is(a.deleteCount)&&(void 0===a.cells||y.typedArray(a.cells,f.is))},t.create=function(a,b,c){let d={start:a,deleteCount:b};return void 0!==c&&(d.cells=c),d},(u=k||(c.DidChangeNotebookDocumentNotification=k={})).method="notebookDocument/didChange",u.messageDirection=z.MessageDirection.clientToServer,u.type=new z.ProtocolNotificationType(u.method),u.registrationMethod=h.method,(v=l||(c.DidSaveNotebookDocumentNotification=l={})).method="notebookDocument/didSave",v.messageDirection=z.MessageDirection.clientToServer,v.type=new z.ProtocolNotificationType(v.method),v.registrationMethod=h.method,(w=m||(c.DidCloseNotebookDocumentNotification=m={})).method="notebookDocument/didClose",w.messageDirection=z.MessageDirection.clientToServer,w.type=new z.ProtocolNotificationType(w.method),w.registrationMethod=h.method},56111,(a,b,c)=>{"use strict";var d,e;Object.defineProperty(c,"__esModule",{value:!0}),c.InlineCompletionRequest=void 0;let f=a.r(72456);(e=d||(c.InlineCompletionRequest=d={})).method="textDocument/inlineCompletion",e.messageDirection=f.MessageDirection.clientToServer,e.type=new f.ProtocolRequestType(e.method)},17316,(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf;Object.defineProperty(c,"__esModule",{value:!0}),c.WorkspaceSymbolRequest=c.CodeActionResolveRequest=c.CodeActionRequest=c.DocumentSymbolRequest=c.DocumentHighlightRequest=c.ReferencesRequest=c.DefinitionRequest=c.SignatureHelpRequest=c.SignatureHelpTriggerKind=c.HoverRequest=c.CompletionResolveRequest=c.CompletionRequest=c.CompletionTriggerKind=c.PublishDiagnosticsNotification=c.WatchKind=c.RelativePattern=c.FileChangeType=c.DidChangeWatchedFilesNotification=c.WillSaveTextDocumentWaitUntilRequest=c.WillSaveTextDocumentNotification=c.TextDocumentSaveReason=c.DidSaveTextDocumentNotification=c.DidCloseTextDocumentNotification=c.DidChangeTextDocumentNotification=c.TextDocumentContentChangeEvent=c.DidOpenTextDocumentNotification=c.TextDocumentSyncKind=c.TelemetryEventNotification=c.LogMessageNotification=c.ShowMessageRequest=c.ShowMessageNotification=c.MessageType=c.DidChangeConfigurationNotification=c.ExitNotification=c.ShutdownRequest=c.InitializedNotification=c.InitializeErrorCodes=c.InitializeRequest=c.WorkDoneProgressOptions=c.TextDocumentRegistrationOptions=c.StaticRegistrationOptions=c.PositionEncodingKind=c.FailureHandlingKind=c.ResourceOperationKind=c.UnregistrationRequest=c.RegistrationRequest=c.DocumentSelector=c.NotebookCellTextDocumentFilter=c.NotebookDocumentFilter=c.TextDocumentFilter=void 0,c.MonikerRequest=c.MonikerKind=c.UniquenessLevel=c.WillDeleteFilesRequest=c.DidDeleteFilesNotification=c.WillRenameFilesRequest=c.DidRenameFilesNotification=c.WillCreateFilesRequest=c.DidCreateFilesNotification=c.FileOperationPatternKind=c.LinkedEditingRangeRequest=c.ShowDocumentRequest=c.SemanticTokensRegistrationType=c.SemanticTokensRefreshRequest=c.SemanticTokensRangeRequest=c.SemanticTokensDeltaRequest=c.SemanticTokensRequest=c.TokenFormat=c.CallHierarchyPrepareRequest=c.CallHierarchyOutgoingCallsRequest=c.CallHierarchyIncomingCallsRequest=c.WorkDoneProgressCancelNotification=c.WorkDoneProgressCreateRequest=c.WorkDoneProgress=c.SelectionRangeRequest=c.DeclarationRequest=c.FoldingRangeRefreshRequest=c.FoldingRangeRequest=c.ColorPresentationRequest=c.DocumentColorRequest=c.ConfigurationRequest=c.DidChangeWorkspaceFoldersNotification=c.WorkspaceFoldersRequest=c.TypeDefinitionRequest=c.ImplementationRequest=c.ApplyWorkspaceEditRequest=c.ExecuteCommandRequest=c.PrepareRenameRequest=c.RenameRequest=c.PrepareSupportDefaultBehavior=c.DocumentOnTypeFormattingRequest=c.DocumentRangesFormattingRequest=c.DocumentRangeFormattingRequest=c.DocumentFormattingRequest=c.DocumentLinkResolveRequest=c.DocumentLinkRequest=c.CodeLensRefreshRequest=c.CodeLensResolveRequest=c.CodeLensRequest=c.WorkspaceSymbolResolveRequest=void 0,c.InlineCompletionRequest=c.DidCloseNotebookDocumentNotification=c.DidSaveNotebookDocumentNotification=c.DidChangeNotebookDocumentNotification=c.NotebookCellArrayChange=c.DidOpenNotebookDocumentNotification=c.NotebookDocumentSyncRegistrationType=c.NotebookDocument=c.NotebookCell=c.ExecutionSummary=c.NotebookCellKind=c.DiagnosticRefreshRequest=c.WorkspaceDiagnosticRequest=c.DocumentDiagnosticRequest=c.DocumentDiagnosticReportKind=c.DiagnosticServerCancellationData=c.InlayHintRefreshRequest=c.InlayHintResolveRequest=c.InlayHintRequest=c.InlineValueRefreshRequest=c.InlineValueRequest=c.TypeHierarchySupertypesRequest=c.TypeHierarchySubtypesRequest=c.TypeHierarchyPrepareRequest=void 0;let bg=a.r(72456),bh=a.r(32646),bi=a.r(15758),bj=a.r(79314);Object.defineProperty(c,"ImplementationRequest",{enumerable:!0,get:function(){return bj.ImplementationRequest}});let bk=a.r(89686);Object.defineProperty(c,"TypeDefinitionRequest",{enumerable:!0,get:function(){return bk.TypeDefinitionRequest}});let bl=a.r(76415);Object.defineProperty(c,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return bl.WorkspaceFoldersRequest}}),Object.defineProperty(c,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return bl.DidChangeWorkspaceFoldersNotification}});let bm=a.r(57226);Object.defineProperty(c,"ConfigurationRequest",{enumerable:!0,get:function(){return bm.ConfigurationRequest}});let bn=a.r(74319);Object.defineProperty(c,"DocumentColorRequest",{enumerable:!0,get:function(){return bn.DocumentColorRequest}}),Object.defineProperty(c,"ColorPresentationRequest",{enumerable:!0,get:function(){return bn.ColorPresentationRequest}});let bo=a.r(28705);Object.defineProperty(c,"FoldingRangeRequest",{enumerable:!0,get:function(){return bo.FoldingRangeRequest}}),Object.defineProperty(c,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return bo.FoldingRangeRefreshRequest}});let bp=a.r(13770);Object.defineProperty(c,"DeclarationRequest",{enumerable:!0,get:function(){return bp.DeclarationRequest}});let bq=a.r(13161);Object.defineProperty(c,"SelectionRangeRequest",{enumerable:!0,get:function(){return bq.SelectionRangeRequest}});let br=a.r(21885);Object.defineProperty(c,"WorkDoneProgress",{enumerable:!0,get:function(){return br.WorkDoneProgress}}),Object.defineProperty(c,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return br.WorkDoneProgressCreateRequest}}),Object.defineProperty(c,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return br.WorkDoneProgressCancelNotification}});let bs=a.r(21701);Object.defineProperty(c,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return bs.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(c,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return bs.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(c,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return bs.CallHierarchyPrepareRequest}});let bt=a.r(40457);Object.defineProperty(c,"TokenFormat",{enumerable:!0,get:function(){return bt.TokenFormat}}),Object.defineProperty(c,"SemanticTokensRequest",{enumerable:!0,get:function(){return bt.SemanticTokensRequest}}),Object.defineProperty(c,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return bt.SemanticTokensDeltaRequest}}),Object.defineProperty(c,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return bt.SemanticTokensRangeRequest}}),Object.defineProperty(c,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return bt.SemanticTokensRefreshRequest}}),Object.defineProperty(c,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return bt.SemanticTokensRegistrationType}});let bu=a.r(8163);Object.defineProperty(c,"ShowDocumentRequest",{enumerable:!0,get:function(){return bu.ShowDocumentRequest}});let bv=a.r(80291);Object.defineProperty(c,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return bv.LinkedEditingRangeRequest}});let bw=a.r(2168);Object.defineProperty(c,"FileOperationPatternKind",{enumerable:!0,get:function(){return bw.FileOperationPatternKind}}),Object.defineProperty(c,"DidCreateFilesNotification",{enumerable:!0,get:function(){return bw.DidCreateFilesNotification}}),Object.defineProperty(c,"WillCreateFilesRequest",{enumerable:!0,get:function(){return bw.WillCreateFilesRequest}}),Object.defineProperty(c,"DidRenameFilesNotification",{enumerable:!0,get:function(){return bw.DidRenameFilesNotification}}),Object.defineProperty(c,"WillRenameFilesRequest",{enumerable:!0,get:function(){return bw.WillRenameFilesRequest}}),Object.defineProperty(c,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return bw.DidDeleteFilesNotification}}),Object.defineProperty(c,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return bw.WillDeleteFilesRequest}});let bx=a.r(4278);Object.defineProperty(c,"UniquenessLevel",{enumerable:!0,get:function(){return bx.UniquenessLevel}}),Object.defineProperty(c,"MonikerKind",{enumerable:!0,get:function(){return bx.MonikerKind}}),Object.defineProperty(c,"MonikerRequest",{enumerable:!0,get:function(){return bx.MonikerRequest}});let by=a.r(36797);Object.defineProperty(c,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return by.TypeHierarchyPrepareRequest}}),Object.defineProperty(c,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return by.TypeHierarchySubtypesRequest}}),Object.defineProperty(c,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return by.TypeHierarchySupertypesRequest}});let bz=a.r(92932);Object.defineProperty(c,"InlineValueRequest",{enumerable:!0,get:function(){return bz.InlineValueRequest}}),Object.defineProperty(c,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return bz.InlineValueRefreshRequest}});let bA=a.r(75313);Object.defineProperty(c,"InlayHintRequest",{enumerable:!0,get:function(){return bA.InlayHintRequest}}),Object.defineProperty(c,"InlayHintResolveRequest",{enumerable:!0,get:function(){return bA.InlayHintResolveRequest}}),Object.defineProperty(c,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return bA.InlayHintRefreshRequest}});let bB=a.r(74028);Object.defineProperty(c,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return bB.DiagnosticServerCancellationData}}),Object.defineProperty(c,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return bB.DocumentDiagnosticReportKind}}),Object.defineProperty(c,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return bB.DocumentDiagnosticRequest}}),Object.defineProperty(c,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return bB.WorkspaceDiagnosticRequest}}),Object.defineProperty(c,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return bB.DiagnosticRefreshRequest}});let bC=a.r(31619);Object.defineProperty(c,"NotebookCellKind",{enumerable:!0,get:function(){return bC.NotebookCellKind}}),Object.defineProperty(c,"ExecutionSummary",{enumerable:!0,get:function(){return bC.ExecutionSummary}}),Object.defineProperty(c,"NotebookCell",{enumerable:!0,get:function(){return bC.NotebookCell}}),Object.defineProperty(c,"NotebookDocument",{enumerable:!0,get:function(){return bC.NotebookDocument}}),Object.defineProperty(c,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return bC.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(c,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return bC.DidOpenNotebookDocumentNotification}}),Object.defineProperty(c,"NotebookCellArrayChange",{enumerable:!0,get:function(){return bC.NotebookCellArrayChange}}),Object.defineProperty(c,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return bC.DidChangeNotebookDocumentNotification}}),Object.defineProperty(c,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return bC.DidSaveNotebookDocumentNotification}}),Object.defineProperty(c,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return bC.DidCloseNotebookDocumentNotification}});let bD=a.r(56111);Object.defineProperty(c,"InlineCompletionRequest",{enumerable:!0,get:function(){return bD.InlineCompletionRequest}}),(d||(c.TextDocumentFilter=d={})).is=function(a){return bi.string(a)||bi.string(a.language)||bi.string(a.scheme)||bi.string(a.pattern)},(e||(c.NotebookDocumentFilter=e={})).is=function(a){return bi.objectLiteral(a)&&(bi.string(a.notebookType)||bi.string(a.scheme)||bi.string(a.pattern))},(f||(c.NotebookCellTextDocumentFilter=f={})).is=function(a){return bi.objectLiteral(a)&&(bi.string(a.notebook)||e.is(a.notebook))&&(void 0===a.language||bi.string(a.language))},(g||(c.DocumentSelector=g={})).is=function(a){if(!Array.isArray(a))return!1;for(let b of a)if(!bi.string(b)&&!d.is(b)&&!f.is(b))return!1;return!0},(ao=h||(c.RegistrationRequest=h={})).method="client/registerCapability",ao.messageDirection=bg.MessageDirection.serverToClient,ao.type=new bg.ProtocolRequestType(ao.method),(ap=i||(c.UnregistrationRequest=i={})).method="client/unregisterCapability",ap.messageDirection=bg.MessageDirection.serverToClient,ap.type=new bg.ProtocolRequestType(ap.method),(aq=j||(c.ResourceOperationKind=j={})).Create="create",aq.Rename="rename",aq.Delete="delete",(ar=k||(c.FailureHandlingKind=k={})).Abort="abort",ar.Transactional="transactional",ar.TextOnlyTransactional="textOnlyTransactional",ar.Undo="undo",(as=l||(c.PositionEncodingKind=l={})).UTF8="utf-8",as.UTF16="utf-16",as.UTF32="utf-32",(m||(c.StaticRegistrationOptions=m={})).hasId=function(a){return a&&bi.string(a.id)&&a.id.length>0},(n||(c.TextDocumentRegistrationOptions=n={})).is=function(a){return a&&(null===a.documentSelector||g.is(a.documentSelector))},(at=o||(c.WorkDoneProgressOptions=o={})).is=function(a){return bi.objectLiteral(a)&&(void 0===a.workDoneProgress||bi.boolean(a.workDoneProgress))},at.hasWorkDoneProgress=function(a){return a&&bi.boolean(a.workDoneProgress)},(au=p||(c.InitializeRequest=p={})).method="initialize",au.messageDirection=bg.MessageDirection.clientToServer,au.type=new bg.ProtocolRequestType(au.method),(q||(c.InitializeErrorCodes=q={})).unknownProtocolVersion=1,(av=r||(c.InitializedNotification=r={})).method="initialized",av.messageDirection=bg.MessageDirection.clientToServer,av.type=new bg.ProtocolNotificationType(av.method),(aw=s||(c.ShutdownRequest=s={})).method="shutdown",aw.messageDirection=bg.MessageDirection.clientToServer,aw.type=new bg.ProtocolRequestType0(aw.method),(ax=t||(c.ExitNotification=t={})).method="exit",ax.messageDirection=bg.MessageDirection.clientToServer,ax.type=new bg.ProtocolNotificationType0(ax.method),(ay=u||(c.DidChangeConfigurationNotification=u={})).method="workspace/didChangeConfiguration",ay.messageDirection=bg.MessageDirection.clientToServer,ay.type=new bg.ProtocolNotificationType(ay.method),(az=v||(c.MessageType=v={})).Error=1,az.Warning=2,az.Info=3,az.Log=4,az.Debug=5,(aA=w||(c.ShowMessageNotification=w={})).method="window/showMessage",aA.messageDirection=bg.MessageDirection.serverToClient,aA.type=new bg.ProtocolNotificationType(aA.method),(aB=x||(c.ShowMessageRequest=x={})).method="window/showMessageRequest",aB.messageDirection=bg.MessageDirection.serverToClient,aB.type=new bg.ProtocolRequestType(aB.method),(aC=y||(c.LogMessageNotification=y={})).method="window/logMessage",aC.messageDirection=bg.MessageDirection.serverToClient,aC.type=new bg.ProtocolNotificationType(aC.method),(aD=z||(c.TelemetryEventNotification=z={})).method="telemetry/event",aD.messageDirection=bg.MessageDirection.serverToClient,aD.type=new bg.ProtocolNotificationType(aD.method),(aE=A||(c.TextDocumentSyncKind=A={})).None=0,aE.Full=1,aE.Incremental=2,(aF=B||(c.DidOpenTextDocumentNotification=B={})).method="textDocument/didOpen",aF.messageDirection=bg.MessageDirection.clientToServer,aF.type=new bg.ProtocolNotificationType(aF.method),(aG=C||(c.TextDocumentContentChangeEvent=C={})).isIncremental=function(a){return null!=a&&"string"==typeof a.text&&void 0!==a.range&&(void 0===a.rangeLength||"number"==typeof a.rangeLength)},aG.isFull=function(a){return null!=a&&"string"==typeof a.text&&void 0===a.range&&void 0===a.rangeLength},(aH=D||(c.DidChangeTextDocumentNotification=D={})).method="textDocument/didChange",aH.messageDirection=bg.MessageDirection.clientToServer,aH.type=new bg.ProtocolNotificationType(aH.method),(aI=E||(c.DidCloseTextDocumentNotification=E={})).method="textDocument/didClose",aI.messageDirection=bg.MessageDirection.clientToServer,aI.type=new bg.ProtocolNotificationType(aI.method),(aJ=F||(c.DidSaveTextDocumentNotification=F={})).method="textDocument/didSave",aJ.messageDirection=bg.MessageDirection.clientToServer,aJ.type=new bg.ProtocolNotificationType(aJ.method),(aK=G||(c.TextDocumentSaveReason=G={})).Manual=1,aK.AfterDelay=2,aK.FocusOut=3,(aL=H||(c.WillSaveTextDocumentNotification=H={})).method="textDocument/willSave",aL.messageDirection=bg.MessageDirection.clientToServer,aL.type=new bg.ProtocolNotificationType(aL.method),(aM=I||(c.WillSaveTextDocumentWaitUntilRequest=I={})).method="textDocument/willSaveWaitUntil",aM.messageDirection=bg.MessageDirection.clientToServer,aM.type=new bg.ProtocolRequestType(aM.method),(aN=J||(c.DidChangeWatchedFilesNotification=J={})).method="workspace/didChangeWatchedFiles",aN.messageDirection=bg.MessageDirection.clientToServer,aN.type=new bg.ProtocolNotificationType(aN.method),(aO=K||(c.FileChangeType=K={})).Created=1,aO.Changed=2,aO.Deleted=3,(L||(c.RelativePattern=L={})).is=function(a){return bi.objectLiteral(a)&&(bh.URI.is(a.baseUri)||bh.WorkspaceFolder.is(a.baseUri))&&bi.string(a.pattern)},(aP=M||(c.WatchKind=M={})).Create=1,aP.Change=2,aP.Delete=4,(aQ=N||(c.PublishDiagnosticsNotification=N={})).method="textDocument/publishDiagnostics",aQ.messageDirection=bg.MessageDirection.serverToClient,aQ.type=new bg.ProtocolNotificationType(aQ.method),(aR=O||(c.CompletionTriggerKind=O={})).Invoked=1,aR.TriggerCharacter=2,aR.TriggerForIncompleteCompletions=3,(aS=P||(c.CompletionRequest=P={})).method="textDocument/completion",aS.messageDirection=bg.MessageDirection.clientToServer,aS.type=new bg.ProtocolRequestType(aS.method),(aT=Q||(c.CompletionResolveRequest=Q={})).method="completionItem/resolve",aT.messageDirection=bg.MessageDirection.clientToServer,aT.type=new bg.ProtocolRequestType(aT.method),(aU=R||(c.HoverRequest=R={})).method="textDocument/hover",aU.messageDirection=bg.MessageDirection.clientToServer,aU.type=new bg.ProtocolRequestType(aU.method),(aV=S||(c.SignatureHelpTriggerKind=S={})).Invoked=1,aV.TriggerCharacter=2,aV.ContentChange=3,(aW=T||(c.SignatureHelpRequest=T={})).method="textDocument/signatureHelp",aW.messageDirection=bg.MessageDirection.clientToServer,aW.type=new bg.ProtocolRequestType(aW.method),(aX=U||(c.DefinitionRequest=U={})).method="textDocument/definition",aX.messageDirection=bg.MessageDirection.clientToServer,aX.type=new bg.ProtocolRequestType(aX.method),(aY=V||(c.ReferencesRequest=V={})).method="textDocument/references",aY.messageDirection=bg.MessageDirection.clientToServer,aY.type=new bg.ProtocolRequestType(aY.method),(aZ=W||(c.DocumentHighlightRequest=W={})).method="textDocument/documentHighlight",aZ.messageDirection=bg.MessageDirection.clientToServer,aZ.type=new bg.ProtocolRequestType(aZ.method),(a$=X||(c.DocumentSymbolRequest=X={})).method="textDocument/documentSymbol",a$.messageDirection=bg.MessageDirection.clientToServer,a$.type=new bg.ProtocolRequestType(a$.method),(a_=Y||(c.CodeActionRequest=Y={})).method="textDocument/codeAction",a_.messageDirection=bg.MessageDirection.clientToServer,a_.type=new bg.ProtocolRequestType(a_.method),(a0=Z||(c.CodeActionResolveRequest=Z={})).method="codeAction/resolve",a0.messageDirection=bg.MessageDirection.clientToServer,a0.type=new bg.ProtocolRequestType(a0.method),(a1=$||(c.WorkspaceSymbolRequest=$={})).method="workspace/symbol",a1.messageDirection=bg.MessageDirection.clientToServer,a1.type=new bg.ProtocolRequestType(a1.method),(a2=_||(c.WorkspaceSymbolResolveRequest=_={})).method="workspaceSymbol/resolve",a2.messageDirection=bg.MessageDirection.clientToServer,a2.type=new bg.ProtocolRequestType(a2.method),(a3=aa||(c.CodeLensRequest=aa={})).method="textDocument/codeLens",a3.messageDirection=bg.MessageDirection.clientToServer,a3.type=new bg.ProtocolRequestType(a3.method),(a4=ab||(c.CodeLensResolveRequest=ab={})).method="codeLens/resolve",a4.messageDirection=bg.MessageDirection.clientToServer,a4.type=new bg.ProtocolRequestType(a4.method),(a5=ac||(c.CodeLensRefreshRequest=ac={})).method="workspace/codeLens/refresh",a5.messageDirection=bg.MessageDirection.serverToClient,a5.type=new bg.ProtocolRequestType0(a5.method),(a6=ad||(c.DocumentLinkRequest=ad={})).method="textDocument/documentLink",a6.messageDirection=bg.MessageDirection.clientToServer,a6.type=new bg.ProtocolRequestType(a6.method),(a7=ae||(c.DocumentLinkResolveRequest=ae={})).method="documentLink/resolve",a7.messageDirection=bg.MessageDirection.clientToServer,a7.type=new bg.ProtocolRequestType(a7.method),(a8=af||(c.DocumentFormattingRequest=af={})).method="textDocument/formatting",a8.messageDirection=bg.MessageDirection.clientToServer,a8.type=new bg.ProtocolRequestType(a8.method),(a9=ag||(c.DocumentRangeFormattingRequest=ag={})).method="textDocument/rangeFormatting",a9.messageDirection=bg.MessageDirection.clientToServer,a9.type=new bg.ProtocolRequestType(a9.method),(ba=ah||(c.DocumentRangesFormattingRequest=ah={})).method="textDocument/rangesFormatting",ba.messageDirection=bg.MessageDirection.clientToServer,ba.type=new bg.ProtocolRequestType(ba.method),(bb=ai||(c.DocumentOnTypeFormattingRequest=ai={})).method="textDocument/onTypeFormatting",bb.messageDirection=bg.MessageDirection.clientToServer,bb.type=new bg.ProtocolRequestType(bb.method),(aj||(c.PrepareSupportDefaultBehavior=aj={})).Identifier=1,(bc=ak||(c.RenameRequest=ak={})).method="textDocument/rename",bc.messageDirection=bg.MessageDirection.clientToServer,bc.type=new bg.ProtocolRequestType(bc.method),(bd=al||(c.PrepareRenameRequest=al={})).method="textDocument/prepareRename",bd.messageDirection=bg.MessageDirection.clientToServer,bd.type=new bg.ProtocolRequestType(bd.method),(be=am||(c.ExecuteCommandRequest=am={})).method="workspace/executeCommand",be.messageDirection=bg.MessageDirection.clientToServer,be.type=new bg.ProtocolRequestType(be.method),(bf=an||(c.ApplyWorkspaceEditRequest=an={})).method="workspace/applyEdit",bf.messageDirection=bg.MessageDirection.serverToClient,bf.type=new bg.ProtocolRequestType("workspace/applyEdit")},32727,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createProtocolConnection=void 0;let d=a.r(8804);c.createProtocolConnection=function(a,b,c,e){return d.ConnectionStrategy.is(e)&&(e={connectionStrategy:e}),(0,d.createMessageConnection)(a,b,c,e)}},9352,(a,b,c)=>{"use strict";var d,e,f=a.e&&a.e.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),g=a.e&&a.e.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||f(b,a,c)};Object.defineProperty(c,"__esModule",{value:!0}),c.LSPErrorCodes=c.createProtocolConnection=void 0,g(a.r(8804),c),g(a.r(32646),c),g(a.r(72456),c),g(a.r(17316),c);var h=a.r(32727);Object.defineProperty(c,"createProtocolConnection",{enumerable:!0,get:function(){return h.createProtocolConnection}}),(d=e||(c.LSPErrorCodes=e={})).lspReservedErrorRangeStart=-32899,d.RequestFailed=-32803,d.ServerCancelled=-32802,d.ContentModified=-32801,d.RequestCancelled=-32800,d.lspReservedErrorRangeEnd=-32800},50646,(a,b,c)=>{"use strict";var d=a.e&&a.e.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=a.e&&a.e.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(c,"__esModule",{value:!0}),c.createProtocolConnection=void 0;let f=a.r(51698);e(a.r(51698),c),e(a.r(9352),c),c.createProtocolConnection=function(a,b,c,d){return(0,f.createMessageConnection)(a,b,c,d)}},99626,57297,52559,40485,a=>{"use strict";let b,c;function d(a){return"object"==typeof a&&null!==a&&"string"==typeof a.$type}function e(a){return"object"==typeof a&&null!==a&&"string"==typeof a.$refText&&"ref"in a}function f(a){return"object"==typeof a&&null!==a&&"string"==typeof a.$refText&&"items"in a}function g(a){return"object"==typeof a&&null!==a&&"object"==typeof a.info&&"string"==typeof a.message}class h{constructor(){this.subtypes={},this.allSubtypes={}}getAllTypes(){return Object.keys(this.types)}getReferenceType(a){let b=this.types[a.container.$type];if(!b)throw Error(`Type ${a.container.$type||"undefined"} not found.`);let c=b.properties[a.property]?.referenceType;if(!c)throw Error(`Property ${a.property||"undefined"} of type ${a.container.$type} is not a reference.`);return c}getTypeMetaData(a){let b=this.types[a];return b||{name:a,properties:{},superTypes:[]}}isInstance(a,b){return d(a)&&this.isSubtype(a.$type,b)}isSubtype(a,b){if(a===b)return!0;let c=this.subtypes[a];c||(c=this.subtypes[a]={});let d=c[b];if(void 0!==d)return d;{let d=this.types[a],e=!!d&&d.superTypes.some(a=>this.isSubtype(a,b));return c[b]=e,e}}getAllSubTypes(a){let b=this.allSubtypes[a];if(b)return b;{let b=this.getAllTypes(),c=[];for(let d of b)this.isSubtype(d,a)&&c.push(d);return this.allSubtypes[a]=c,c}}}function i(a){return"object"==typeof a&&null!==a&&Array.isArray(a.content)}function j(a){return"object"==typeof a&&null!==a&&"object"==typeof a.tokenType}function k(a){return i(a)&&"string"==typeof a.fullText}class l{constructor(a,b){this.startFn=a,this.nextFn=b}iterator(){let a={state:this.startFn(),next:()=>this.nextFn(a.state),[Symbol.iterator]:()=>a};return a}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let a=this.iterator(),b=0,c=a.next();for(;!c.done;)b++,c=a.next();return b}toArray(){let a,b=[],c=this.iterator();do void 0!==(a=c.next()).value&&b.push(a.value);while(!a.done)return b}toSet(){return new Set(this)}toMap(a,b){return new Map(this.map(c=>[a?a(c):c,b?b(c):c]))}toString(){return this.join()}concat(a){return new l(()=>({first:this.startFn(),firstDone:!1,iterator:a[Symbol.iterator]()}),a=>{let b;if(!a.firstDone){do if(!(b=this.nextFn(a.first)).done)return b;while(!b.done)a.firstDone=!0}do if(!(b=a.iterator.next()).done)return b;while(!b.done)return o})}join(a=","){let b,c=this.iterator(),d="",e=!1;do{var f;(b=c.next()).done||(e&&(d+=a),d+="string"==typeof(f=b.value)?f:void 0===f?"undefined":"function"==typeof f.toString?f.toString():Object.prototype.toString.call(f)),e=!0}while(!b.done)return d}indexOf(a,b=0){let c=this.iterator(),d=0,e=c.next();for(;!e.done;){if(d>=b&&e.value===a)return d;e=c.next(),d++}return -1}every(a){let b=this.iterator(),c=b.next();for(;!c.done;){if(!a(c.value))return!1;c=b.next()}return!0}some(a){let b=this.iterator(),c=b.next();for(;!c.done;){if(a(c.value))return!0;c=b.next()}return!1}forEach(a){let b=this.iterator(),c=0,d=b.next();for(;!d.done;)a(d.value,c),d=b.next(),c++}map(a){return new l(this.startFn,b=>{let{done:c,value:d}=this.nextFn(b);return c?o:{done:!1,value:a(d)}})}filter(a){return new l(this.startFn,b=>{let c;do if(!(c=this.nextFn(b)).done&&a(c.value))return c;while(!c.done)return o})}nonNullable(){return this.filter(a=>null!=a)}reduce(a,b){let c=this.iterator(),d=b,e=c.next();for(;!e.done;)d=void 0===d?e.value:a(d,e.value),e=c.next();return d}reduceRight(a,b){return this.recursiveReduce(this.iterator(),a,b)}recursiveReduce(a,b,c){let d=a.next();if(d.done)return c;let e=this.recursiveReduce(a,b,c);return void 0===e?d.value:b(e,d.value)}find(a){let b=this.iterator(),c=b.next();for(;!c.done;){if(a(c.value))return c.value;c=b.next()}}findIndex(a){let b=this.iterator(),c=0,d=b.next();for(;!d.done;){if(a(d.value))return c;d=b.next(),c++}return -1}includes(a){let b=this.iterator(),c=b.next();for(;!c.done;){if(c.value===a)return!0;c=b.next()}return!1}flatMap(a){return new l(()=>({this:this.startFn()}),b=>{do{if(b.iterator){let a=b.iterator.next();if(!a.done)return a;b.iterator=void 0}let{done:c,value:d}=this.nextFn(b.this);if(!c){let c=a(d);if(!m(c))return{done:!1,value:c};b.iterator=c[Symbol.iterator]()}}while(b.iterator)return o})}flat(a){if(void 0===a&&(a=1),a<=0)return this;let b=a>1?this.flat(a-1):this;return new l(()=>({this:b.startFn()}),a=>{do{if(a.iterator){let b=a.iterator.next();if(!b.done)return b;a.iterator=void 0}let{done:c,value:d}=b.nextFn(a.this);if(!c)if(!m(d))return{done:!1,value:d};else a.iterator=d[Symbol.iterator]()}while(a.iterator)return o})}head(){let a=this.iterator().next();if(!a.done)return a.value}tail(a=1){return new l(()=>{let b=this.startFn();for(let c=0;c<a&&!this.nextFn(b).done;c++);return b},this.nextFn)}limit(a){return new l(()=>({size:0,state:this.startFn()}),b=>(b.size++,b.size>a)?o:this.nextFn(b.state))}distinct(a){return new l(()=>({set:new Set,internalState:this.startFn()}),b=>{let c;do if(!(c=this.nextFn(b.internalState)).done){let d=a?a(c.value):c.value;if(!b.set.has(d))return b.set.add(d),c}while(!c.done)return o})}exclude(a,b){let c=new Set;for(let d of a){let a=b?b(d):d;c.add(a)}return this.filter(a=>{let d=b?b(a):a;return!c.has(d)})}}function m(a){return!!a&&"function"==typeof a[Symbol.iterator]}let n=new l(()=>void 0,()=>o),o=Object.freeze({done:!0,value:void 0});function p(...a){if(1===a.length){let b=a[0];if(b instanceof l)return b;if(m(b))return new l(()=>b[Symbol.iterator](),a=>a.next());if("number"==typeof b.length)return new l(()=>({index:0}),a=>a.index<b.length?{done:!1,value:b[a.index++]}:o)}return a.length>1?new l(()=>({collIndex:0,arrIndex:0}),b=>{do{if(b.iterator){let a=b.iterator.next();if(!a.done)return a;b.iterator=void 0}if(b.array){if(b.arrIndex<b.array.length)return{done:!1,value:b.array[b.arrIndex++]};b.array=void 0,b.arrIndex=0}if(b.collIndex<a.length){let c=a[b.collIndex++];m(c)?b.iterator=c[Symbol.iterator]():c&&"number"==typeof c.length&&(b.array=c)}}while(b.iterator||b.array||b.collIndex<a.length)return o}):n}class q extends l{constructor(a,b,c){super(()=>({iterators:c?.includeRoot?[[a][Symbol.iterator]()]:[b(a)[Symbol.iterator]()],pruned:!1}),a=>{for(a.pruned&&(a.iterators.pop(),a.pruned=!1);a.iterators.length>0;){let c=a.iterators[a.iterators.length-1].next();if(!c.done)return a.iterators.push(b(c.value)[Symbol.iterator]()),c;a.iterators.pop()}return o})}iterator(){let a={state:this.startFn(),next:()=>this.nextFn(a.state),prune:()=>{a.state.pruned=!0},[Symbol.iterator]:()=>a};return a}}function r(a){return new q(a,a=>i(a)?a.content:[],{includeRoot:!0})}function s(a){return{start:{character:a.startColumn-1,line:a.startLine-1},end:{character:a.endColumn,line:a.endLine-1}}}function t(a){if(!a)return;let{offset:b,end:c,range:d}=a;return{range:d,offset:b,end:c,length:c-b}}(ce=cg||(cg={})).sum=function(a){return a.reduce((a,b)=>a+b,0)},ce.product=function(a){return a.reduce((a,b)=>a*b,0)},ce.min=function(a){return a.reduce((a,b)=>Math.min(a,b))},ce.max=function(a){return a.reduce((a,b)=>Math.max(a,b))},(cf=ch||(ch={}))[cf.Before=0]="Before",cf[cf.After=1]="After",cf[cf.OverlapFront=2]="OverlapFront",cf[cf.OverlapBack=3]="OverlapBack",cf[cf.Inside=4]="Inside",cf[cf.Outside=5]="Outside";let u=/^[\w\p{L}]$/u;function v(a,b){return j(a)&&b.includes(a.tokenType.name)}class w extends Error{constructor(a,b){super(a?`${b} at ${a.range.start.line}:${a.range.start.character}`:b)}}function x(a,b="Error: Got unexpected value."){throw Error(b)}let y="AbstractElement",z="AbstractParserRule";function A(a){return ay.isInstance(a,z)}let B="AbstractRule",C="AbstractType",D="Action";function E(a){return ay.isInstance(a,D)}let F="Alternatives";function G(a){return ay.isInstance(a,F)}let H="Assignment";function I(a){return ay.isInstance(a,H)}let J="BooleanLiteral",K="CharacterRange",L="Condition",M="Conjunction",N="CrossReference";function O(a){return ay.isInstance(a,N)}let P="Disjunction",Q="EndOfFile",R="Group";function S(a){return ay.isInstance(a,R)}let T="InferredType";function U(a){return ay.isInstance(a,T)}let V="InfixRule";function W(a){return ay.isInstance(a,V)}let X="Interface",Y="Keyword";function Z(a){return ay.isInstance(a,Y)}let $="NegatedToken",_="Negation",aa="Parameter",ab="ParameterReference",ac="ParserRule";function ad(a){return ay.isInstance(a,ac)}let ae="RegexToken",af="ReturnType",ag="RuleCall";function ah(a){return ay.isInstance(a,ag)}let ai="SimpleType",aj="TerminalAlternatives",ak="TerminalElement",al="TerminalGroup",am="TerminalRule";function an(a){return ay.isInstance(a,am)}let ao="TerminalRuleCall";function ap(a){return ay.isInstance(a,ao)}let aq="Type",ar="TypeDefinition",as="UnorderedGroup";function at(a){return ay.isInstance(a,as)}let au="UntilToken",av="ValueLiteral",aw="Wildcard";class ax extends h{constructor(){super(...arguments),this.types={AbstractElement:{name:y,properties:{cardinality:{name:"cardinality"}},superTypes:[]},AbstractParserRule:{name:z,properties:{},superTypes:[B,C]},AbstractRule:{name:B,properties:{},superTypes:[]},AbstractType:{name:C,properties:{},superTypes:[]},Action:{name:D,properties:{cardinality:{name:"cardinality"},feature:{name:"feature"},inferredType:{name:"inferredType"},operator:{name:"operator"},type:{name:"type",referenceType:C}},superTypes:[y]},Alternatives:{name:F,properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]}},superTypes:[y]},ArrayLiteral:{name:"ArrayLiteral",properties:{elements:{name:"elements",defaultValue:[]}},superTypes:[av]},ArrayType:{name:"ArrayType",properties:{elementType:{name:"elementType"}},superTypes:[ar]},Assignment:{name:H,properties:{cardinality:{name:"cardinality"},feature:{name:"feature"},operator:{name:"operator"},predicate:{name:"predicate"},terminal:{name:"terminal"}},superTypes:[y]},BooleanLiteral:{name:J,properties:{true:{name:"true",defaultValue:!1}},superTypes:[L,av]},CharacterRange:{name:K,properties:{cardinality:{name:"cardinality"},left:{name:"left"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},right:{name:"right"}},superTypes:[ak]},Condition:{name:L,properties:{},superTypes:[]},Conjunction:{name:M,properties:{left:{name:"left"},right:{name:"right"}},superTypes:[L]},CrossReference:{name:N,properties:{cardinality:{name:"cardinality"},deprecatedSyntax:{name:"deprecatedSyntax",defaultValue:!1},isMulti:{name:"isMulti",defaultValue:!1},terminal:{name:"terminal"},type:{name:"type",referenceType:C}},superTypes:[y]},Disjunction:{name:P,properties:{left:{name:"left"},right:{name:"right"}},superTypes:[L]},EndOfFile:{name:Q,properties:{cardinality:{name:"cardinality"}},superTypes:[y]},Grammar:{name:"Grammar",properties:{imports:{name:"imports",defaultValue:[]},interfaces:{name:"interfaces",defaultValue:[]},isDeclared:{name:"isDeclared",defaultValue:!1},name:{name:"name"},rules:{name:"rules",defaultValue:[]},types:{name:"types",defaultValue:[]}},superTypes:[]},GrammarImport:{name:"GrammarImport",properties:{path:{name:"path"}},superTypes:[]},Group:{name:R,properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]},guardCondition:{name:"guardCondition"},predicate:{name:"predicate"}},superTypes:[y]},InferredType:{name:T,properties:{name:{name:"name"}},superTypes:[C]},InfixRule:{name:V,properties:{call:{name:"call"},dataType:{name:"dataType"},inferredType:{name:"inferredType"},name:{name:"name"},operators:{name:"operators"},parameters:{name:"parameters",defaultValue:[]},returnType:{name:"returnType",referenceType:C}},superTypes:[z]},InfixRuleOperatorList:{name:"InfixRuleOperatorList",properties:{associativity:{name:"associativity"},operators:{name:"operators",defaultValue:[]}},superTypes:[]},InfixRuleOperators:{name:"InfixRuleOperators",properties:{precedences:{name:"precedences",defaultValue:[]}},superTypes:[]},Interface:{name:X,properties:{attributes:{name:"attributes",defaultValue:[]},name:{name:"name"},superTypes:{name:"superTypes",defaultValue:[],referenceType:C}},superTypes:[C]},Keyword:{name:Y,properties:{cardinality:{name:"cardinality"},predicate:{name:"predicate"},value:{name:"value"}},superTypes:[y]},NamedArgument:{name:"NamedArgument",properties:{calledByName:{name:"calledByName",defaultValue:!1},parameter:{name:"parameter",referenceType:aa},value:{name:"value"}},superTypes:[]},NegatedToken:{name:$,properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},terminal:{name:"terminal"}},superTypes:[ak]},Negation:{name:_,properties:{value:{name:"value"}},superTypes:[L]},NumberLiteral:{name:"NumberLiteral",properties:{value:{name:"value"}},superTypes:[av]},Parameter:{name:aa,properties:{name:{name:"name"}},superTypes:[]},ParameterReference:{name:ab,properties:{parameter:{name:"parameter",referenceType:aa}},superTypes:[L]},ParserRule:{name:ac,properties:{dataType:{name:"dataType"},definition:{name:"definition"},entry:{name:"entry",defaultValue:!1},fragment:{name:"fragment",defaultValue:!1},inferredType:{name:"inferredType"},name:{name:"name"},parameters:{name:"parameters",defaultValue:[]},returnType:{name:"returnType",referenceType:C}},superTypes:[z]},ReferenceType:{name:"ReferenceType",properties:{isMulti:{name:"isMulti",defaultValue:!1},referenceType:{name:"referenceType"}},superTypes:[ar]},RegexToken:{name:ae,properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},regex:{name:"regex"}},superTypes:[ak]},ReturnType:{name:af,properties:{name:{name:"name"}},superTypes:[]},RuleCall:{name:ag,properties:{arguments:{name:"arguments",defaultValue:[]},cardinality:{name:"cardinality"},predicate:{name:"predicate"},rule:{name:"rule",referenceType:B}},superTypes:[y]},SimpleType:{name:ai,properties:{primitiveType:{name:"primitiveType"},stringType:{name:"stringType"},typeRef:{name:"typeRef",referenceType:C}},superTypes:[ar]},StringLiteral:{name:"StringLiteral",properties:{value:{name:"value"}},superTypes:[av]},TerminalAlternatives:{name:aj,properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[ak]},TerminalElement:{name:ak,properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[y]},TerminalGroup:{name:al,properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[ak]},TerminalRule:{name:am,properties:{definition:{name:"definition"},fragment:{name:"fragment",defaultValue:!1},hidden:{name:"hidden",defaultValue:!1},name:{name:"name"},type:{name:"type"}},superTypes:[B]},TerminalRuleCall:{name:ao,properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},rule:{name:"rule",referenceType:am}},superTypes:[ak]},Type:{name:aq,properties:{name:{name:"name"},type:{name:"type"}},superTypes:[C]},TypeAttribute:{name:"TypeAttribute",properties:{defaultValue:{name:"defaultValue"},isOptional:{name:"isOptional",defaultValue:!1},name:{name:"name"},type:{name:"type"}},superTypes:[]},TypeDefinition:{name:ar,properties:{},superTypes:[]},UnionType:{name:"UnionType",properties:{types:{name:"types",defaultValue:[]}},superTypes:[ar]},UnorderedGroup:{name:as,properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]}},superTypes:[y]},UntilToken:{name:au,properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},terminal:{name:"terminal"}},superTypes:[ak]},ValueLiteral:{name:av,properties:{},superTypes:[]},Wildcard:{name:aw,properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[ak]}}}}let ay=new ax;function az(a,b){let c=a;for(;c;){if(b(c))return c;c=c.$container}}function aA(a){let b=aB(a).$document;if(!b)throw Error("AST node has no document.");return b}function aB(a){for(;a.$container;)a=a.$container;return a}function aC(a){return e(a)?a.ref?[a.ref]:[]:f(a)?a.items.map(a=>a.ref):[]}function aD(a,b){if(!a)throw Error("Node must be an AstNode.");let c=b?.range;return new l(()=>({keys:Object.keys(a),keyIndex:0,arrayIndex:0}),b=>{for(;b.keyIndex<b.keys.length;){let e=b.keys[b.keyIndex];if(!e.startsWith("$")){let f=a[e];if(d(f)){if(b.keyIndex++,aG(f,c))return{done:!1,value:f}}else if(Array.isArray(f)){for(;b.arrayIndex<f.length;){let a=f[b.arrayIndex++];if(d(a)&&aG(a,c))return{done:!1,value:a}}b.arrayIndex=0}}b.keyIndex++}return o})}function aE(a,b){if(!a)throw Error("Root node must be an AstNode.");return new q(a,a=>aD(a,b))}function aF(a,b){if(a){if(b?.range&&!aG(a,b.range))return new q(a,()=>[])}else throw Error("Root node must be an AstNode.");return new q(a,a=>aD(a,b),{includeRoot:!0})}function aG(a,b){if(!b)return!0;let c=a.$cstNode?.range;return!!c&&function(a,b){if(a.end.line<b.start.line||a.end.line===b.start.line&&a.end.character<=b.start.character)return ch.Before;if(a.start.line>b.end.line||a.start.line===b.end.line&&a.start.character>=b.end.character)return ch.After;let c=a.start.line>b.start.line||a.start.line===b.start.line&&a.start.character>=b.start.character,d=a.end.line<b.end.line||a.end.line===b.end.line&&a.end.character<=b.end.character;return c&&d?ch.Inside:c?ch.OverlapBack:d?ch.OverlapFront:ch.Outside}(c,b)>ch.After}function aH(a){return new l(()=>({keys:Object.keys(a),keyIndex:0,arrayIndex:0}),b=>{for(;b.keyIndex<b.keys.length;){let c=b.keys[b.keyIndex];if(!c.startsWith("$")){let d=a[c];if(e(d)||f(d))return b.keyIndex++,{done:!1,value:{reference:d,container:a,property:c}};if(Array.isArray(d)){for(;b.arrayIndex<d.length;){let g=b.arrayIndex++,h=d[g];if(e(h)||f(d))return{done:!1,value:{reference:h,container:a,property:c,index:g}}}b.arrayIndex=0}}b.keyIndex++}return o})}function aI(a){return a.charCodeAt(0)}function aJ(a,b){Array.isArray(a)?a.forEach(function(a){b.push(a)}):b.push(a)}function aK(a,b){if(!0===a[b])throw"duplicate flag "+b;a[b],a[b]=!0}function aL(a){if(void 0===a)throw Error("Internal Error - Should never get here!");return!0}function aM(){throw Error("Internal Error - Should never get here!")}function aN(a){return"Character"===a.type}let aO=[];for(let a=aI("0");a<=aI("9");a++)aO.push(a);let aP=[aI("_")].concat(aO);for(let a=aI("a");a<=aI("z");a++)aP.push(a);for(let a=aI("A");a<=aI("Z");a++)aP.push(a);let aQ=[aI(" "),aI("\f"),aI("\n"),aI("\r"),aI("	"),aI("\v"),aI("	"),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI(""),aI("\u2028"),aI("\u2029"),aI(""),aI(""),aI(""),aI("\uFEFF")],aR=/[0-9a-fA-F]/,aS=/[0-9]/,aT=/[1-9]/;class aU{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(a){this.idx=a.idx,this.input=a.input,this.groupIdx=a.groupIdx}pattern(a){this.idx=0,this.input=a,this.groupIdx=0,this.consumeChar("/");let b=this.disjunction();this.consumeChar("/");let c={type:"Flags",loc:{begin:this.idx,end:a.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":aK(c,"global");break;case"i":aK(c,"ignoreCase");break;case"m":aK(c,"multiLine");break;case"u":aK(c,"unicode");break;case"y":aK(c,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:c,value:b,loc:this.loc(0)}}disjunction(){let a=[],b=this.idx;for(a.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),a.push(this.alternative());return{type:"Disjunction",value:a,loc:this.loc(b)}}alternative(){let a=[],b=this.idx;for(;this.isTerm();)a.push(this.term());return{type:"Alternative",value:a,loc:this.loc(b)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let a=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(a)};case"$":return{type:"EndAnchor",loc:this.loc(a)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(a)};case"B":return{type:"NonWordBoundary",loc:this.loc(a)}}throw Error("Invalid Assertion Escape");case"(":let b;switch(this.consumeChar("?"),this.popChar()){case"=":b="Lookahead";break;case"!":b="NegativeLookahead";break;case"<":switch(this.popChar()){case"=":b="Lookbehind";break;case"!":b="NegativeLookbehind"}}aL(b);let c=this.disjunction();return this.consumeChar(")"),{type:b,value:c,loc:this.loc(a)}}return aM()}quantifier(a=!1){let b,c=this.idx;switch(this.popChar()){case"*":b={atLeast:0,atMost:1/0};break;case"+":b={atLeast:1,atMost:1/0};break;case"?":b={atLeast:0,atMost:1};break;case"{":let d=this.integerIncludingZero();switch(this.popChar()){case"}":b={atLeast:d,atMost:d};break;case",":b=this.isDigit()?{atLeast:d,atMost:this.integerIncludingZero()}:{atLeast:d,atMost:1/0},this.consumeChar("}")}if(!0===a&&void 0===b)return;aL(b)}if((!0!==a||void 0!==b)&&aL(b))return"?"===this.peekChar(0)?(this.consumeChar("?"),b.greedy=!1):b.greedy=!0,b.type="Quantifier",b.loc=this.loc(c),b}atom(){let a,b=this.idx;switch(this.peekChar()){case".":a=this.dotAll();break;case"\\":a=this.atomEscape();break;case"[":a=this.characterClass();break;case"(":a=this.group()}return(void 0===a&&this.isPatternCharacter()&&(a=this.patternCharacter()),aL(a))?(a.loc=this.loc(b),this.isQuantifier()&&(a.quantifier=this.quantifier()),a):aM()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[aI("\n"),aI("\r"),aI("\u2028"),aI("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let a,b=!1;switch(this.popChar()){case"d":a=aO;break;case"D":a=aO,b=!0;break;case"s":a=aQ;break;case"S":a=aQ,b=!0;break;case"w":a=aP;break;case"W":a=aP,b=!0}return aL(a)?{type:"Set",value:a,complement:b}:aM()}controlEscapeAtom(){let a;switch(this.popChar()){case"f":a=aI("\f");break;case"n":a=aI("\n");break;case"r":a=aI("\r");break;case"t":a=aI("	");break;case"v":a=aI("\v")}return aL(a)?{type:"Character",value:a}:aM()}controlLetterEscapeAtom(){this.consumeChar("c");let a=this.popChar();if(!1===/[a-zA-Z]/.test(a))throw Error("Invalid ");return{type:"Character",value:a.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:aI("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:aI(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:aI(this.popChar())}}}characterClass(){let a=[],b=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),b=!0);this.isClassAtom();){let b=this.classAtom();if(b.type,aN(b)&&this.isRangeDash()){this.consumeChar("-");let c=this.classAtom();if(c.type,aN(c)){if(c.value<b.value)throw Error("Range out of order in character class");a.push({from:b.value,to:c.value})}else aJ(b.value,a),a.push(aI("-")),aJ(c.value,a)}else aJ(b.value,a)}return this.consumeChar("]"),{type:"Set",complement:b,value:a}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:aI("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let a=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),a=!1):this.groupIdx++;let b=this.disjunction();this.consumeChar(")");let c={type:"Group",capturing:a,value:b};return a&&(c.idx=this.groupIdx),c}positiveInteger(){let a=this.popChar();if(!1===aT.test(a))throw Error("Expecting a positive integer");for(;aS.test(this.peekChar(0));)a+=this.popChar();return parseInt(a,10)}integerIncludingZero(){let a=this.popChar();if(!1===aS.test(a))throw Error("Expecting an integer");for(;aS.test(this.peekChar(0));)a+=this.popChar();return parseInt(a,10)}patternCharacter(){let a=this.popChar();switch(a){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:aI(a)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return aS.test(this.peekChar(0))}isClassAtom(a=0){switch(this.peekChar(a)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2)||"<"===this.peekChar(2)&&("="===this.peekChar(3)||"!"===this.peekChar(3)));default:return!1}}isQuantifier(){let a=this.saveState();try{return void 0!==this.quantifier(!0)}catch(a){return!1}finally{this.restoreState(a)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(a){let b="";for(let c=0;c<a;c++){let a=this.popChar();if(!1===aR.test(a))throw Error("Expecting a HexDecimal digits");b+=a}return{type:"Character",value:parseInt(b,16)}}peekChar(a=0){return this.input[this.idx+a]}popChar(){let a=this.peekChar(0);return this.consumeChar(void 0),a}consumeChar(a){if(void 0!==a&&this.input[this.idx]!==a)throw Error("Expected: '"+a+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(a){return{begin:a,end:this.idx}}}class aV{visitChildren(a){for(let b in a){let c=a[b];a.hasOwnProperty(b)&&(void 0!==c.type?this.visit(c):Array.isArray(c)&&c.forEach(a=>{this.visit(a)},this))}}visit(a){switch(a.type){case"Pattern":this.visitPattern(a);break;case"Flags":this.visitFlags(a);break;case"Disjunction":this.visitDisjunction(a);break;case"Alternative":this.visitAlternative(a);break;case"StartAnchor":this.visitStartAnchor(a);break;case"EndAnchor":this.visitEndAnchor(a);break;case"WordBoundary":this.visitWordBoundary(a);break;case"NonWordBoundary":this.visitNonWordBoundary(a);break;case"Lookahead":this.visitLookahead(a);break;case"NegativeLookahead":this.visitNegativeLookahead(a);break;case"Lookbehind":this.visitLookbehind(a);break;case"NegativeLookbehind":this.visitNegativeLookbehind(a);break;case"Character":this.visitCharacter(a);break;case"Set":this.visitSet(a);break;case"Group":this.visitGroup(a);break;case"GroupBackReference":this.visitGroupBackReference(a);break;case"Quantifier":this.visitQuantifier(a)}this.visitChildren(a)}visitPattern(a){}visitFlags(a){}visitDisjunction(a){}visitAlternative(a){}visitStartAnchor(a){}visitEndAnchor(a){}visitWordBoundary(a){}visitNonWordBoundary(a){}visitLookahead(a){}visitNegativeLookahead(a){}visitLookbehind(a){}visitNegativeLookbehind(a){}visitCharacter(a){}visitSet(a){}visitGroup(a){}visitGroupBackReference(a){}visitQuantifier(a){}}let aW=/\r?\n/gm,aX=new aU,aY=new class extends aV{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(a){this.multiline=!1,this.regex=a,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(a){a.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(a){let b=String.fromCharCode(a.value);if(this.multiline||"\n"!==b||(this.multiline=!0),a.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let a=a_(b);this.endRegexpStack.push(a),this.isStarting&&(this.startRegexp+=a)}}visitSet(a){if(!this.multiline){let b=new RegExp(this.regex.substring(a.loc.begin,a.loc.end));this.multiline=!!"\n".match(b)}if(a.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let b=this.regex.substring(a.loc.begin,a.loc.end);this.endRegexpStack.push(b),this.isStarting&&(this.startRegexp+=b)}}visitChildren(a){"Group"===a.type&&a.quantifier||super.visitChildren(a)}},aZ="\f\n\r	\v \u2028\u2029\uFEFF".split("");function a$(a){let b="string"==typeof a?new RegExp(a):a;return aZ.some(a=>b.test(a))}function a_(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a0(a,b){let c=new Set,d=a.rules.find(a=>ad(a)&&a.entry);if(!d)return new Set(a.rules);for(let e of[d].concat(a.rules.filter(a=>an(a)&&a.hidden)))!function a(b,c,d){c.add(b.name),aE(b).forEach(b=>{if(ah(b)||d&&ap(b)){let e=b.rule.ref;e&&!c.has(e.name)&&a(e,c,d)}})}(e,c,b);let e=new Set;for(let b of a.rules)(c.has(b.name)||an(b)&&b.hidden)&&e.add(b);return e}function a1(a,b,c){if(!a||!b)return;let d=a2(a,b,a.astNode,!0);if(0!==d.length)return c=void 0!==c?Math.max(0,Math.min(c,d.length-1)):0,d[c]}function a2(a,b,c,d){if(!d){let c=az(a.grammarSource,I);if(c&&c.feature===b)return[a]}return i(a)&&a.astNode===c?a.content.flatMap(a=>a2(a,b,c,!1)):[]}function a3(a){let b=a;return U(b)&&(E(b.$container)?b=b.$container.$container:A(b.$container)?b=b.$container:x(b.$container)),function a(b,c,d){function e(c,e){let f;return az(c,I)||(f=a(e,e,d)),d.set(b,f),f}if(d.has(b))return d.get(b);for(let a of(d.set(b,void 0),aE(c)))if(I(a)&&"name"===a.feature.toLowerCase())return d.set(b,a),a;else{if(ah(a)&&ad(a.rule.ref))return e(a,a.rule.ref);if(ay.isInstance(a,ai)&&a.typeRef?.ref)return e(a,a.typeRef.ref)}}(a,b,new Map)}function a4(a){return function a(b,c){if(c.has(b))return!0;for(let d of(c.add(b),aE(b)))if(ah(d)){if(!d.rule.ref||ad(d.rule.ref)&&!a(d.rule.ref,c)||W(d.rule.ref))return!1}else if(I(d))return!1;else if(E(d))return!1;return!!b.definition}(a,new Set)}function a5(a){if(!an(a)){if(a.inferredType)return a.inferredType.name;else if(a.dataType)return a.dataType;else if(a.returnType){let b=a.returnType.ref;if(b)return b.name}}}function a6(a){if(A(a))return ad(a)&&a4(a)?a.name:a5(a)??a.name;if(ay.isInstance(a,X)||ay.isInstance(a,aq)||ay.isInstance(a,af))return a.name;if(E(a)){var b;let c=(b=a).inferredType?b.inferredType.name:b.type?.ref?a6(b.type.ref):void 0;if(c)return c}else if(U(a))return a.name;throw Error("Cannot get name of Unknown Type")}function a7(a){let b={s:!1,i:!1,u:!1};return new RegExp(function a(b,c){var d,e,f,g,h;if(ay.isInstance(b,aj)){return ba((d=b).elements.map(b=>a(b)).join("|"),{cardinality:d.cardinality,lookahead:d.lookahead,parenthesized:d.parenthesized,wrap:!1})}if(ay.isInstance(b,al)){return ba((e=b).elements.map(b=>a(b)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead,parenthesized:e.parenthesized,wrap:!1})}if(ay.isInstance(b,K)){return(f=b).right?ba(`[${a9(f.left)}-${a9(f.right)}]`,{cardinality:f.cardinality,lookahead:f.lookahead,parenthesized:f.parenthesized,wrap:!1}):ba(a9(f.left),{cardinality:f.cardinality,lookahead:f.lookahead,parenthesized:f.parenthesized,wrap:!1})}if(ap(b)){let c=b.rule.ref;if(!c)throw Error("Missing rule reference.");return ba(a(c.definition),{cardinality:b.cardinality,lookahead:b.lookahead,parenthesized:b.parenthesized})}else{if(ay.isInstance(b,$)){return g=b,ba(`(?!${a(g.terminal)})${a8}*?`,{cardinality:g.cardinality,lookahead:g.lookahead,parenthesized:g.parenthesized})}if(ay.isInstance(b,au)){return h=b,ba(`${a8}*?${a(h.terminal)}`,{cardinality:h.cardinality,lookahead:h.lookahead,parenthesized:h.parenthesized})}if(ay.isInstance(b,ae)){let a=b.regex.lastIndexOf("/"),d=b.regex.substring(1,a),e=b.regex.substring(a+1);return c&&(c.i=e.includes("i"),c.s=e.includes("s"),c.u=e.includes("u")),ba(d,{cardinality:b.cardinality,lookahead:b.lookahead,parenthesized:b.parenthesized,wrap:!1})}if(ay.isInstance(b,aw))return ba(a8,{cardinality:b.cardinality,lookahead:b.lookahead,parenthesized:b.parenthesized});throw Error(`Invalid terminal element: ${b?.$type}, ${b?.$cstNode?.text}`)}}(a.definition,b),Object.entries(b).filter(([,a])=>a).map(([a])=>a).join(""))}let a8=/[\s\S]/.source;function a9(a){return a_(a.value)}function ba(a,b){if(b.parenthesized||b.lookahead||!1!==b.wrap){let c=b.lookahead??(b.parenthesized?"":"?:");a=`(${c}${a})`}return b.cardinality?`${a}${b.cardinality}`:a}var bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b$,b_,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c$,c_,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d$=a.i(32974),d_=a.i(56575),d0=a.i(62992),d1=a.i(39847),d2=a.i(90118),d3=a.i(61577);function d4(a){console&&console.error&&console.error(`Error: ${a}`)}function d5(a){console&&console.warn&&console.warn(`Warning: ${a}`)}function d6(a){let b=new Date().getTime(),c=a();return{time:new Date().getTime()-b,value:c}}function d7(a){function b(){}b.prototype=a;let c=new b;function d(){return typeof c.bar}return d(),d(),a}let d8=function(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f};var d9=a.i(15737);let ea=function(a,b,c){var d=null==a?0:a.length;return d?d8(a,(b=c||void 0===b?1:(0,d9.default)(b))<0?0:b,d):[]};var eb=a.i(54260),ec=a.i(90383),ed=a.i(65894),ee=a.i(68378),ef=a.i(30685),eg=a.i(13242),eh=Object.prototype.hasOwnProperty,ei=(0,ed.default)(function(a,b){if((0,ef.default)(b)||(0,ee.default)(b))return void(0,ec.default)(b,(0,eg.default)(b),a);for(var c in b)eh.call(b,c)&&(0,eb.default)(a,c,b[c])}),ej=a.i(35102),ek=a.i(43475),el=a.i(85173),em=a.i(99033),en=em.default&&em.default.isRegExp,eo=en?(0,el.default)(en):function(a){return(0,ek.default)(a)&&"[object RegExp]"==(0,ej.default)(a)},ep=a.i(64049),ep=ep,eq=a.i(81457),er=a.i(91205),es=a.i(84995),et=a.i(23652);let eu=function(a,b){if(null==a)return{};var c=(0,eq.default)((0,et.default)(a),function(a){return[a]});return b=(0,er.default)(b),(0,es.default)(a,c,function(a,c){return b(a,c[0])})};class ev{get definition(){return this._definition}set definition(a){this._definition=a}constructor(a){this._definition=a}accept(a){a.visit(this),(0,d_.forEach)(this.definition,b=>{b.accept(a)})}}class ew extends ev{constructor(a){super([]),this.idx=1,ei(this,eu(a,a=>void 0!==a))}set definition(a){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(a){a.visit(this)}}class ex extends ev{constructor(a){super(a.definition),this.orgText="",ei(this,eu(a,a=>void 0!==a))}}class ey extends ev{constructor(a){super(a.definition),this.ignoreAmbiguities=!1,ei(this,eu(a,a=>void 0!==a))}}class ez extends ev{constructor(a){super(a.definition),this.idx=1,ei(this,eu(a,a=>void 0!==a))}}class eA extends ev{constructor(a){super(a.definition),this.idx=1,ei(this,eu(a,a=>void 0!==a))}}class eB extends ev{constructor(a){super(a.definition),this.idx=1,ei(this,eu(a,a=>void 0!==a))}}class eC extends ev{constructor(a){super(a.definition),this.idx=1,ei(this,eu(a,a=>void 0!==a))}}class eD extends ev{constructor(a){super(a.definition),this.idx=1,ei(this,eu(a,a=>void 0!==a))}}class eE extends ev{get definition(){return this._definition}set definition(a){this._definition=a}constructor(a){super(a.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,ei(this,eu(a,a=>void 0!==a))}}class eF{constructor(a){this.idx=1,ei(this,eu(a,a=>void 0!==a))}accept(a){a.visit(this)}}class eG{visit(a){switch(a.constructor){case ew:return this.visitNonTerminal(a);case ey:return this.visitAlternative(a);case ez:return this.visitOption(a);case eA:return this.visitRepetitionMandatory(a);case eB:return this.visitRepetitionMandatoryWithSeparator(a);case eD:return this.visitRepetitionWithSeparator(a);case eC:return this.visitRepetition(a);case eE:return this.visitAlternation(a);case eF:return this.visitTerminal(a);case ex:return this.visitRule(a);default:throw Error("non exhaustive match")}}visitNonTerminal(a){}visitAlternative(a){}visitOption(a){}visitRepetition(a){}visitRepetitionMandatory(a){}visitRepetitionMandatoryWithSeparator(a){}visitRepetitionWithSeparator(a){}visitAlternation(a){}visitTerminal(a){}visitRule(a){}}let eH=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0};var eI=a.i(13992);let eJ=function(a,b){var c=!0;return(0,eI.default)(a,function(a,d,e){return c=!!b(a,d,e)}),c};var eK=a.i(66723),eL=a.i(29845);let eM=function(a,b,c){var d=(0,eK.default)(a)?eH:eJ;return c&&(0,eL.default)(a,b,c)&&(b=void 0),d(a,(0,er.default)(b,3))};var eN=a.i(43009),eO=ep,eP=a.i(44275),eQ=Math.max;let eR=function(a,b,c,d){a=(0,ee.default)(a)?a:(0,eP.default)(a),c=c&&!d?(0,d9.default)(c):0;var e=a.length;return c<0&&(c=eQ(e+c,0)),(0,eO.default)(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&(0,eN.default)(a,b,c)>-1};var eS=a.i(23736);let eT=function(a,b){var c;return(0,eI.default)(a,function(a,d,e){return!(c=b(a,d,e))}),!!c},eU=function(a,b,c){var d=(0,eK.default)(a)?eS.default:eT;return c&&(0,eL.default)(a,b,c)&&(b=void 0),d(a,(0,er.default)(b,3))};function eV(a,b=[]){return a instanceof ez||a instanceof eC||a instanceof eD||(a instanceof eE?eU(a.definition,a=>eV(a,b)):!(a instanceof ew&&eR(b,a))&&a instanceof ev&&(a instanceof ew&&b.push(a),eM(a.definition,a=>eV(a,b))))}function eW(a){if(a instanceof ew)return"SUBRULE";if(a instanceof ez)return"OPTION";if(a instanceof eE)return"OR";if(a instanceof eA)return"AT_LEAST_ONE";if(a instanceof eB)return"AT_LEAST_ONE_SEP";else if(a instanceof eD)return"MANY_SEP";else if(a instanceof eC)return"MANY";else if(a instanceof eF)return"CONSUME";else throw Error("non exhaustive match")}class eX{walk(a,b=[]){(0,d_.forEach)(a.definition,(c,d)=>{let e=ea(a.definition,d+1);if(c instanceof ew)this.walkProdRef(c,e,b);else if(c instanceof eF)this.walkTerminal(c,e,b);else if(c instanceof ey)this.walkFlat(c,e,b);else if(c instanceof ez)this.walkOption(c,e,b);else if(c instanceof eA)this.walkAtLeastOne(c,e,b);else if(c instanceof eB)this.walkAtLeastOneSep(c,e,b);else if(c instanceof eD)this.walkManySep(c,e,b);else if(c instanceof eC)this.walkMany(c,e,b);else if(c instanceof eE)this.walkOr(c,e,b);else throw Error("non exhaustive match")})}walkTerminal(a,b,c){}walkProdRef(a,b,c){}walkFlat(a,b,c){let d=b.concat(c);this.walk(a,d)}walkOption(a,b,c){let d=b.concat(c);this.walk(a,d)}walkAtLeastOne(a,b,c){let d=[new ez({definition:a.definition})].concat(b,c);this.walk(a,d)}walkAtLeastOneSep(a,b,c){let d=eY(a,b,c);this.walk(a,d)}walkMany(a,b,c){let d=[new ez({definition:a.definition})].concat(b,c);this.walk(a,d)}walkManySep(a,b,c){let d=eY(a,b,c);this.walk(a,d)}walkOr(a,b,c){let d=b.concat(c);(0,d_.forEach)(a.definition,a=>{let b=new ey({definition:[a]});this.walk(b,d)})}}function eY(a,b,c){return[new ez({definition:[new eF({terminalType:a.separator})].concat(a.definition)})].concat(b,c)}var eZ=a.i(94066),e$=a.i(35749);let e_=function(a){return a&&a.length?(0,e$.default)(a):[]};function e0(a){if(a instanceof ew)return e0(a.referencedRule);if(a instanceof eF)return[a.terminalType];if(a instanceof ey||a instanceof ez||a instanceof eC||a instanceof eA||a instanceof eB||a instanceof eD||a instanceof eF||a instanceof ex)return function(a){let b,c=[],d=a.definition,e=0,f=d.length>e,g=!0;for(;f&&g;)g=eV(b=d[e]),c=c.concat(e0(b)),e+=1,f=d.length>e;return e_(c)}(a);if(a instanceof eE){var b;let c;return b=a,c=(0,d2.map)(b.definition,a=>e0(a)),e_((0,eZ.flatten)(c))}throw Error("non exhaustive match")}let e1="_~IN~_";class e2 extends eX{constructor(a){super(),this.topProd=a,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(a,b,c){}walkProdRef(a,b,c){var d,e;let f=(d=a.referencedRule,e=a.idx,d.name+e+e1+this.topProd.name),g=e0(new ey({definition:b.concat(c)}));this.follows[f]=g}}var ep=ep,e3=a.i(26670);let e4=function(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e};var e5=a.i(76565),e6=a.i(8041),e7=a.i(76750),e8=a.i(90942),e9=a.i(41306);let fa=function(a,b,c,d){var e=-1,f=e7.default,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=(0,eq.default)(b,(0,el.default)(c))),d?(f=e8.default,g=!1):b.length>=200&&(f=e9.default,g=!1,b=new e6.default(b));b:for(;++e<h;){var k=a[e],l=null==c?k:c(k);if(k=d||0!==k?k:0,g&&l==l){for(var m=j;m--;)if(b[m]===l)continue b;i.push(k)}else f(b,l,d)||i.push(k)}return i};var fb=a.i(98211),fc=a.i(27773),fd=a.i(94104),fe=(0,fc.default)(function(a,b){return(0,fd.default)(a)?fa(a,(0,fb.default)(b,1,fd.default,!0)):[]}),ff=a.i(65513),fg=a.i(96200);let fh=function(a){return a&&a.length?a[0]:void 0};var fi=Math.max;let fj=function(a,b,c){var d=null==a?0:a.length;if(!d)return -1;var e=null==c?0:(0,d9.default)(c);return e<0&&(e=fi(d+e,0)),(0,eN.default)(a,b,e)};var fk=a.i(76240),fl=a.i(82125),ep=ep,fm=a.i(45596),fn=a.i(695),fo=a.i(81396),fp=a.i(6650);let fq=function(a){if("function"!=typeof a)throw TypeError("Expected a function");return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}},fr=function(a,b){return((0,eK.default)(a)?fo.default:fp.default)(a,fq((0,er.default)(b,3)))},fs={},ft=new aU;function fu(a){let b=a.toString();if(fs.hasOwnProperty(b))return fs[b];{let a=ft.pattern(b);return fs[b]=a,a}}let fv="Complement Sets are not supported for first char optimization",fw='Unable to use "first char" lexer optimizations:\n';function fx(a,b,c){let d=fQ(a);b[d]=d,!0===c&&function(a,b){let c=String.fromCharCode(a),d=c.toUpperCase();if(d!==c){let a=fQ(d.charCodeAt(0));b[a]=a}else{let a=c.toLowerCase();if(a!==c){let c=fQ(a.charCodeAt(0));b[c]=c}}}(a,b)}function fy(a,b){return(0,fg.find)(a.value,a=>"number"==typeof a?eR(b,a):void 0!==(0,fg.find)(b,b=>a.from<=b&&b<=a.to))}class fz extends aV{constructor(a){super(),this.targetCharCodes=a,this.found=!1}visitChildren(a){if(!0!==this.found){switch(a.type){case"Lookahead":this.visitLookahead(a);return;case"NegativeLookahead":this.visitNegativeLookahead(a);return;case"Lookbehind":this.visitLookbehind(a);return;case"NegativeLookbehind":this.visitNegativeLookbehind(a);return}super.visitChildren(a)}}visitCharacter(a){eR(this.targetCharCodes,a.value)&&(this.found=!0)}visitSet(a){a.complement?void 0===fy(a,this.targetCharCodes)&&(this.found=!0):void 0!==fy(a,this.targetCharCodes)&&(this.found=!0)}}function fA(a,b){if(!(b instanceof RegExp))return void 0!==(0,fg.find)(b,b=>eR(a,b.charCodeAt(0)));{let c=fu(b),d=new fz(a);return d.visit(c),d.found}}let fB="PATTERN",fC="defaultMode",fD="modes",fE="boolean"==typeof RegExp("(?:)").sticky,fF=/[^\\][$]/,fG=/[^\\[][\^]|^\^/;function fH(a){let b=a.ignoreCase?"i":"";return RegExp(`^(?:${a.source})`,b)}function fI(a){let b=a.ignoreCase?"iy":"y";return RegExp(`${a.source}`,b)}function fJ(a){let b=a.PATTERN;if(eo(b))return!1;if((0,fl.isFunction)(b))return!0;if((0,d0.has)(b,"exec"))return!0;if((0,ep.default)(b))return!1;throw Error("non exhaustive match")}function fK(a){return!!(0,ep.default)(a)&&1===a.length&&a.charCodeAt(0)}let fL={test:function(a){let b=a.length;for(let c=this.lastIndex;c<b;c++){let b=a.charCodeAt(c);if(10===b)return this.lastIndex=c+1,!0;if(13===b)return 10===a.charCodeAt(c+1)?this.lastIndex=c+2:this.lastIndex=c+1,!0}return!1},lastIndex:0};function fM(a,b){if((0,d0.has)(a,"LINE_BREAKS"))return!1;if(eo(a.PATTERN)){try{fA(b,a.PATTERN)}catch(a){return{issue:ci.IDENTIFY_TERMINATOR,errMsg:a.message}}return!1}if((0,ep.default)(a.PATTERN))return!1;if(fJ(a))return{issue:ci.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function fN(a){return(0,d2.map)(a,a=>(0,ep.default)(a)?a.charCodeAt(0):a)}function fO(a,b,c){void 0===a[b]?a[b]=[c]:a[b].push(c)}let fP=[];function fQ(a){return a<256?a:fP[a]}var fR=a.i(58033),fR=fR,fS=a.i(52243),fT=a.i(73066),fT=fT;function fU(a,b){let c=a.tokenTypeIdx;return c===b.tokenTypeIdx||!0===b.isParent&&!0===b.categoryMatchesMap[c]}function fV(a,b){return a.tokenTypeIdx===b.tokenTypeIdx}let fW=1,fX={};function fY(a){var b,c,d;let e=function(a){let b=(0,d$.clone)(a),c=a,d=!0;for(;d;){let a=fe(c=e4((0,eZ.flatten)((0,d2.map)(c,a=>a.CATEGORIES))),b);b=b.concat(a),(0,d1.isEmpty)(a)?d=!1:c=a}return b}(a);b=e,(0,d_.forEach)(b,a=>{var b,c;fZ(a)||(fX[fW]=a,a.tokenTypeIdx=fW++),f$(a)&&!(0,fk.isArray)(a.CATEGORIES)&&(a.CATEGORIES=[a.CATEGORIES]),f$(a)||(a.CATEGORIES=[]),b=a,(0,d0.has)(b,"categoryMatches")||(a.categoryMatches=[]),c=a,(0,d0.has)(c,"categoryMatchesMap")||(a.categoryMatchesMap={})}),c=e,(0,d_.forEach)(c,a=>{!function a(b,c){(0,d_.forEach)(b,a=>{c.categoryMatchesMap[a.tokenTypeIdx]=!0}),(0,d_.forEach)(c.CATEGORIES,d=>{let e=b.concat(c);eR(e,d)||a(e,d)})}([],a)}),d=e,(0,d_.forEach)(d,a=>{a.categoryMatches=[],(0,d_.forEach)(a.categoryMatchesMap,(b,c)=>{a.categoryMatches.push(fX[c].tokenTypeIdx)})}),(0,d_.forEach)(e,a=>{a.isParent=a.categoryMatches.length>0})}function fZ(a){return(0,d0.has)(a,"tokenTypeIdx")}function f$(a){return(0,d0.has)(a,"CATEGORIES")}function f_(a){return(0,d0.has)(a,"tokenTypeIdx")}let f0={buildUnableToPopLexerModeMessage:a=>`Unable to pop Lexer Mode after encountering Token ->${a.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(a,b,c,d,e,f)=>`unexpected character: ->${a.charAt(b)}<- at offset: ${b}, skipped ${c} characters.`};(bb=ci||(ci={}))[bb.MISSING_PATTERN=0]="MISSING_PATTERN",bb[bb.INVALID_PATTERN=1]="INVALID_PATTERN",bb[bb.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",bb[bb.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",bb[bb.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",bb[bb.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",bb[bb.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",bb[bb.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",bb[bb.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",bb[bb.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",bb[bb.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",bb[bb.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",bb[bb.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",bb[bb.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",bb[bb.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",bb[bb.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",bb[bb.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",bb[bb.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";let f1={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:f0,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(f1);class f2{constructor(a,b=f1){if(this.lexerDefinition=a,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(a,b)=>{if(!0!==this.traceInitPerf)return b();{this.traceInitIndent++;let c=Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${c}--> <${a}>`);let{time:d,value:e}=d6(b),f=d>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&f(`${c}<-- <${a}> time: ${d}ms`),this.traceInitIndent--,e}},"boolean"==typeof b)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=ei({},f1,b);const c=this.config.traceInitPerf;!0===c?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof c&&(this.traceInitMaxIdent=c,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let c,d=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===f1.lineTerminatorsPattern)this.config.lineTerminatorsPattern=fL;else if(this.config.lineTerminatorCharacters===f1.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(b.safeMode&&b.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,fk.isArray)(a)?c={modes:{defaultMode:(0,d$.clone)(a)},defaultMode:fC}:(d=!1,c=(0,d$.clone)(a))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{var a;let b;this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat((a=c,this.trackStartLines,this.config.lineTerminatorCharacters,b=[],(0,d0.has)(a,fC)||b.push({message:"A MultiMode Lexer cannot be initialized without a <"+fC+"> property in its definition\n",type:ci.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,d0.has)(a,fD)||b.push({message:"A MultiMode Lexer cannot be initialized without a <"+fD+"> property in its definition\n",type:ci.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,d0.has)(a,fD)&&(0,d0.has)(a,fC)&&!(0,d0.has)(a.modes,a.defaultMode)&&b.push({message:`A MultiMode Lexer cannot be initialized with a ${fC}: <${a.defaultMode}>which does not exist
`,type:ci.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,d0.has)(a,fD)&&(0,d_.forEach)(a.modes,(a,c)=>{(0,d_.forEach)(a,(d,e)=>{if((0,e3.isUndefined)(d))b.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${c}> at index: <${e}>
`,type:ci.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,d0.has)(d,"LONGER_ALT")){let e=(0,fk.isArray)(d.LONGER_ALT)?d.LONGER_ALT:[d.LONGER_ALT];(0,d_.forEach)(e,e=>{(0,e3.isUndefined)(e)||eR(a,e)||b.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${e.name}> on token <${d.name}> outside of mode <${c}>
`,type:ci.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),b))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{var a,b,d;let e,f,g,h;this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat((a=c,b=this.trackStartLines,d=this.config.lineTerminatorCharacters,e=[],f=!1,g=fr(e4((0,eZ.flatten)((0,d3.values)(a.modes))),a=>a[fB]===f2.NA),h=fN(d),b&&(0,d_.forEach)(g,a=>{let b=fM(a,h);if(!1!==b){let c={message:function(a,b){if(b.issue===ci.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${a.name}> Token Type
	 Root cause: ${b.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(b.issue===ci.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${a.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(a,b),type:b.issue,tokenType:a};e.push(c)}else(0,d0.has)(a,"LINE_BREAKS")?!0===a.LINE_BREAKS&&(f=!0):fA(h,a.PATTERN)&&(f=!0)}),b&&!f&&e.push({message:"Warning: No LINE_BREAKS Found.\n	This Lexer has been defined to track line and column information,\n	But none of the Token Types can be identified as matching a line terminator.\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n	for details.",type:ci.NO_LINE_BREAKS_FLAGS}),e))})),c.modes=c.modes?c.modes:{},(0,d_.forEach)(c.modes,(a,b)=>{c.modes[b]=fr(a,a=>(0,e3.isUndefined)(a))});let e=(0,fm.keys)(c.modes);if((0,d_.forEach)(c.modes,(a,c)=>{this.TRACE_INIT(`Mode: <${c}> processing`,()=>{if(this.modes.push(c),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{var b,c,d,f,g,h,i,j,k,l;let m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat((m=[],b=a,q=(0,ff.filter)(b,a=>!(0,d0.has)(a,fB)),n={errors:(0,d2.map)(q,a=>({message:"Token Type: ->"+a.name+"<- missing static 'PATTERN' property",type:ci.MISSING_PATTERN,tokenTypes:[a]})),valid:fe(b,q)},m=m.concat(n.errors),c=n.valid,r=(0,ff.filter)(c,a=>{let b=a[fB];return!eo(b)&&!(0,fl.isFunction)(b)&&!(0,d0.has)(b,"exec")&&!(0,ep.default)(b)}),p=(o={errors:(0,d2.map)(r,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ci.INVALID_PATTERN,tokenTypes:[a]})),valid:fe(c,r)}).valid,m=(m=(m=(m=(m=m.concat(o.errors)).concat((d=p,s=[],t=(0,ff.filter)(d,a=>eo(a[fB])),(s=(s=(s=(s=s.concat(function(a){class b extends aV{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}}let c=(0,ff.filter)(a,a=>{let c=a.PATTERN;try{let a=fu(c),d=new b;return d.visit(a),d.found}catch(a){return fF.test(c.source)}});return(0,d2.map)(c,a=>({message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+a.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:ci.EOI_ANCHOR_FOUND,tokenTypes:[a]}))}(t))).concat(function(a){class b extends aV{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}}let c=(0,ff.filter)(a,a=>{let c=a.PATTERN;try{let a=fu(c),d=new b;return d.visit(a),d.found}catch(a){return fG.test(c.source)}});return(0,d2.map)(c,a=>({message:"Unexpected RegExp Anchor Error:\n	Token Type: ->"+a.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.",type:ci.SOI_ANCHOR_FOUND,tokenTypes:[a]}))}(t))).concat((f=t,u=(0,ff.filter)(f,a=>{let b=a[fB];return b instanceof RegExp&&(b.multiline||b.global)}),(0,d2.map)(u,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ci.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[a]}))))).concat((g=t,v=[],w=e4(w=(0,d2.map)(g,a=>(0,fn.reduce)(g,(b,c)=>(a.PATTERN.source!==c.PATTERN.source||eR(v,c)||c.PATTERN===f2.NA||(v.push(c),b.push(c)),b),[]))),x=(0,ff.filter)(w,a=>a.length>1),(0,d2.map)(x,a=>{let b=(0,d2.map)(a,a=>a.name),c=fh(a).PATTERN;return{message:`The same RegExp pattern ->${c}<-has been used in all of the following Token Types: ${b.join(", ")} <-`,type:ci.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}})))).concat((h=t,y=(0,ff.filter)(h,a=>a.PATTERN.test("")),(0,d2.map)(y,a=>({message:"Token Type: ->"+a.name+"<- static 'PATTERN' must not match an empty string",type:ci.EMPTY_MATCH_PATTERN,tokenTypes:[a]}))))))).concat((i=p,z=(0,ff.filter)(i,a=>{if(!(0,d0.has)(a,"GROUP"))return!1;let b=a.GROUP;return b!==f2.SKIPPED&&b!==f2.NA&&!(0,ep.default)(b)}),(0,d2.map)(z,a=>({message:"Token Type: ->"+a.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ci.INVALID_GROUP_TYPE_FOUND,tokenTypes:[a]}))))).concat((j=p,k=e,A=(0,ff.filter)(j,a=>void 0!==a.PUSH_MODE&&!eR(k,a.PUSH_MODE)),(0,d2.map)(A,a=>({message:`Token Type: ->${a.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${a.PUSH_MODE}<-which does not exist`,type:ci.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[a]}))))).concat((l=p,B=[],C=(0,fn.reduce)(l,(a,b,c)=>{var d;let e=b.PATTERN;return e===f2.NA||((0,ep.default)(e)?a.push({str:e,idx:c,tokenType:b}):eo(e)&&(d=e,void 0===(0,fg.find)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],a=>-1!==d.source.indexOf(a)))&&a.push({str:e.source,idx:c,tokenType:b})),a},[]),(0,d_.forEach)(l,(a,b)=>{(0,d_.forEach)(C,({str:c,idx:d,tokenType:e})=>{if(b<d&&function(a,b){if(eo(b)){var c;if(c=b,/(\(\?=)|(\(\?!)|(\(\?<=)|(\(\?<!)/.test(c.source))return!1;let d=b.exec(a);return null!==d&&0===d.index}if((0,fl.isFunction)(b))return b(a,0,[],{});if((0,d0.has)(b,"exec"))return b.exec(a,0,[],{});if("string"==typeof b)return b===a;throw Error("non exhaustive match")}(c,a.PATTERN)){let b=`Token: ->${e.name}<- can never be matched.
Because it appears AFTER the Token Type ->${a.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;B.push({message:b,type:ci.UNREACHABLE_PATTERN,tokenTypes:[a,e]})}})}),B))))}),(0,d1.isEmpty)(this.lexerDefinitionErrors)){let d;fY(a),this.TRACE_INIT("analyzeTokenTypes",()=>{var c;let e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;c={lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:b.positionTracking,ensureOptimizations:b.ensureOptimizations,safeMode:b.safeMode,tracer:this.TRACE_INIT},(q=(c=(0,e5.defaults)(c,{useSticky:fE,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(a,b)=>b()})).tracer)("initCharCodeToOptimizedIndexMap",()=>{if((0,d1.isEmpty)(fP)){fP=Array(65536);for(let a=0;a<65536;a++)fP[a]=a>255?255+~~(a/255):a}}),q("Reject Lexer.NA",()=>{e=fr(a,a=>a[fB]===f2.NA)}),r=!1,q("Transform Patterns",()=>{r=!1,f=(0,d2.map)(e,a=>{let b=a[fB];if(eo(b)){let a=b.source;return 1!==a.length||"^"===a||"$"===a||"."===a||b.ignoreCase?2!==a.length||"\\"!==a[0]||eR(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],a[1])?c.useSticky?fI(b):fH(b):a[1]:a}if((0,fl.isFunction)(b))return r=!0,{exec:b};if("object"==typeof b)return r=!0,b;if("string"==typeof b)if(1===b.length)return b;else{let a=new RegExp(b.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"));return c.useSticky?fI(a):fH(a)}throw Error("non exhaustive match")})}),q("misc mapping",()=>{g=(0,d2.map)(e,a=>a.tokenTypeIdx),h=(0,d2.map)(e,a=>{let b=a.GROUP;if(b!==f2.SKIPPED){if((0,ep.default)(b))return b;if((0,e3.isUndefined)(b))return!1;throw Error("non exhaustive match")}}),i=(0,d2.map)(e,a=>{let b=a.LONGER_ALT;if(b)return(0,fk.isArray)(b)?(0,d2.map)(b,a=>fj(e,a)):[fj(e,b)]}),j=(0,d2.map)(e,a=>a.PUSH_MODE),k=(0,d2.map)(e,a=>(0,d0.has)(a,"POP_MODE"))}),q("Line Terminator Handling",()=>{let a=fN(c.lineTerminatorCharacters);l=(0,d2.map)(e,a=>!1),"onlyOffset"!==c.positionTracking&&(l=(0,d2.map)(e,b=>(0,d0.has)(b,"LINE_BREAKS")?!!b.LINE_BREAKS:!1===fM(b,a)&&fA(a,b.PATTERN)))}),q("Misc Mapping #2",()=>{m=(0,d2.map)(e,fJ),n=(0,d2.map)(f,fK),o=(0,fn.reduce)(e,(a,b)=>{let c=b.GROUP;return(0,ep.default)(c)&&c!==f2.SKIPPED&&(a[c]=[]),a},{}),p=(0,d2.map)(f,(a,b)=>({pattern:f[b],longerAlt:i[b],canLineTerminator:l[b],isCustom:m[b],short:n[b],group:h[b],push:j[b],pop:k[b],tokenTypeIdx:g[b],tokenType:e[b]}))}),s=!0,t=[],c.safeMode||q("First Char Optimization",()=>{t=(0,fn.reduce)(e,(a,b,d)=>{if("string"==typeof b.PATTERN)fO(a,fQ(b.PATTERN.charCodeAt(0)),p[d]);else if((0,fk.isArray)(b.START_CHARS_HINT)){let c;(0,d_.forEach)(b.START_CHARS_HINT,b=>{let e=fQ("string"==typeof b?b.charCodeAt(0):b);c!==e&&(c=e,fO(a,e,p[d]))})}else if(eo(b.PATTERN))if(b.PATTERN.unicode)s=!1,c.ensureOptimizations&&d4(`${fw}	Unable to analyze < ${b.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let e=function(a,b=!1){try{let b=fu(a);return function a(b,c,d){switch(b.type){case"Disjunction":for(let e=0;e<b.value.length;e++)a(b.value[e],c,d);break;case"Alternative":let e=b.value;for(let b=0;b<e.length;b++){let f=e[b];switch(f.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"Lookbehind":case"NegativeLookbehind":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}switch(f.type){case"Character":fx(f.value,c,d);break;case"Set":if(!0===f.complement)throw Error(fv);(0,d_.forEach)(f.value,a=>{if("number"==typeof a)fx(a,c,d);else if(!0===d)for(let b=a.from;b<=a.to;b++)fx(b,c,d);else{for(let b=a.from;b<=a.to&&b<256;b++)fx(b,c,d);if(a.to>=256){let b=a.from>=256?a.from:256,d=a.to,e=fQ(b),f=fQ(d);for(let a=e;a<=f;a++)c[a]=a}}});break;case"Group":a(f.value,c,d);break;default:throw Error("Non Exhaustive Match")}let g=void 0!==f.quantifier&&0===f.quantifier.atLeast;if("Group"===f.type&&!1===function a(b){let c=b.quantifier;return!!c&&0===c.atLeast||!!b.value&&((0,fk.isArray)(b.value)?eM(b.value,a):a(b.value))}(f)||"Group"!==f.type&&!1===g)break}break;default:throw Error("non exhaustive match!")}return(0,d3.values)(c)}(b.value,{},b.flags.ignoreCase)}catch(c){if(c.message===fv)b&&d5(`${fw}	Unable to optimize: < ${a.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let c="";b&&(c="\n	This will disable the lexer's first char optimizations.\n	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),d4(`${fw}
	Failed parsing: < ${a.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+c)}}return[]}(b.PATTERN,c.ensureOptimizations);(0,d1.isEmpty)(e)&&(s=!1),(0,d_.forEach)(e,b=>{fO(a,b,p[d])})}else c.ensureOptimizations&&d4(`${fw}	TokenType: <${b.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),s=!1;return a},[])}),d={emptyGroups:o,patternIdxToConfig:p,charCodeToPatternIdxToConfig:t,hasCustom:r,canBeOptimized:s}}),this.patternIdxToConfig[c]=d.patternIdxToConfig,this.charCodeToPatternIdxToConfig[c]=d.charCodeToPatternIdxToConfig,this.emptyGroups=ei({},this.emptyGroups,d.emptyGroups),this.hasCustom=d.hasCustom||this.hasCustom,this.canModeBeOptimized[c]=d.canBeOptimized}})}),this.defaultMode=c.defaultMode,!(0,d1.isEmpty)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling)throw Error("Errors detected in definition of Lexer:\n"+(0,d2.map)(this.lexerDefinitionErrors,a=>a.message).join("-----------------------\n"));(0,d_.forEach)(this.lexerDefinitionWarning,a=>{d5(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(fE?(this.chopInput=fR.default,this.match=this.matchWithTest):(this.updateLastIndex=fT.default,this.match=this.matchWithExec),d&&(this.handleModes=fT.default),!1===this.trackStartLines&&(this.computeNewColumn=fR.default),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=fT.default),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let a=(0,fn.reduce)(this.canModeBeOptimized,(a,b,c)=>(!1===b&&a.push(c),a),[]);if(b.ensureOptimizations&&!(0,d1.isEmpty)(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{fs={}}),this.TRACE_INIT("toFastProperties",()=>{d7(this)})})}tokenize(a,b=this.defaultMode){if(!(0,d1.isEmpty)(this.lexerDefinitionErrors))throw Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+(0,d2.map)(this.lexerDefinitionErrors,a=>a.message).join("-----------------------\n"));return this.tokenizeInternal(a,b)}tokenizeInternal(a,b){var c;let d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=a,x=w.length,y=0,z=0,A=Array(this.hasCustom?0:Math.floor(a.length/10)),B=[],C=this.trackStartLines?1:void 0,D=this.trackStartLines?1:void 0,E=(c=this.emptyGroups,u={},v=(0,fm.keys)(c),(0,d_.forEach)(v,a=>{let b=c[a];if((0,fk.isArray)(b))u[a]=[];else throw Error("non exhaustive match")}),u),F=this.trackStartLines,G=this.config.lineTerminatorsPattern,H=0,I=[],J=[],K=[],L=[];function M(){return I}function N(a){let b=J[fQ(a)];return void 0===b?L:b}Object.freeze(L);let O=a=>{if(1===K.length&&void 0===a.tokenType.PUSH_MODE){let b=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(a);B.push({offset:a.startOffset,line:a.startLine,column:a.startColumn,length:a.image.length,message:b})}else{K.pop();let a=(0,fS.last)(K);I=this.patternIdxToConfig[a],J=this.charCodeToPatternIdxToConfig[a],H=I.length;let b=this.canModeBeOptimized[a]&&!1===this.config.safeMode;s=J&&b?N:M}};function P(a){K.push(a),J=this.charCodeToPatternIdxToConfig[a],H=(I=this.patternIdxToConfig[a]).length,H=I.length;let b=this.canModeBeOptimized[a]&&!1===this.config.safeMode;s=J&&b?N:M}P.call(this,b);let Q=this.config.recoveryEnabled;for(;y<x;){i=null;let b=w.charCodeAt(y),c=s(b),u=c.length;for(d=0;d<u;d++){let e=(t=c[d]).pattern;j=null;let l=t.short;if(!1!==l?b===l&&(i=e):!0===t.isCustom?null!==(r=e.exec(w,y,A,E))?(i=r[0],void 0!==r.payload&&(j=r.payload)):i=null:(this.updateLastIndex(e,y),i=this.match(e,a,y)),null!==i){if(void 0!==(h=t.longerAlt)){let b=h.length;for(f=0;f<b;f++){let b=I[h[f]],c=b.pattern;if(k=null,!0===b.isCustom?null!==(r=c.exec(w,y,A,E))?(g=r[0],void 0!==r.payload&&(k=r.payload)):g=null:(this.updateLastIndex(c,y),g=this.match(c,a,y)),g&&g.length>i.length){i=g,j=k,t=b;break}}}break}}if(null!==i){if(l=i.length,void 0!==(m=t.group)&&(n=t.tokenTypeIdx,o=this.createTokenInstance(i,y,n,t.tokenType,C,D,l),this.handlePayload(o,j),!1===m?z=this.addToken(A,z,o):E[m].push(o)),a=this.chopInput(a,l),y+=l,D=this.computeNewColumn(D,l),!0===F&&!0===t.canLineTerminator){let a,b,c=0;G.lastIndex=0;do!0===(a=G.test(i))&&(b=G.lastIndex-1,c++);while(!0===a)0!==c&&(C+=c,D=l-b,this.updateTokenEndLineColumnLocation(o,m,b,c,C,D,l))}this.handleModes(t,O,P,o)}else{let b=y,c=C,d=D,f=!1===Q;for(;!1===f&&y<x;)for(a=this.chopInput(a,1),y++,e=0;e<H;e++){let b=I[e],c=b.pattern,d=b.short;if(!1!==d?w.charCodeAt(y)===d&&(f=!0):!0===b.isCustom?f=null!==c.exec(w,y,A,E):(this.updateLastIndex(c,y),f=null!==c.exec(a)),!0===f)break}if(p=y-b,D=this.computeNewColumn(D,p),q=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,b,p,c,d,(0,fS.last)(K)),B.push({offset:b,line:c,column:d,length:p,message:q}),!1===Q)break}}return this.hasCustom||(A.length=z),{tokens:A,groups:E,errors:B}}handleModes(a,b,c,d){if(!0===a.pop){let e=a.push;b(d),void 0!==e&&c.call(this,e)}else void 0!==a.push&&c.call(this,a.push)}chopInput(a,b){return a.substring(b)}updateLastIndex(a,b){a.lastIndex=b}updateTokenEndLineColumnLocation(a,b,c,d,e,f,g){let h,i;void 0!==b&&(i=(h=c===g-1)?-1:0,(1!==d||!0!==h)&&(a.endLine=e+i,a.endColumn=f-1+-i))}computeNewColumn(a,b){return a+b}createOffsetOnlyToken(a,b,c,d){return{image:a,startOffset:b,tokenTypeIdx:c,tokenType:d}}createStartOnlyToken(a,b,c,d,e,f){return{image:a,startOffset:b,startLine:e,startColumn:f,tokenTypeIdx:c,tokenType:d}}createFullToken(a,b,c,d,e,f,g){return{image:a,startOffset:b,endOffset:b+g-1,startLine:e,endLine:e,startColumn:f,endColumn:f+g-1,tokenTypeIdx:c,tokenType:d}}addTokenUsingPush(a,b,c){return a.push(c),b}addTokenUsingMemberAccess(a,b,c){return a[b]=c,++b}handlePayloadNoCustom(a,b){}handlePayloadWithCustom(a,b){null!==b&&(a.payload=b)}matchWithTest(a,b,c){return!0===a.test(b)?b.substring(c,a.lastIndex):null}matchWithExec(a,b){let c=a.exec(b);return null!==c?c[0]:null}}function f3(a){return f4(a)?a.LABEL:a.name}function f4(a){return(0,ep.default)(a.LABEL)&&""!==a.LABEL}f2.SKIPPED="This marks a skipped Token pattern, this means each token identified by it will be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",f2.NA=/NOT_APPLICABLE/;let f5="categories",f6="label",f7="group",f8="push_mode",f9="pop_mode",ga="longer_alt",gb="line_breaks",gc="start_chars_hint";function gd(a){let b=a.pattern,c={};if(c.name=a.name,(0,e3.isUndefined)(b)||(c.PATTERN=b),(0,d0.has)(a,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,d0.has)(a,f5)&&(c.CATEGORIES=a[f5]),fY([c]),(0,d0.has)(a,f6)&&(c.LABEL=a[f6]),(0,d0.has)(a,f7)&&(c.GROUP=a[f7]),(0,d0.has)(a,f9)&&(c.POP_MODE=a[f9]),(0,d0.has)(a,f8)&&(c.PUSH_MODE=a[f8]),(0,d0.has)(a,ga)&&(c.LONGER_ALT=a[ga]),(0,d0.has)(a,gb)&&(c.LINE_BREAKS=a[gb]),(0,d0.has)(a,gc)&&(c.START_CHARS_HINT=a[gc]),c}let ge=gd({name:"EOF",pattern:f2.NA});function gf(a,b,c,d,e,f,g,h){return{image:b,startOffset:c,endOffset:d,startLine:e,endLine:f,startColumn:g,endColumn:h,tokenTypeIdx:a.tokenTypeIdx,tokenType:a}}fY([ge]);let gg={buildMismatchTokenMessage({expected:a,actual:b,previous:c,ruleName:d}){let e=f4(a)?`--> ${f3(a)} <--`:`token of type --> ${a.name} <--`;return`Expecting ${e} but found --> '${b.image}' <--`},buildNotAllInputParsedMessage:({firstRedundant:a,ruleName:b})=>"Redundant input, expecting EOF but found: "+a.image,buildNoViableAltMessage({expectedPathsPerAlt:a,actual:b,previous:c,customUserDescription:d,ruleName:e}){let f="Expecting: ",g="\nbut found: '"+fh(b).image+"'";if(d)return f+d+g;{let b=(0,fn.reduce)(a,(a,b)=>a.concat(b),[]),c=(0,d2.map)(b,a=>`[${(0,d2.map)(a,a=>f3(a)).join(", ")}]`),d=(0,d2.map)(c,(a,b)=>`  ${b+1}. ${a}`);return f+`one of these possible Token sequences:
${d.join("\n")}`+g}},buildEarlyExitMessage({expectedIterationPaths:a,actual:b,customUserDescription:c,ruleName:d}){let e="Expecting: ",f="\nbut found: '"+fh(b).image+"'";if(c)return e+c+f;{let b=(0,d2.map)(a,a=>`[${(0,d2.map)(a,a=>f3(a)).join(",")}]`);return e+`expecting at least one iteration which starts with one of these possible Token sequences::
  <${b.join(" ,")}>`+f}}};Object.freeze(gg);let gh={buildRuleNotFoundError:(a,b)=>"Invalid grammar, reference to a rule which is not defined: ->"+b.nonTerminalName+"<-\ninside top level rule: ->"+a.name+"<-"},gi={buildDuplicateFoundError(a,b){let c=a.name,d=fh(b),e=d.idx,f=eW(d),g=d instanceof eF?d.terminalType.name:d instanceof ew?d.nonTerminalName:"",h=`->${f}${e>0?e:""}<- ${g?`with argument: ->${g}<-`:""}
                  appears more than once (${b.length} times) in the top level rule: ->${c}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return(h=h.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:a=>`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${a.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(a){let b=(0,d2.map)(a.prefixPath,a=>f3(a)).join(", "),c=0===a.alternation.idx?"":a.alternation.idx;return`Ambiguous alternatives: <${a.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${c}> inside <${a.topLevelRule.name}> Rule,
<${b}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(a){let b=(0,d2.map)(a.prefixPath,a=>f3(a)).join(", "),c=0===a.alternation.idx?"":a.alternation.idx,d=`Ambiguous Alternatives Detected: <${a.ambiguityIndices.join(" ,")}> in <OR${c}> inside <${a.topLevelRule.name}> Rule,
<${b}> may appears as a prefix path in all these alternatives.
`;return d+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
`+"For Further details."},buildEmptyRepetitionError(a){let b=eW(a.repetition);return 0!==a.repetition.idx&&(b+=a.repetition.idx),`The repetition <${b}> within Rule <${a.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError:a=>"deprecated",buildEmptyAlternationError:a=>`Ambiguous empty alternative: <${a.emptyChoiceIdx+1}> in <OR${a.alternation.idx}> inside <${a.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`,buildTooManyAlternativesError:a=>`An Alternation cannot have more than 256 alternatives:
<OR${a.alternation.idx}> inside <${a.topLevelRule.name}> Rule.
 has ${a.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(a){let b=a.topLevelRule.name,c=(0,d2.map)(a.leftRecursionPath,a=>a.name),d=`${b} --> ${c.concat([b]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${b}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${d}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:a=>"deprecated",buildDuplicateRuleNameError(a){let b;return b=a.topLevelRule instanceof ex?a.topLevelRule.name:a.topLevelRule,`Duplicate definition, rule: ->${b}<- is already defined in the grammar: ->${a.grammarName}<-`}};class gj extends eG{constructor(a,b){super(),this.nameToTopRule=a,this.errMsgProvider=b,this.errors=[]}resolveRefs(){(0,d_.forEach)((0,d3.values)(this.nameToTopRule),a=>{this.currTopLevel=a,a.accept(this)})}visitNonTerminal(a){let b=this.nameToTopRule[a.nonTerminalName];if(b)a.referencedRule=b;else{let b=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,a);this.errors.push({message:b,type:cl.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:a.nonTerminalName})}}}let gk=function(a,b,c){var d=null==a?0:a.length;return d?d8(a,0,(b=d-(b=c||void 0===b?1:(0,d9.default)(b)))<0?0:b):[]};var gl=a.i(29699);let gm=function(a,b){return(0,fb.default)((0,gl.default)(a,b),1)};var gn=a.i(47968);let go=function(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d},gp=function(a,b,c,d){return(0,eI.default)(a,function(a,e,f){b(d,a,c(a),f)}),d};var gq=Object.prototype.hasOwnProperty,gr=(bc=function(a,b,c){gq.call(a,c)?a[c].push(b):(0,gn.default)(a,c,[b])},function(a,b){return((0,eK.default)(a)?go:gp)(a,bc,(0,er.default)(b,2),{})});class gs extends eX{constructor(a,b){super(),this.topProd=a,this.path=b,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,d$.clone)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,d$.clone)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(a,b=[]){this.found||super.walk(a,b)}walkProdRef(a,b,c){if(a.referencedRule.name===this.nextProductionName&&a.idx===this.nextProductionOccurrence){let d=b.concat(c);this.updateExpectedNext(),this.walk(a.referencedRule,d)}}updateExpectedNext(){(0,d1.isEmpty)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class gt extends gs{constructor(a,b){super(a,b),this.path=b,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(a,b,c){if(this.isAtEndOfPath&&a.terminalType.name===this.nextTerminalName&&a.idx===this.nextTerminalOccurrence&&!this.found){let a=new ey({definition:b.concat(c)});this.possibleTokTypes=e0(a),this.found=!0}}}class gu extends eX{constructor(a,b){super(),this.topRule=a,this.occurrence=b,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class gv extends gu{walkMany(a,b,c){if(a.idx===this.occurrence){let a=fh(b.concat(c));this.result.isEndOfRule=void 0===a,a instanceof eF&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkMany(a,b,c)}}class gw extends gu{walkManySep(a,b,c){if(a.idx===this.occurrence){let a=fh(b.concat(c));this.result.isEndOfRule=void 0===a,a instanceof eF&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkManySep(a,b,c)}}class gx extends gu{walkAtLeastOne(a,b,c){if(a.idx===this.occurrence){let a=fh(b.concat(c));this.result.isEndOfRule=void 0===a,a instanceof eF&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOne(a,b,c)}}class gy extends gu{walkAtLeastOneSep(a,b,c){if(a.idx===this.occurrence){let a=fh(b.concat(c));this.result.isEndOfRule=void 0===a,a instanceof eF&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else super.walkAtLeastOneSep(a,b,c)}}function gz(a,b,c=[]){c=(0,d$.clone)(c);let d=[],e=0;function f(f){let g=gz(f.concat(ea(a,e+1)),b,c);return d.concat(g)}for(;c.length<b&&e<a.length;){let b=a[e];if(b instanceof ey)return f(b.definition);if(b instanceof ew)return f(b.definition);if(b instanceof ez)d=f(b.definition);else if(b instanceof eA)return f(b.definition.concat([new eC({definition:b.definition})]));else if(b instanceof eB)return f([new ey({definition:b.definition}),new eC({definition:[new eF({terminalType:b.separator})].concat(b.definition)})]);else if(b instanceof eD)d=f(b.definition.concat([new eC({definition:[new eF({terminalType:b.separator})].concat(b.definition)})]));else if(b instanceof eC)d=f(b.definition.concat([new eC({definition:b.definition})]));else if(b instanceof eE)return(0,d_.forEach)(b.definition,a=>{!1===(0,d1.isEmpty)(a.definition)&&(d=f(a.definition))}),d;else if(b instanceof eF)c.push(b.terminalType);else throw Error("non exhaustive match");e++}return d.push({partialPath:c,suffixDef:ea(a,e)}),d}function gA(a,b,c,d){let e="EXIT_NONE_TERMINAL",f=[e],g="EXIT_ALTERNATIVE",h=!1,i=b.length,j=i-d-1,k=[],l=[];for(l.push({idx:-1,def:a,ruleStack:[],occurrenceStack:[]});!(0,d1.isEmpty)(l);){let a=l.pop();if(a===g){h&&(0,fS.last)(l).idx<=j&&l.pop();continue}let d=a.def,m=a.idx,n=a.ruleStack,o=a.occurrenceStack;if((0,d1.isEmpty)(d))continue;let p=d[0];if(p===e){let a={idx:m,def:ea(d),ruleStack:gk(n),occurrenceStack:gk(o)};l.push(a)}else if(p instanceof eF)if(m<i-1){let a=m+1;if(c(b[a],p.terminalType)){let b={idx:a,def:ea(d),ruleStack:n,occurrenceStack:o};l.push(b)}}else if(m===i-1)k.push({nextTokenType:p.terminalType,nextTokenOccurrence:p.idx,ruleStack:n,occurrenceStack:o}),h=!0;else throw Error("non exhaustive match");else if(p instanceof ew){let a=(0,d$.clone)(n);a.push(p.nonTerminalName);let b=(0,d$.clone)(o);b.push(p.idx);let c={idx:m,def:p.definition.concat(f,ea(d)),ruleStack:a,occurrenceStack:b};l.push(c)}else if(p instanceof ez){let a={idx:m,def:ea(d),ruleStack:n,occurrenceStack:o};l.push(a),l.push(g);let b={idx:m,def:p.definition.concat(ea(d)),ruleStack:n,occurrenceStack:o};l.push(b)}else if(p instanceof eA){let a=new eC({definition:p.definition,idx:p.idx}),b={idx:m,def:p.definition.concat([a],ea(d)),ruleStack:n,occurrenceStack:o};l.push(b)}else if(p instanceof eB){let a=new eC({definition:[new eF({terminalType:p.separator})].concat(p.definition),idx:p.idx}),b={idx:m,def:p.definition.concat([a],ea(d)),ruleStack:n,occurrenceStack:o};l.push(b)}else if(p instanceof eD){let a={idx:m,def:ea(d),ruleStack:n,occurrenceStack:o};l.push(a),l.push(g);let b=new eC({definition:[new eF({terminalType:p.separator})].concat(p.definition),idx:p.idx}),c={idx:m,def:p.definition.concat([b],ea(d)),ruleStack:n,occurrenceStack:o};l.push(c)}else if(p instanceof eC){let a={idx:m,def:ea(d),ruleStack:n,occurrenceStack:o};l.push(a),l.push(g);let b=new eC({definition:p.definition,idx:p.idx}),c={idx:m,def:p.definition.concat([b],ea(d)),ruleStack:n,occurrenceStack:o};l.push(c)}else if(p instanceof eE)for(let a=p.definition.length-1;a>=0;a--){let b={idx:m,def:p.definition[a].definition.concat(ea(d)),ruleStack:n,occurrenceStack:o};l.push(b),l.push(g)}else if(p instanceof ey)l.push({idx:m,def:p.definition.concat(ea(d)),ruleStack:n,occurrenceStack:o});else if(p instanceof ex)l.push(function(a,b,c,d){let e=(0,d$.clone)(c);e.push(a.name);let f=(0,d$.clone)(d);return f.push(1),{idx:b,def:a.definition,ruleStack:e,occurrenceStack:f}}(p,m,n,o));else throw Error("non exhaustive match")}return k}function gB(a){if(a instanceof ez||"Option"===a)return cj.OPTION;if(a instanceof eC||"Repetition"===a)return cj.REPETITION;if(a instanceof eA||"RepetitionMandatory"===a)return cj.REPETITION_MANDATORY;if(a instanceof eB||"RepetitionMandatoryWithSeparator"===a)return cj.REPETITION_MANDATORY_WITH_SEPARATOR;if(a instanceof eD||"RepetitionWithSeparator"===a)return cj.REPETITION_WITH_SEPARATOR;else if(a instanceof eE||"Alternation"===a)return cj.ALTERNATION;else throw Error("non exhaustive match")}function gC(a){let{occurrence:b,rule:c,prodType:d,maxLookahead:e}=a,f=gB(d);return f===cj.ALTERNATION?gK(b,c,e):gL(b,c,f,e)}function gD(a,b,c,d){let e=a.length,f=eM(a,a=>eM(a,a=>1===a.length));if(b)return function(b){let d=(0,d2.map)(b,a=>a.GATE);for(let b=0;b<e;b++){let e=a[b],f=e.length,g=d[b];if(void 0===g||!1!==g.call(this))c:for(let a=0;a<f;a++){let d=e[a],f=d.length;for(let a=0;a<f;a++)if(!1===c(this.LA(a+1),d[a]))continue c;return b}}};if(!f||d)return function(){for(let b=0;b<e;b++){let d=a[b],e=d.length;c:for(let a=0;a<e;a++){let e=d[a],f=e.length;for(let a=0;a<f;a++)if(!1===c(this.LA(a+1),e[a]))continue c;return b}}};{let b=(0,d2.map)(a,a=>(0,eZ.flatten)(a)),c=(0,fn.reduce)(b,(a,b,c)=>((0,d_.forEach)(b,b=>{(0,d0.has)(a,b.tokenTypeIdx)||(a[b.tokenTypeIdx]=c),(0,d_.forEach)(b.categoryMatches,b=>{(0,d0.has)(a,b)||(a[b]=c)})}),a),{});return function(){return c[this.LA(1).tokenTypeIdx]}}}function gE(a,b,c){let d=eM(a,a=>1===a.length),e=a.length;if(!d||c)return function(){c:for(let c=0;c<e;c++){let d=a[c],e=d.length;for(let a=0;a<e;a++)if(!1===b(this.LA(a+1),d[a]))continue c;return!0}return!1};{let b=(0,eZ.flatten)(a);if(1===b.length&&(0,d1.isEmpty)(b[0].categoryMatches)){let a=b[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}{let a=(0,fn.reduce)(b,(a,b,c)=>(a[b.tokenTypeIdx]=!0,(0,d_.forEach)(b.categoryMatches,b=>{a[b]=!0}),a),[]);return function(){return!0===a[this.LA(1).tokenTypeIdx]}}}}(bd=cj||(cj={}))[bd.OPTION=0]="OPTION",bd[bd.REPETITION=1]="REPETITION",bd[bd.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",bd[bd.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",bd[bd.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",bd[bd.ALTERNATION=5]="ALTERNATION";class gF extends eX{constructor(a,b,c){super(),this.topProd=a,this.targetOccurrence=b,this.targetProdType=c}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(a,b,c,d){return a.idx===this.targetOccurrence&&this.targetProdType===b&&(this.restDef=c.concat(d),!0)}walkOption(a,b,c){this.checkIsTarget(a,cj.OPTION,b,c)||super.walkOption(a,b,c)}walkAtLeastOne(a,b,c){this.checkIsTarget(a,cj.REPETITION_MANDATORY,b,c)||super.walkOption(a,b,c)}walkAtLeastOneSep(a,b,c){this.checkIsTarget(a,cj.REPETITION_MANDATORY_WITH_SEPARATOR,b,c)||super.walkOption(a,b,c)}walkMany(a,b,c){this.checkIsTarget(a,cj.REPETITION,b,c)||super.walkOption(a,b,c)}walkManySep(a,b,c){this.checkIsTarget(a,cj.REPETITION_WITH_SEPARATOR,b,c)||super.walkOption(a,b,c)}}class gG extends eG{constructor(a,b,c){super(),this.targetOccurrence=a,this.targetProdType=b,this.targetRef=c,this.result=[]}checkIsTarget(a,b){a.idx===this.targetOccurrence&&this.targetProdType===b&&(void 0===this.targetRef||a===this.targetRef)&&(this.result=a.definition)}visitOption(a){this.checkIsTarget(a,cj.OPTION)}visitRepetition(a){this.checkIsTarget(a,cj.REPETITION)}visitRepetitionMandatory(a){this.checkIsTarget(a,cj.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(a){this.checkIsTarget(a,cj.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(a){this.checkIsTarget(a,cj.REPETITION_WITH_SEPARATOR)}visitAlternation(a){this.checkIsTarget(a,cj.ALTERNATION)}}function gH(a){let b=Array(a);for(let c=0;c<a;c++)b[c]=[];return b}function gI(a){let b=[""];for(let c=0;c<a.length;c++){let d=a[c],e=[];for(let a=0;a<b.length;a++){let c=b[a];e.push(c+"_"+d.tokenTypeIdx);for(let a=0;a<d.categoryMatches.length;a++){let b="_"+d.categoryMatches[a];e.push(c+b)}}b=e}return b}function gJ(a,b){let c=(0,d2.map)(a,a=>gz([a],1)),d=gH(c.length),e=(0,d2.map)(c,a=>{let b={};return(0,d_.forEach)(a,a=>{let c=gI(a.partialPath);(0,d_.forEach)(c,a=>{b[a]=!0})}),b}),f=c;for(let a=1;a<=b;a++){let c=f;f=gH(c.length);for(let g=0;g<c.length;g++){let h=c[g];for(let c=0;c<h.length;c++){let i=h[c].partialPath,j=h[c].suffixDef,k=gI(i);if(function(a,b,c){for(let d=0;d<a.length;d++){if(d===c)continue;let e=a[d];for(let a=0;a<b.length;a++)if(!0===e[b[a]])return!1}return!0}(e,k,g)||(0,d1.isEmpty)(j)||i.length===b){let a=d[g];if(!1===gM(a,i)){a.push(i);for(let a=0;a<k.length;a++){let b=k[a];e[g][b]=!0}}}else{let b=gz(j,a+1,i);f[g]=f[g].concat(b),(0,d_.forEach)(b,a=>{let b=gI(a.partialPath);(0,d_.forEach)(b,a=>{e[g][a]=!0})})}}}}return d}function gK(a,b,c,d){let e=new gG(a,cj.ALTERNATION,d);return b.accept(e),gJ(e.result,c)}function gL(a,b,c,d){let e=new gG(a,c);b.accept(e);let f=e.result,g=new gF(b,a,c).startWalking();return gJ([new ey({definition:f}),new ey({definition:g})],d)}function gM(a,b){d:for(let c=0;c<a.length;c++){let d=a[c];if(d.length===b.length){for(let a=0;a<d.length;a++){let c=b[a],e=d[a];if(!1==(c===e||void 0!==e.categoryMatchesMap[c.tokenTypeIdx]))continue d}return!0}}return!1}function gN(a){return eM(a,a=>eM(a,a=>eM(a,a=>(0,d1.isEmpty)(a.categoryMatches))))}function gO(a){return`${eW(a)}_#_${a.idx}_#_${gP(a)}`}function gP(a){return a instanceof eF?a.terminalType.name:a instanceof ew?a.nonTerminalName:""}class gQ extends eG{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(a){this.allProductions.push(a)}visitOption(a){this.allProductions.push(a)}visitRepetitionWithSeparator(a){this.allProductions.push(a)}visitRepetitionMandatory(a){this.allProductions.push(a)}visitRepetitionMandatoryWithSeparator(a){this.allProductions.push(a)}visitRepetition(a){this.allProductions.push(a)}visitAlternation(a){this.allProductions.push(a)}visitTerminal(a){this.allProductions.push(a)}}class gR extends eG{constructor(){super(...arguments),this.alternations=[]}visitAlternation(a){this.alternations.push(a)}}class gS extends eG{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(a){this.allProductions.push(a)}visitRepetitionMandatory(a){this.allProductions.push(a)}visitRepetitionMandatoryWithSeparator(a){this.allProductions.push(a)}visitRepetition(a){this.allProductions.push(a)}}let gT="MismatchedTokenException",gU="NoViableAltException",gV="EarlyExitException",gW="NotAllInputParsedException",gX=[gT,gU,gV,gW];function gY(a){return eR(gX,a.name)}Object.freeze(gX);class gZ extends Error{constructor(a,b){super(a),this.token=b,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class g$ extends gZ{constructor(a,b,c){super(a,b),this.previousToken=c,this.name=gT}}class g_ extends gZ{constructor(a,b,c){super(a,b),this.previousToken=c,this.name=gU}}class g0 extends gZ{constructor(a,b){super(a,b),this.name=gW}}class g1 extends gZ{constructor(a,b,c){super(a,b),this.previousToken=c,this.name=gV}}let g2={},g3="InRuleRecoveryException";class g4 extends Error{constructor(a){super(a),this.name=g3}}function g5(a,b,c,d,e,f,g){let h=this.getKeyForAutomaticLookahead(d,e),i=this.firstAfterRepMap[h];if(void 0===i){let a=this.getCurrRuleFullName();i=new f(this.getGAstProductions()[a],e).startWalking(),this.firstAfterRepMap[h]=i}let j=i.token,k=i.occurrence,l=i.isEndOfRule;1===this.RULE_STACK.length&&l&&void 0===j&&(j=ge,k=1),void 0!==j&&void 0!==k&&this.shouldInRepetitionRecoveryBeTried(j,k,g)&&this.tryInRepetitionRecovery(a,b,c,j)}class g6{constructor(a){var b;this.maxLookahead=null!=(b=null==a?void 0:a.maxLookahead)?b:hm.maxLookahead}validate(a){let b=this.validateNoLeftRecursion(a.rules);return(0,d1.isEmpty)(b)?[...b,...this.validateEmptyOrAlternatives(a.rules),...this.validateAmbiguousAlternationAlternatives(a.rules,this.maxLookahead),...this.validateSomeNonEmptyLookaheadPath(a.rules,this.maxLookahead)]:b}validateNoLeftRecursion(a){return gm(a,a=>(function a(b,c,d,e=[]){let f=[],g=function a(b){let c=[];if((0,d1.isEmpty)(b))return c;let d=fh(b);if(d instanceof ew)c.push(d.referencedRule);else if(d instanceof ey||d instanceof ez||d instanceof eA||d instanceof eB||d instanceof eD||d instanceof eC)c=c.concat(a(d.definition));else if(d instanceof eE)c=(0,eZ.flatten)((0,d2.map)(d.definition,b=>a(b.definition)));else if(d instanceof eF);else throw Error("non exhaustive match");let e=eV(d),f=b.length>1;if(!e||!f)return c;{let d=ea(b);return c.concat(a(d))}}(c.definition);if((0,d1.isEmpty)(g))return[];{let c=b.name;eR(g,b)&&f.push({message:d.buildLeftRecursionError({topLevelRule:b,leftRecursionPath:e}),type:cl.LEFT_RECURSION,ruleName:c});let h=gm(fe(g,e.concat([b])),c=>{let f=(0,d$.clone)(e);return f.push(c),a(b,c,d,f)});return f.concat(h)}})(a,a,gi))}validateEmptyOrAlternatives(a){return gm(a,a=>{let b;return b=new gR,a.accept(b),gm(b.alternations,b=>gm(gk(b.definition),(c,d)=>{let e=gA([c],[],fU,1);return(0,d1.isEmpty)(e)?[{message:gi.buildEmptyAlternationError({topLevelRule:a,alternation:b,emptyChoiceIdx:d}),type:cl.NONE_LAST_EMPTY_ALT,ruleName:a.name,occurrence:b.idx,alternative:d+1}]:[]}))})}validateAmbiguousAlternationAlternatives(a,b){return gm(a,a=>{let c;return c=new gR,a.accept(c),gm(fr(c.alternations,a=>!0===a.ignoreAmbiguities),c=>{var d,e,f,g,h,i,j,k;let l,m,n,o=gK(c.idx,a,c.maxLookahead||b,c),p=(d=o,e=c,f=a,g=gi,l=[],m=(0,fn.reduce)(d,(a,b,c)=>(!0===e.definition[c].ignoreAmbiguities||(0,d_.forEach)(b,b=>{let f=[c];(0,d_.forEach)(d,(a,d)=>{c!==d&&gM(a,b)&&!0!==e.definition[d].ignoreAmbiguities&&f.push(d)}),f.length>1&&!gM(l,b)&&(l.push(b),a.push({alts:f,path:b}))}),a),[]),(0,d2.map)(m,a=>{let b=(0,d2.map)(a.alts,a=>a+1);return{message:g.buildAlternationAmbiguityError({topLevelRule:f,alternation:e,ambiguityIndices:b,prefixPath:a.path}),type:cl.AMBIGUOUS_ALTS,ruleName:f.name,occurrence:e.idx,alternatives:a.alts}})),q=(h=o,i=c,j=a,k=gi,e4(gm(n=(0,fn.reduce)(h,(a,b,c)=>{let d=(0,d2.map)(b,a=>({idx:c,path:a}));return a.concat(d)},[]),a=>{if(!0===i.definition[a.idx].ignoreAmbiguities)return[];let b=a.idx,c=a.path,d=(0,ff.filter)(n,a=>{var d;return!0!==i.definition[a.idx].ignoreAmbiguities&&a.idx<b&&(d=a.path,d.length<c.length&&eM(d,(a,b)=>{let d=c[b];return a===d||d.categoryMatchesMap[a.tokenTypeIdx]}))});return(0,d2.map)(d,a=>{let c=[a.idx+1,b+1],d=0===i.idx?"":i.idx;return{message:k.buildAlternationPrefixAmbiguityError({topLevelRule:j,alternation:i,ambiguityIndices:c,prefixPath:a.path}),type:cl.AMBIGUOUS_PREFIX_ALTS,ruleName:j.name,occurrence:d,alternatives:c}})})));return p.concat(q)})})}validateSomeNonEmptyLookaheadPath(a,b){let c;return c=[],(0,d_.forEach)(a,a=>{let d=new gS;a.accept(d);let e=d.allProductions;(0,d_.forEach)(e,d=>{let e=gB(d),f=d.maxLookahead||b,g=gL(d.idx,a,e,f)[0];if((0,d1.isEmpty)((0,eZ.flatten)(g))){let b=gi.buildEmptyRepetitionError({topLevelRule:a,repetition:d});c.push({message:b,type:cl.NO_NON_EMPTY_LOOKAHEAD,ruleName:a.name})}})}),c}buildLookaheadForAlternation(a){var b,c,d,e,f;let g,h;return b=a.prodOccurrence,c=a.rule,d=a.maxLookahead,e=a.hasPredicates,f=a.dynamicTokensEnabled,h=gN(g=gK(b,c,d))?fV:fU,gD(g,e,h,f)}buildLookaheadForOptional(a){var b,c,d,e,f;let g,h;return b=a.prodOccurrence,c=a.rule,d=a.maxLookahead,e=a.dynamicTokensEnabled,f=gB(a.prodType),h=gN(g=gL(b,c,f,d))?fV:fU,gE(g[0],h,e)}}let g7=new class extends eG{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(a){this.dslMethods.option.push(a)}visitRepetitionWithSeparator(a){this.dslMethods.repetitionWithSeparator.push(a)}visitRepetitionMandatory(a){this.dslMethods.repetitionMandatory.push(a)}visitRepetitionMandatoryWithSeparator(a){this.dslMethods.repetitionMandatoryWithSeparator.push(a)}visitRepetition(a){this.dslMethods.repetition.push(a)}visitAlternation(a){this.dslMethods.alternation.push(a)}};function g8(a,b){!0===isNaN(a.startOffset)?(a.startOffset=b.startOffset,a.endOffset=b.endOffset):a.endOffset<b.endOffset==!0&&(a.endOffset=b.endOffset)}function g9(a,b){!0===isNaN(a.startOffset)?(a.startOffset=b.startOffset,a.startColumn=b.startColumn,a.startLine=b.startLine,a.endOffset=b.endOffset,a.endColumn=b.endColumn,a.endLine=b.endLine):a.endOffset<b.endOffset==!0&&(a.endOffset=b.endOffset,a.endColumn=b.endColumn,a.endLine=b.endLine)}var fT=fT;function ha(a,b){Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,writable:!1,value:b})}function hb(a,b){let c=(0,fm.keys)(a),d=c.length;for(let e=0;e<d;e++){let d=a[c[e]],f=d.length;for(let a=0;a<f;a++){let c=d[a];void 0===c.tokenTypeIdx&&this[c.name](c.children,b)}}}(be=ck||(ck={}))[be.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",be[be.MISSING_METHOD=1]="MISSING_METHOD";var hc=a.i(38225),hc=hc;let hd={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(hd);let he=gd({name:"RECORDING_PHASE_TOKEN",pattern:f2.NA});fY([he]);let hf=gf(he,"This IToken indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(hf);let hg={name:"This CSTNode indicates the Parser is in Recording Phase\n	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function hh(a,b,c,d=!1){hk(c);let e=(0,fS.last)(this.recordingProdStack),f=(0,fl.isFunction)(b)?b:b.DEF,g=new a({definition:[],idx:c});return d&&(g.separator=b.SEP),(0,d0.has)(b,"MAX_LOOKAHEAD")&&(g.maxLookahead=b.MAX_LOOKAHEAD),this.recordingProdStack.push(g),f.call(this),e.definition.push(g),this.recordingProdStack.pop(),hd}function hi(a,b){hk(b);let c=(0,fS.last)(this.recordingProdStack),d=!1===(0,fk.isArray)(a),e=!1===d?a:a.DEF,f=new eE({definition:[],idx:b,ignoreAmbiguities:d&&!0===a.IGNORE_AMBIGUITIES});return(0,d0.has)(a,"MAX_LOOKAHEAD")&&(f.maxLookahead=a.MAX_LOOKAHEAD),f.hasPredicates=eU(e,a=>(0,fl.isFunction)(a.GATE)),c.definition.push(f),(0,d_.forEach)(e,a=>{let b=new ey({definition:[]});f.definition.push(b),(0,d0.has)(a,"IGNORE_AMBIGUITIES")?b.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:(0,d0.has)(a,"GATE")&&(b.ignoreAmbiguities=!0),this.recordingProdStack.push(b),a.ALT.call(this),this.recordingProdStack.pop()}),hd}function hj(a){return 0===a?"":`${a}`}function hk(a){if(a<0||a>255){let b=Error(`Invalid DSL Method idx value: <${a}>
	Idx value must be a none negative value smaller than ${256}`);throw b.KNOWN_RECORDER_ERROR=!0,b}}let hl=gf(ge,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(hl);let hm=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:gg,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),hn=Object.freeze({recoveryValueFunc:()=>void 0,resyncEnabled:!0});function ho(a){return function(){return a}}(bf=cl||(cl={}))[bf.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",bf[bf.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",bf[bf.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",bf[bf.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",bf[bf.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",bf[bf.LEFT_RECURSION=5]="LEFT_RECURSION",bf[bf.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",bf[bf.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",bf[bf.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",bf[bf.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",bf[bf.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",bf[bf.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",bf[bf.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",bf[bf.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION";class hp{static performSelfAnalysis(a){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let a;this.selfAnalysisDone=!0;let b=this.className;this.TRACE_INIT("toFastProps",()=>{d7(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),(0,d_.forEach)(this.definedRulesNames,a=>{let b,c=this[a].originalGrammarAction;this.TRACE_INIT(`${a} Rule`,()=>{b=this.topLevelRuleRecord(a,c)}),this.gastProductionsCache[a]=b})}finally{this.disableRecording()}});let c=[];if(this.TRACE_INIT("Grammar Resolving",()=>{var a;let b,d,e;a={rules:(0,d3.values)(this.gastProductionsCache)},d=(0,e5.defaults)(a,{errMsgProvider:gh}),e={},(0,d_.forEach)(a.rules,a=>{e[a.name]=a}),(b=new gj(e,d.errMsgProvider)).resolveRefs(),c=b.errors,this.definitionErrors=this.definitionErrors.concat(c)}),this.TRACE_INIT("Grammar Validations",()=>{if((0,d1.isEmpty)(c)&&!1===this.skipValidations){var a,d,e,f,g,h,i,j,k;let c,l,m,n,o,p,q,r=(a={rules:(0,d3.values)(this.gastProductionsCache),tokenTypes:(0,d3.values)(this.tokensMap),errMsgProvider:gi,grammarName:b},d=(a=(0,e5.defaults)(a,{errMsgProvider:gi})).rules,e=a.tokenTypes,f=a.errMsgProvider,g=a.grammarName,m=gm(d,a=>{var b,c;let d,e;return b=a,c=f,d=new gQ,b.accept(d),e=eu(gr(d.allProductions,gO),a=>a.length>1),(0,d2.map)((0,d3.values)(e),a=>{let d=fh(a),e=c.buildDuplicateFoundError(b,a),f=eW(d),g={message:e,type:cl.DUPLICATE_PRODUCTIONS,ruleName:b.name,dslName:f,occurrence:d.idx},h=gP(d);return h&&(g.parameter=h),g})}),i=d,j=e,k=f,c=[],l=(0,d2.map)(j,a=>a.name),(0,d_.forEach)(i,a=>{let b=a.name;if(eR(l,b)){let d=k.buildNamespaceConflictError(a);c.push({message:d,type:cl.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:b})}}),n=c,o=gm(d,a=>{var b,c;let d;return b=a,c=f,d=new gR,b.accept(d),gm(d.alternations,a=>a.definition.length>255?[{message:c.buildTooManyAlternativesError({topLevelRule:b,alternation:a}),type:cl.TOO_MANY_ALTS,ruleName:b.name,occurrence:a.idx}]:[])}),p=gm(d,a=>(function(a,b,c,d){let e=[];if((0,fn.reduce)(b,(b,c)=>c.name===a.name?b+1:b,0)>1){let b=d.buildDuplicateRuleNameError({topLevelRule:a,grammarName:c});e.push({message:b,type:cl.DUPLICATE_RULE_NAME,ruleName:a.name})}return e})(a,d,g,f)),m.concat(n,o,p)),s=(q=(h={lookaheadStrategy:this.lookaheadStrategy,rules:(0,d3.values)(this.gastProductionsCache),tokenTypes:(0,d3.values)(this.tokensMap),grammarName:b}).lookaheadStrategy.validate({rules:h.rules,tokenTypes:h.tokenTypes,grammarName:h.grammarName}),(0,d2.map)(q,a=>Object.assign({type:cl.CUSTOM_LOOKAHEAD_VALIDATION},a)));this.definitionErrors=this.definitionErrors.concat(r,s)}}),(0,d1.isEmpty)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{var a;let b,c=(a=(0,d3.values)(this.gastProductionsCache),b={},(0,d_.forEach)(a,a=>{ei(b,new e2(a).startWalking())}),b);this.resyncFollows=c}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var a,b;null==(b=(a=this.lookaheadStrategy).initialize)||b.call(a,{rules:(0,d3.values)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,d3.values)(this.gastProductionsCache))})),!hp.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,d1.isEmpty)(this.definitionErrors))throw a=(0,d2.map)(this.definitionErrors,a=>a.message),Error(`Parser Definition Errors detected:
 ${a.join("\n-------------------------------\n")}`)})}constructor(a,b){if(this.definitionErrors=[],this.selfAnalysisDone=!1,this.initErrorHandler(b),this.initLexerAdapter(),this.initLooksAhead(b),this.initRecognizerEngine(a,b),this.initRecoverable(b),this.initTreeBuilder(b),this.initContentAssist(),this.initGastRecorder(b),this.initPerformanceTracer(b),(0,d0.has)(b,"ignoredIssues"))throw Error("The <ignoredIssues> IParserConfig property has been deprecated.\n	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n	For further details.");this.skipValidations=(0,d0.has)(b,"skipValidations")?b.skipValidations:hm.skipValidations}}hp.DEFER_DEFINITION_ERRORS_HANDLING=!1,[class{initRecoverable(a){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,d0.has)(a,"recoveryEnabled")?a.recoveryEnabled:hm.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=g5)}getTokenToInsert(a){let b=gf(a,"",NaN,NaN,NaN,NaN,NaN,NaN);return b.isInsertedInRecovery=!0,b}canTokenTypeBeInsertedInRecovery(a){return!0}canTokenTypeBeDeletedInRecovery(a){return!0}tryInRepetitionRecovery(a,b,c,d){let e=this.findReSyncTokenType(),f=this.exportLexerState(),g=[],h=!1,i=this.LA(1),j=this.LA(1),k=()=>{let a=this.LA(0),b=new g$(this.errorMessageProvider.buildMismatchTokenMessage({expected:d,actual:i,previous:a,ruleName:this.getCurrRuleFullName()}),i,this.LA(0));b.resyncedTokens=gk(g),this.SAVE_ERROR(b)};for(;!h;)if(this.tokenMatcher(j,d))return void k();else if(c.call(this)){k(),a.apply(this,b);return}else this.tokenMatcher(j,e)?h=!0:(j=this.SKIP_TOKEN(),this.addToResyncTokens(j,g));this.importLexerState(f)}shouldInRepetitionRecoveryBeTried(a,b,c){return!(!1===c||this.tokenMatcher(this.LA(1),a)||this.isBackTracking()||this.canPerformInRuleRecovery(a,this.getFollowsForInRuleRecovery(a,b)))}getFollowsForInRuleRecovery(a,b){let c=this.getCurrentGrammarPath(a,b);return this.getNextPossibleTokenTypes(c)}tryInRuleRecovery(a,b){if(this.canRecoverWithSingleTokenInsertion(a,b))return this.getTokenToInsert(a);if(this.canRecoverWithSingleTokenDeletion(a)){let a=this.SKIP_TOKEN();return this.consumeToken(),a}throw new g4("sad sad panda")}canPerformInRuleRecovery(a,b){return this.canRecoverWithSingleTokenInsertion(a,b)||this.canRecoverWithSingleTokenDeletion(a)}canRecoverWithSingleTokenInsertion(a,b){if(!this.canTokenTypeBeInsertedInRecovery(a)||(0,d1.isEmpty)(b))return!1;let c=this.LA(1);return void 0!==(0,fg.find)(b,a=>this.tokenMatcher(c,a))}canRecoverWithSingleTokenDeletion(a){return!!this.canTokenTypeBeDeletedInRecovery(a)&&this.tokenMatcher(this.LA(2),a)}isInCurrentRuleReSyncSet(a){let b=this.getCurrFollowKey();return eR(this.getFollowSetFromFollowKey(b),a)}findReSyncTokenType(){let a=this.flattenFollowSet(),b=this.LA(1),c=2;for(;;){let d=(0,fg.find)(a,a=>fU(b,a));if(void 0!==d)return d;b=this.LA(c),c++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return g2;let a=this.getLastExplicitRuleShortName(),b=this.getLastExplicitRuleOccurrenceIndex(),c=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(a),idxInCallingRule:b,inRule:this.shortRuleNameToFullName(c)}}buildFullFollowKeyStack(){let a=this.RULE_STACK,b=this.RULE_OCCURRENCE_STACK;return(0,d2.map)(a,(c,d)=>0===d?g2:{ruleName:this.shortRuleNameToFullName(c),idxInCallingRule:b[d],inRule:this.shortRuleNameToFullName(a[d-1])})}flattenFollowSet(){let a=(0,d2.map)(this.buildFullFollowKeyStack(),a=>this.getFollowSetFromFollowKey(a));return(0,eZ.flatten)(a)}getFollowSetFromFollowKey(a){if(a===g2)return[ge];let b=a.ruleName+a.idxInCallingRule+e1+a.inRule;return this.resyncFollows[b]}addToResyncTokens(a,b){return this.tokenMatcher(a,ge)||b.push(a),b}reSyncTo(a){let b=[],c=this.LA(1);for(;!1===this.tokenMatcher(c,a);)c=this.SKIP_TOKEN(),this.addToResyncTokens(c,b);return gk(b)}attemptInRepetitionRecovery(a,b,c,d,e,f,g){}getCurrentGrammarPath(a,b){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,d$.clone)(this.RULE_OCCURRENCE_STACK),lastTok:a,lastTokOccurrence:b}}getHumanReadableRuleStack(){return(0,d2.map)(this.RULE_STACK,a=>this.shortRuleNameToFullName(a))}},class{initLooksAhead(a){this.dynamicTokensEnabled=(0,d0.has)(a,"dynamicTokensEnabled")?a.dynamicTokensEnabled:hm.dynamicTokensEnabled,this.maxLookahead=(0,d0.has)(a,"maxLookahead")?a.maxLookahead:hm.maxLookahead,this.lookaheadStrategy=(0,d0.has)(a,"lookaheadStrategy")?a.lookaheadStrategy:new g6({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(a){(0,d_.forEach)(a,a=>{this.TRACE_INIT(`${a.name} Rule Lookahead`,()=>{var b;let c,{alternation:d,repetition:e,option:f,repetitionMandatory:g,repetitionMandatoryWithSeparator:h,repetitionWithSeparator:i}=(b=a,g7.reset(),b.accept(g7),c=g7.dslMethods,g7.reset(),c);(0,d_.forEach)(d,b=>{let c=0===b.idx?"":b.idx;this.TRACE_INIT(`${eW(b)}${c}`,()=>{var c;let d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:b.idx,rule:a,maxLookahead:b.maxLookahead||this.maxLookahead,hasPredicates:b.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),e=(c=this.fullRuleNameToShort[a.name],256|b.idx|c);this.setLaFuncCache(e,d)})}),(0,d_.forEach)(e,b=>{this.computeLookaheadFunc(a,b.idx,768,"Repetition",b.maxLookahead,eW(b))}),(0,d_.forEach)(f,b=>{this.computeLookaheadFunc(a,b.idx,512,"Option",b.maxLookahead,eW(b))}),(0,d_.forEach)(g,b=>{this.computeLookaheadFunc(a,b.idx,1024,"RepetitionMandatory",b.maxLookahead,eW(b))}),(0,d_.forEach)(h,b=>{this.computeLookaheadFunc(a,b.idx,1536,"RepetitionMandatoryWithSeparator",b.maxLookahead,eW(b))}),(0,d_.forEach)(i,b=>{this.computeLookaheadFunc(a,b.idx,1280,"RepetitionWithSeparator",b.maxLookahead,eW(b))})})})}computeLookaheadFunc(a,b,c,d,e,f){this.TRACE_INIT(`${f}${0===b?"":b}`,()=>{let f=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:b,rule:a,maxLookahead:e||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:d}),g=b|c|this.fullRuleNameToShort[a.name];this.setLaFuncCache(g,f)})}getKeyForAutomaticLookahead(a,b){return b|a|this.getLastExplicitRuleShortName()}getLaFuncFromCache(a){return this.lookAheadFuncsCache.get(a)}setLaFuncCache(a,b){this.lookAheadFuncsCache.set(a,b)}},class{initTreeBuilder(a){if(this.CST_STACK=[],this.outputCst=a.outputCst,this.nodeLocationTracking=(0,d0.has)(a,"nodeLocationTracking")?a.nodeLocationTracking:hm.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=g9,this.setNodeLocationFromNode=g9,this.cstPostRule=fT.default,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=fT.default,this.setNodeLocationFromNode=fT.default,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=g8,this.setNodeLocationFromNode=g8,this.cstPostRule=fT.default,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=fT.default,this.setNodeLocationFromNode=fT.default,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=fT.default,this.setNodeLocationFromNode=fT.default,this.cstPostRule=fT.default,this.setInitialNodeLocation=fT.default;else throw Error(`Invalid <nodeLocationTracking> config option: "${a.nodeLocationTracking}"`);else this.cstInvocationStateUpdate=fT.default,this.cstFinallyStateUpdate=fT.default,this.cstPostTerminal=fT.default,this.cstPostNonTerminal=fT.default,this.cstPostRule=fT.default}setInitialNodeLocationOnlyOffsetRecovery(a){a.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(a){a.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(a){a.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(a){let b=this.LA(1);a.location={startOffset:b.startOffset,startLine:b.startLine,startColumn:b.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(a){let b={name:a,children:Object.create(null)};this.setInitialNodeLocation(b),this.CST_STACK.push(b)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(a){let b=this.LA(0),c=a.location;c.startOffset<=b.startOffset==!0?(c.endOffset=b.endOffset,c.endLine=b.endLine,c.endColumn=b.endColumn):(c.startOffset=NaN,c.startLine=NaN,c.startColumn=NaN)}cstPostRuleOnlyOffset(a){let b=this.LA(0),c=a.location;c.startOffset<=b.startOffset==!0?c.endOffset=b.endOffset:c.startOffset=NaN}cstPostTerminal(a,b){let c=this.CST_STACK[this.CST_STACK.length-1];void 0===c.children[a]?c.children[a]=[b]:c.children[a].push(b),this.setNodeLocationFromToken(c.location,b)}cstPostNonTerminal(a,b){let c=this.CST_STACK[this.CST_STACK.length-1];void 0===c.children[b]?c.children[b]=[a]:c.children[b].push(a),this.setNodeLocationFromNode(c.location,a.location)}getBaseCstVisitorConstructor(){if((0,e3.isUndefined)(this.baseCstVisitorConstructor)){var a,b;let c,d=(a=this.className,b=(0,fm.keys)(this.gastProductionsCache),ha(c=function(){},a+"BaseSemantics"),c.prototype={visit:function(a,b){if((0,fk.isArray)(a)&&(a=a[0]),!(0,e3.isUndefined)(a))return this[a.name](a.children,b)},validateVisitor:function(){var a,c,d,e;let f,g=(a=this,c=b,d=a,e=c,f=(0,ff.filter)(e,a=>!1===(0,fl.isFunction)(d[a])),e4((0,d2.map)(f,a=>({msg:`Missing visitor method: <${a}> on ${d.constructor.name} CST Visitor.`,type:ck.MISSING_METHOD,methodName:a}))));if(!(0,d1.isEmpty)(g)){let a=(0,d2.map)(g,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join("\n\n").replace(/\n/g,"\n	")}`)}}},c.prototype.constructor=c,c._RULE_NAMES=b,c);return this.baseCstVisitorConstructor=d,d}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,e3.isUndefined)(this.baseCstVisitorWithDefaultsConstructor)){var a,b,c;let d,e,f=(a=this.className,b=(0,fm.keys)(this.gastProductionsCache),c=this.getBaseCstVisitorConstructor(),ha(d=function(){},a+"BaseSemanticsWithDefaults"),e=Object.create(c.prototype),(0,d_.forEach)(b,a=>{e[a]=hb}),d.prototype=e,d.prototype.constructor=d,d);return this.baseCstVisitorWithDefaultsConstructor=f,f}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let a=this.RULE_STACK;return a[a.length-1]}getPreviousExplicitRuleShortName(){let a=this.RULE_STACK;return a[a.length-2]}getLastExplicitRuleOccurrenceIndex(){let a=this.RULE_OCCURRENCE_STACK;return a[a.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(a){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=a,this.tokVectorLength=a.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):hl}LA(a){let b=this.currIdx+a;return b<0||this.tokVectorLength<=b?hl:this.tokVector[b]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(a){this.currIdx=a}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(a,b){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=fV,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,d0.has)(b,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n	For Further details.");if((0,fk.isArray)(a)){if((0,d1.isEmpty)(a))throw Error("A Token Vocabulary cannot be empty.\n	Note that the first argument for the parser constructor\n	is no longer a Token vector (since v4.0).");if("number"==typeof a[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n	For Further details.")}if((0,fk.isArray)(a))this.tokensMap=(0,fn.reduce)(a,(a,b)=>(a[b.name]=b,a),{});else if((0,d0.has)(a,"modes")&&eM((0,eZ.flatten)((0,d3.values)(a.modes)),f_)){let b=e_((0,eZ.flatten)((0,d3.values)(a.modes)));this.tokensMap=(0,fn.reduce)(b,(a,b)=>(a[b.name]=b,a),{})}else if((0,hc.default)(a))this.tokensMap=(0,d$.clone)(a);else throw Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=ge;let c=eM((0,d0.has)(a,"modes")?(0,eZ.flatten)((0,d3.values)(a.modes)):(0,d3.values)(a),a=>(0,d1.isEmpty)(a.categoryMatches));this.tokenMatcher=c?fV:fU,fY((0,d3.values)(this.tokensMap))}defineRule(a,b,c){if(this.selfAnalysisDone)throw Error(`Grammar rule <${a}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let d=(0,d0.has)(c,"resyncEnabled")?c.resyncEnabled:hn.resyncEnabled,e=(0,d0.has)(c,"recoveryValueFunc")?c.recoveryValueFunc:hn.recoveryValueFunc,f=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[f]=a,this.fullRuleNameToShort[a]=f,Object.assign(!0===this.outputCst?function(...c){try{this.ruleInvocationStateUpdate(f,a,this.subruleIdx),b.apply(this,c);let d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(a){return this.invokeRuleCatch(a,d,e)}finally{this.ruleFinallyStateUpdate()}}:function(...c){try{return this.ruleInvocationStateUpdate(f,a,this.subruleIdx),b.apply(this,c)}catch(a){return this.invokeRuleCatch(a,d,e)}finally{this.ruleFinallyStateUpdate()}},{ruleName:a,originalGrammarAction:b})}invokeRuleCatch(a,b,c){let d=1===this.RULE_STACK.length,e=b&&!this.isBackTracking()&&this.recoveryEnabled;if(gY(a)){if(e){let b=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(b)){if(a.resyncedTokens=this.reSyncTo(b),!this.outputCst)return c(a);{let a=this.CST_STACK[this.CST_STACK.length-1];return a.recoveredNode=!0,a}}if(this.outputCst){let b=this.CST_STACK[this.CST_STACK.length-1];b.recoveredNode=!0,a.partialCstResult=b}throw a}if(d)return this.moveToTerminatedState(),c(a)}throw a}optionInternal(a,b){let c=this.getKeyForAutomaticLookahead(512,b);return this.optionInternalLogic(a,b,c)}optionInternalLogic(a,b,c){let d,e=this.getLaFuncFromCache(c);if("function"!=typeof a){d=a.DEF;let b=a.GATE;if(void 0!==b){let a=e;e=()=>b.call(this)&&a.call(this)}}else d=a;if(!0===e.call(this))return d.call(this)}atLeastOneInternal(a,b){let c=this.getKeyForAutomaticLookahead(1024,a);return this.atLeastOneInternalLogic(a,b,c)}atLeastOneInternalLogic(a,b,c){let d,e=this.getLaFuncFromCache(c);if("function"!=typeof b){d=b.DEF;let a=b.GATE;if(void 0!==a){let b=e;e=()=>a.call(this)&&b.call(this)}}else d=b;if(!0===e.call(this)){let a=this.doSingleRepetition(d);for(;!0===e.call(this)&&!0===a;)a=this.doSingleRepetition(d)}else throw this.raiseEarlyExitException(a,cj.REPETITION_MANDATORY,b.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[a,b],e,1024,a,gx)}atLeastOneSepFirstInternal(a,b){let c=this.getKeyForAutomaticLookahead(1536,a);this.atLeastOneSepFirstInternalLogic(a,b,c)}atLeastOneSepFirstInternalLogic(a,b,c){let d=b.DEF,e=b.SEP;if(!0===this.getLaFuncFromCache(c).call(this)){d.call(this);let b=()=>this.tokenMatcher(this.LA(1),e);for(;!0===this.tokenMatcher(this.LA(1),e);)this.CONSUME(e),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[a,e,b,d,gy],b,1536,a,gy)}else throw this.raiseEarlyExitException(a,cj.REPETITION_MANDATORY_WITH_SEPARATOR,b.ERR_MSG)}manyInternal(a,b){let c=this.getKeyForAutomaticLookahead(768,a);return this.manyInternalLogic(a,b,c)}manyInternalLogic(a,b,c){let d,e=this.getLaFuncFromCache(c);if("function"!=typeof b){d=b.DEF;let a=b.GATE;if(void 0!==a){let b=e;e=()=>a.call(this)&&b.call(this)}}else d=b;let f=!0;for(;!0===e.call(this)&&!0===f;)f=this.doSingleRepetition(d);this.attemptInRepetitionRecovery(this.manyInternal,[a,b],e,768,a,gv,f)}manySepFirstInternal(a,b){let c=this.getKeyForAutomaticLookahead(1280,a);this.manySepFirstInternalLogic(a,b,c)}manySepFirstInternalLogic(a,b,c){let d=b.DEF,e=b.SEP;if(!0===this.getLaFuncFromCache(c).call(this)){d.call(this);let b=()=>this.tokenMatcher(this.LA(1),e);for(;!0===this.tokenMatcher(this.LA(1),e);)this.CONSUME(e),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[a,e,b,d,gw],b,1280,a,gw)}}repetitionSepSecondInternal(a,b,c,d,e){for(;c();)this.CONSUME(b),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[a,b,c,d,e],c,1536,a,e)}doSingleRepetition(a){let b=this.getLexerPosition();return a.call(this),this.getLexerPosition()>b}orInternal(a,b){let c=this.getKeyForAutomaticLookahead(256,b),d=(0,fk.isArray)(a)?a:a.DEF,e=this.getLaFuncFromCache(c).call(this,d);if(void 0!==e)return d[e].ALT.call(this);this.raiseNoAltException(b,a.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){let a=this.LA(1),b=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:a,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new g0(b,a))}}subruleInternal(a,b,c){let d;try{let e=void 0!==c?c.ARGS:void 0;return this.subruleIdx=b,d=a.apply(this,e),this.cstPostNonTerminal(d,void 0!==c&&void 0!==c.LABEL?c.LABEL:a.ruleName),d}catch(b){throw this.subruleInternalError(b,c,a.ruleName)}}subruleInternalError(a,b,c){throw gY(a)&&void 0!==a.partialCstResult&&(this.cstPostNonTerminal(a.partialCstResult,void 0!==b&&void 0!==b.LABEL?b.LABEL:c),delete a.partialCstResult),a}consumeInternal(a,b,c){let d;try{let b=this.LA(1);!0===this.tokenMatcher(b,a)?(this.consumeToken(),d=b):this.consumeInternalError(a,b,c)}catch(c){d=this.consumeInternalRecovery(a,b,c)}return this.cstPostTerminal(void 0!==c&&void 0!==c.LABEL?c.LABEL:a.name,d),d}consumeInternalError(a,b,c){let d,e=this.LA(0);throw d=void 0!==c&&c.ERR_MSG?c.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:a,actual:b,previous:e,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new g$(d,b,e))}consumeInternalRecovery(a,b,c){if(this.recoveryEnabled&&"MismatchedTokenException"===c.name&&!this.isBackTracking()){let d=this.getFollowsForInRuleRecovery(a,b);try{return this.tryInRuleRecovery(a,d)}catch(a){if(a.name===g3)throw c;throw a}}throw c}saveRecogState(){let a=this.errors,b=(0,d$.clone)(this.RULE_STACK);return{errors:a,lexerState:this.exportLexerState(),RULE_STACK:b,CST_STACK:this.CST_STACK}}reloadRecogState(a){this.errors=a.errors,this.importLexerState(a.lexerState),this.RULE_STACK=a.RULE_STACK}ruleInvocationStateUpdate(a,b,c){this.RULE_OCCURRENCE_STACK.push(c),this.RULE_STACK.push(a),this.cstInvocationStateUpdate(b)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){let a=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[a]}shortRuleNameToFullName(a){return this.shortRuleNameToFull[a]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),ge)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(a){return a.call(this)}consume(a,b,c){return this.consumeInternal(b,a,c)}subrule(a,b,c){return this.subruleInternal(b,a,c)}option(a,b){return this.optionInternal(b,a)}or(a,b){return this.orInternal(b,a)}many(a,b){return this.manyInternal(a,b)}atLeastOne(a,b){return this.atLeastOneInternal(a,b)}CONSUME(a,b){return this.consumeInternal(a,0,b)}CONSUME1(a,b){return this.consumeInternal(a,1,b)}CONSUME2(a,b){return this.consumeInternal(a,2,b)}CONSUME3(a,b){return this.consumeInternal(a,3,b)}CONSUME4(a,b){return this.consumeInternal(a,4,b)}CONSUME5(a,b){return this.consumeInternal(a,5,b)}CONSUME6(a,b){return this.consumeInternal(a,6,b)}CONSUME7(a,b){return this.consumeInternal(a,7,b)}CONSUME8(a,b){return this.consumeInternal(a,8,b)}CONSUME9(a,b){return this.consumeInternal(a,9,b)}SUBRULE(a,b){return this.subruleInternal(a,0,b)}SUBRULE1(a,b){return this.subruleInternal(a,1,b)}SUBRULE2(a,b){return this.subruleInternal(a,2,b)}SUBRULE3(a,b){return this.subruleInternal(a,3,b)}SUBRULE4(a,b){return this.subruleInternal(a,4,b)}SUBRULE5(a,b){return this.subruleInternal(a,5,b)}SUBRULE6(a,b){return this.subruleInternal(a,6,b)}SUBRULE7(a,b){return this.subruleInternal(a,7,b)}SUBRULE8(a,b){return this.subruleInternal(a,8,b)}SUBRULE9(a,b){return this.subruleInternal(a,9,b)}OPTION(a){return this.optionInternal(a,0)}OPTION1(a){return this.optionInternal(a,1)}OPTION2(a){return this.optionInternal(a,2)}OPTION3(a){return this.optionInternal(a,3)}OPTION4(a){return this.optionInternal(a,4)}OPTION5(a){return this.optionInternal(a,5)}OPTION6(a){return this.optionInternal(a,6)}OPTION7(a){return this.optionInternal(a,7)}OPTION8(a){return this.optionInternal(a,8)}OPTION9(a){return this.optionInternal(a,9)}OR(a){return this.orInternal(a,0)}OR1(a){return this.orInternal(a,1)}OR2(a){return this.orInternal(a,2)}OR3(a){return this.orInternal(a,3)}OR4(a){return this.orInternal(a,4)}OR5(a){return this.orInternal(a,5)}OR6(a){return this.orInternal(a,6)}OR7(a){return this.orInternal(a,7)}OR8(a){return this.orInternal(a,8)}OR9(a){return this.orInternal(a,9)}MANY(a){this.manyInternal(0,a)}MANY1(a){this.manyInternal(1,a)}MANY2(a){this.manyInternal(2,a)}MANY3(a){this.manyInternal(3,a)}MANY4(a){this.manyInternal(4,a)}MANY5(a){this.manyInternal(5,a)}MANY6(a){this.manyInternal(6,a)}MANY7(a){this.manyInternal(7,a)}MANY8(a){this.manyInternal(8,a)}MANY9(a){this.manyInternal(9,a)}MANY_SEP(a){this.manySepFirstInternal(0,a)}MANY_SEP1(a){this.manySepFirstInternal(1,a)}MANY_SEP2(a){this.manySepFirstInternal(2,a)}MANY_SEP3(a){this.manySepFirstInternal(3,a)}MANY_SEP4(a){this.manySepFirstInternal(4,a)}MANY_SEP5(a){this.manySepFirstInternal(5,a)}MANY_SEP6(a){this.manySepFirstInternal(6,a)}MANY_SEP7(a){this.manySepFirstInternal(7,a)}MANY_SEP8(a){this.manySepFirstInternal(8,a)}MANY_SEP9(a){this.manySepFirstInternal(9,a)}AT_LEAST_ONE(a){this.atLeastOneInternal(0,a)}AT_LEAST_ONE1(a){return this.atLeastOneInternal(1,a)}AT_LEAST_ONE2(a){this.atLeastOneInternal(2,a)}AT_LEAST_ONE3(a){this.atLeastOneInternal(3,a)}AT_LEAST_ONE4(a){this.atLeastOneInternal(4,a)}AT_LEAST_ONE5(a){this.atLeastOneInternal(5,a)}AT_LEAST_ONE6(a){this.atLeastOneInternal(6,a)}AT_LEAST_ONE7(a){this.atLeastOneInternal(7,a)}AT_LEAST_ONE8(a){this.atLeastOneInternal(8,a)}AT_LEAST_ONE9(a){this.atLeastOneInternal(9,a)}AT_LEAST_ONE_SEP(a){this.atLeastOneSepFirstInternal(0,a)}AT_LEAST_ONE_SEP1(a){this.atLeastOneSepFirstInternal(1,a)}AT_LEAST_ONE_SEP2(a){this.atLeastOneSepFirstInternal(2,a)}AT_LEAST_ONE_SEP3(a){this.atLeastOneSepFirstInternal(3,a)}AT_LEAST_ONE_SEP4(a){this.atLeastOneSepFirstInternal(4,a)}AT_LEAST_ONE_SEP5(a){this.atLeastOneSepFirstInternal(5,a)}AT_LEAST_ONE_SEP6(a){this.atLeastOneSepFirstInternal(6,a)}AT_LEAST_ONE_SEP7(a){this.atLeastOneSepFirstInternal(7,a)}AT_LEAST_ONE_SEP8(a){this.atLeastOneSepFirstInternal(8,a)}AT_LEAST_ONE_SEP9(a){this.atLeastOneSepFirstInternal(9,a)}RULE(a,b,c=hn){if(eR(this.definedRulesNames,a)){let b={message:gi.buildDuplicateRuleNameError({topLevelRule:a,grammarName:this.className}),type:cl.DUPLICATE_RULE_NAME,ruleName:a};this.definitionErrors.push(b)}this.definedRulesNames.push(a);let d=this.defineRule(a,b,c);return this[a]=d,d}OVERRIDE_RULE(a,b,c=hn){var d,e;let f,g,h=(d=this.definedRulesNames,e=this.className,g=[],eR(d,a)||(f=`Invalid rule override, rule: ->${a}<- cannot be overridden in the grammar: ->${e}<-as it is not defined in any of the super grammars `,g.push({message:f,type:cl.INVALID_RULE_OVERRIDE,ruleName:a})),g);this.definitionErrors=this.definitionErrors.concat(h);let i=this.defineRule(a,b,c);return this[a]=i,i}BACKTRACK(a,b){return function(){this.isBackTrackingStack.push(1);let c=this.saveRecogState();try{return a.apply(this,b),!0}catch(a){if(gY(a))return!1;throw a}finally{this.reloadRecogState(c),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){var a;return a=(0,d3.values)(this.gastProductionsCache),(0,d2.map)(a,function a(b){function c(b){return(0,d2.map)(b,a)}if(b instanceof ew){let a={type:"NonTerminal",name:b.nonTerminalName,idx:b.idx};return(0,ep.default)(b.label)&&(a.label=b.label),a}if(b instanceof ey)return{type:"Alternative",definition:c(b.definition)};if(b instanceof ez)return{type:"Option",idx:b.idx,definition:c(b.definition)};if(b instanceof eA)return{type:"RepetitionMandatory",idx:b.idx,definition:c(b.definition)};if(b instanceof eB)return{type:"RepetitionMandatoryWithSeparator",idx:b.idx,separator:a(new eF({terminalType:b.separator})),definition:c(b.definition)};else if(b instanceof eD)return{type:"RepetitionWithSeparator",idx:b.idx,separator:a(new eF({terminalType:b.separator})),definition:c(b.definition)};else if(b instanceof eC)return{type:"Repetition",idx:b.idx,definition:c(b.definition)};else if(b instanceof eE)return{type:"Alternation",idx:b.idx,definition:c(b.definition)};else if(b instanceof eF){var d,e;let a={type:"Terminal",name:b.terminalType.name,label:(e=d=b.terminalType,(0,ep.default)(e.LABEL)&&""!==e.LABEL)?d.LABEL:d.name,idx:b.idx};(0,ep.default)(b.label)&&(a.terminalLabel=b.label);let c=b.terminalType.PATTERN;return b.terminalType.PATTERN&&(a.pattern=eo(c)?c.source:c),a}else if(b instanceof ex)return{type:"Rule",name:b.name,orgText:b.orgText,definition:c(b.definition)};else throw Error("non exhaustive match")})}},class{initErrorHandler(a){this._errors=[],this.errorMessageProvider=(0,d0.has)(a,"errorMessageProvider")?a.errorMessageProvider:hm.errorMessageProvider}SAVE_ERROR(a){if(gY(a))return a.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,d$.clone)(this.RULE_OCCURRENCE_STACK)},this._errors.push(a),a;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,d$.clone)(this._errors)}set errors(a){this._errors=a}raiseEarlyExitException(a,b,c){let d=this.getCurrRuleFullName(),e=gL(a,this.getGAstProductions()[d],b,this.maxLookahead)[0],f=[];for(let a=1;a<=this.maxLookahead;a++)f.push(this.LA(a));let g=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:e,actual:f,previous:this.LA(0),customUserDescription:c,ruleName:d});throw this.SAVE_ERROR(new g1(g,this.LA(1),this.LA(0)))}raiseNoAltException(a,b){let c=this.getCurrRuleFullName(),d=gK(a,this.getGAstProductions()[c],this.maxLookahead),e=[];for(let a=1;a<=this.maxLookahead;a++)e.push(this.LA(a));let f=this.LA(0),g=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:d,actual:e,previous:f,customUserDescription:b,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new g_(g,this.LA(1),f))}},class{initContentAssist(){}computeContentAssist(a,b){let c=this.gastProductionsCache[a];if((0,e3.isUndefined)(c))throw Error(`Rule ->${a}<- does not exist in this grammar.`);return gA([c],b,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(a){let b=fh(a.ruleStack);return new gt(this.getGAstProductions()[b],a).startWalking()}},class{initGastRecorder(a){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let a=0;a<10;a++){let b=a>0?a:"";this[`CONSUME${b}`]=function(b,c){return this.consumeInternalRecord(b,a,c)},this[`SUBRULE${b}`]=function(b,c){return this.subruleInternalRecord(b,a,c)},this[`OPTION${b}`]=function(b){return this.optionInternalRecord(b,a)},this[`OR${b}`]=function(b){return this.orInternalRecord(b,a)},this[`MANY${b}`]=function(b){this.manyInternalRecord(a,b)},this[`MANY_SEP${b}`]=function(b){this.manySepFirstInternalRecord(a,b)},this[`AT_LEAST_ONE${b}`]=function(b){this.atLeastOneInternalRecord(a,b)},this[`AT_LEAST_ONE_SEP${b}`]=function(b){this.atLeastOneSepFirstInternalRecord(a,b)}}this.consume=function(a,b,c){return this.consumeInternalRecord(b,a,c)},this.subrule=function(a,b,c){return this.subruleInternalRecord(b,a,c)},this.option=function(a,b){return this.optionInternalRecord(b,a)},this.or=function(a,b){return this.orInternalRecord(b,a)},this.many=function(a,b){this.manyInternalRecord(a,b)},this.atLeastOne=function(a,b){this.atLeastOneInternalRecord(a,b)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{for(let a=0;a<10;a++){let b=a>0?a:"";delete this[`CONSUME${b}`],delete this[`SUBRULE${b}`],delete this[`OPTION${b}`],delete this[`OR${b}`],delete this[`MANY${b}`],delete this[`MANY_SEP${b}`],delete this[`AT_LEAST_ONE${b}`],delete this[`AT_LEAST_ONE_SEP${b}`]}delete this.consume,delete this.subrule,delete this.option,delete this.or,delete this.many,delete this.atLeastOne,delete this.ACTION,delete this.BACKTRACK,delete this.LA})}ACTION_RECORD(a){}BACKTRACK_RECORD(a,b){return()=>!0}LA_RECORD(a){return hl}topLevelRuleRecord(a,b){try{let c=new ex({definition:[],name:a});return c.name=a,this.recordingProdStack.push(c),b.call(this),this.recordingProdStack.pop(),c}catch(a){if(!0!==a.KNOWN_RECORDER_ERROR)try{a.message=a.message+'\n	 This error was thrown during the "grammar recording phase" For more info see:\n	https://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(a){}throw a}}optionInternalRecord(a,b){return hh.call(this,ez,a,b)}atLeastOneInternalRecord(a,b){hh.call(this,eA,b,a)}atLeastOneSepFirstInternalRecord(a,b){hh.call(this,eB,b,a,!0)}manyInternalRecord(a,b){hh.call(this,eC,b,a)}manySepFirstInternalRecord(a,b){hh.call(this,eD,b,a,!0)}orInternalRecord(a,b){return hi.call(this,a,b)}subruleInternalRecord(a,b,c){if(hk(b),!a||!1===(0,d0.has)(a,"ruleName")){let c=Error(`<SUBRULE${hj(b)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(a)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw c.KNOWN_RECORDER_ERROR=!0,c}let d=(0,fS.last)(this.recordingProdStack),e=new ew({idx:b,nonTerminalName:a.ruleName,label:null==c?void 0:c.LABEL,referencedRule:void 0});return d.definition.push(e),this.outputCst?hg:hd}consumeInternalRecord(a,b,c){if(hk(b),!fZ(a)){let c=Error(`<CONSUME${hj(b)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(a)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw c.KNOWN_RECORDER_ERROR=!0,c}let d=(0,fS.last)(this.recordingProdStack),e=new eF({idx:b,terminalType:a,label:null==c?void 0:c.LABEL});return d.definition.push(e),hf}},class{initPerformanceTracer(a){if((0,d0.has)(a,"traceInitPerf")){let b=a.traceInitPerf,c="number"==typeof b;this.traceInitMaxIdent=c?b:1/0,this.traceInitPerf=c?b>0:b}else this.traceInitMaxIdent=0,this.traceInitPerf=hm.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(a,b){if(!0!==this.traceInitPerf)return b();{this.traceInitIndent++;let c=Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${c}--> <${a}>`);let{time:d,value:e}=d6(b),f=d>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&f(`${c}<-- <${a}> time: ${d}ms`),this.traceInitIndent--,e}}}].forEach(a=>{let b=a.prototype;Object.getOwnPropertyNames(b).forEach(c=>{if("constructor"===c)return;let d=Object.getOwnPropertyDescriptor(b,c);d&&(d.get||d.set)?Object.defineProperty(hp.prototype,c,d):hp.prototype[c]=a.prototype[c]})});class hq extends hp{constructor(a,b=hm){const c=(0,d$.clone)(b);c.outputCst=!1,super(a,c)}}var hr=a.i(46030);function hs(a,b,c){return`${a.name}_${b}_${c}`}class ht{constructor(a){this.target=a}isEpsilon(){return!1}}class hu extends ht{constructor(a,b){super(a),this.tokenType=b}}class hv extends ht{constructor(a){super(a)}isEpsilon(){return!0}}class hw extends ht{constructor(a,b,c){super(a),this.rule=b,this.followState=c}isEpsilon(){return!0}}function hx(a,b,c){let d=(0,hr.default)((0,gl.default)(c.definition,c=>(function a(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;if(d instanceof eF)return hC(b,c,d.terminalType,d);if(d instanceof ew){let a,h,i,j;return e=b,f=c,a=(g=d).referencedRule,h=e.ruleToStartState.get(a),i=hE(e,f,g,{type:1}),hF(i,new hw(h,a,j=hE(e,f,g,{type:1}))),{left:i,right:j}}if(d instanceof eE){let e,f;return e=hE(h=b,i=c,j=d,{type:1}),hA(h,e),f=(0,gl.default)(j.definition,b=>a(h,i,b)),hB(h,i,e,j,...f)}if(d instanceof ez){let a,e,f;return a=hE(k=b,l=c,m=d,{type:1}),hA(k,a),e=hB(k,l,a,m,hx(k,l,m)),n=k,o=l,p=m,hD(f=(q=e).left,q.right),n.decisionMap[hs(o,"Option",p.idx)]=f,q}if(d instanceof eC){let a,e;return a=hE(r=b,s=c,t=d,{type:5}),hA(r,a),e=hB(r,s,a,t,hx(r,s,t)),hz(r,s,t,e)}else if(d instanceof eD){let a,e,f;return a=hE(u=b,v=c,w=d,{type:5}),hA(u,a),e=hB(u,v,a,w,hx(u,v,w)),f=hC(u,v,w.separator,w),hz(u,v,w,e,f)}else if(d instanceof eA){let a,e;return a=hE(x=b,y=c,z=d,{type:4}),hA(x,a),e=hB(x,y,a,z,hx(x,y,z)),hy(x,y,z,e)}else{if(!(d instanceof eB))return hx(b,c,d);let a,e,f;return a=hE(A=b,B=c,C=d,{type:4}),hA(A,a),e=hB(A,B,a,C,hx(A,B,C)),f=hC(A,B,C.separator,C),hy(A,B,C,e,f)}})(a,b,c)),a=>void 0!==a);return 1===d.length?d[0]:0===d.length?void 0:function(a,b){let c=b.length;for(let f=0;f<c-1;f++){var d,e;let c,g=b[f];1===g.left.transitions.length&&(c=g.left.transitions[0]);let h=c instanceof hw,i=c,j=b[f+1].left;1===g.left.type&&1===g.right.type&&void 0!==c&&(h&&i.followState===g.right||c.target===g.right)?(h?i.followState=j:c.target=j,d=a,e=g.right,d.states.splice(d.states.indexOf(e),1)):hD(g.right,j)}let f=b[0],g=b[c-1];return{left:f.left,right:g.right}}(a,d)}function hy(a,b,c,d,e){let f=d.left,g=d.right,h=hE(a,b,c,{type:11});hA(a,h);let i=hE(a,b,c,{type:12});return f.loopback=h,i.loopback=h,a.decisionMap[hs(b,e?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",c.idx)]=h,hD(g,h),void 0===e?(hD(h,f),hD(h,i)):(hD(h,i),hD(h,e.left),hD(e.right,f)),{left:f,right:i}}function hz(a,b,c,d,e){let f=d.left,g=d.right,h=hE(a,b,c,{type:10});hA(a,h);let i=hE(a,b,c,{type:12}),j=hE(a,b,c,{type:9});return h.loopback=j,i.loopback=j,hD(h,f),hD(h,i),hD(g,j),void 0!==e?(hD(j,i),hD(j,e.left),hD(e.right,f)):hD(j,h),a.decisionMap[hs(b,e?"RepetitionWithSeparator":"Repetition",c.idx)]=h,{left:h,right:i}}function hA(a,b){return a.decisionStates.push(b),b.decision=a.decisionStates.length-1,b.decision}function hB(a,b,c,d,...e){let f=hE(a,b,d,{type:8,start:c});for(let a of(c.end=f,e))void 0!==a?(hD(c,a.left),hD(a.right,f)):hD(c,f);return a.decisionMap[hs(b,function(a){if(a instanceof eE)return"Alternation";if(a instanceof ez)return"Option";if(a instanceof eC)return"Repetition";if(a instanceof eD)return"RepetitionWithSeparator";if(a instanceof eA)return"RepetitionMandatory";else if(a instanceof eB)return"RepetitionMandatoryWithSeparator";else throw Error("Invalid production type encountered")}(d),d.idx)]=c,{left:c,right:f}}function hC(a,b,c,d){let e=hE(a,b,d,{type:1}),f=hE(a,b,d,{type:1});return hF(e,new hu(f,c)),{left:e,right:f}}function hD(a,b){hF(a,new hv(b))}function hE(a,b,c,d){let e=Object.assign({atn:a,production:c,epsilonOnlyTransitions:!1,rule:b,transitions:[],nextTokenWithinRule:[],stateNumber:a.states.length},d);return a.states.push(e),e}function hF(a,b){0===a.transitions.length&&(a.epsilonOnlyTransitions=b.isEpsilon()),a.transitions.push(b)}let hG={};class hH{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(a){let b=hI(a);b in this.map||(this.map[b]=this.configs.length,this.configs.push(a))}get elements(){return this.configs}get alts(){return(0,gl.default)(this.configs,a=>a.alt)}get key(){let a="";for(let b in this.map)a+=b+":";return a}}function hI(a,b=!0){return`${b?`a${a.alt}`:""}s${a.state.stateNumber}:${a.stack.map(a=>a.stateNumber.toString()).join("_")}`}var hJ=a.i(63673),hK=a.i(19668),hL=a.i(81409),hM=a.i(84454),hN=a.i(89025);class hO{constructor(){this.predicates=[]}is(a){return a>=this.predicates.length||this.predicates[a]}set(a,b){this.predicates[a]=b}toString(){let a="",b=this.predicates.length;for(let c=0;c<b;c++)a+=!0===this.predicates[c]?"1":"0";return a}}let hP=new hO;class hQ extends g6{constructor(a){var b;super(),this.logging=null!=(b=null==a?void 0:a.logging)?b:a=>console.log(a)}initialize(a){this.atn=function(a){let b={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function(a,b){let c=b.length;for(let d=0;d<c;d++){let c=b[d],e=hE(a,c,void 0,{type:2}),f=hE(a,c,void 0,{type:7});e.stop=f,a.ruleToStartState.set(c,e),a.ruleToStopState.set(c,f)}}(b,a);let c=a.length;for(let d=0;d<c;d++){let c=a[d],e=hx(b,c,c);void 0!==e&&function(a,b,c){hD(a.ruleToStartState.get(b),c.left);let d=a.ruleToStopState.get(b);hD(c.right,d)}(b,c,e)}return b}(a.rules),this.dfas=function(a){let b=a.decisionStates.length,c=Array(b);for(let d=0;d<b;d++)c[d]=function(a,b){let c={};return d=>{let e=d.toString(),f=c[e];return void 0!==f||(f={atnStartState:a,decision:b,states:{}},c[e]=f),f}}(a.decisionStates[d],d);return c}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(a){let{prodOccurrence:b,rule:c,hasPredicates:d,dynamicTokensEnabled:e}=a,f=this.dfas,g=this.logging,h=hs(c,"Alternation",b),i=this.atn.decisionMap[h].decision,j=(0,gl.default)(gC({maxLookahead:1,occurrence:b,prodType:"Alternation",rule:c}),a=>(0,gl.default)(a,a=>a[0]));if(hR(j,!1)&&!e){let a=(0,hN.default)(j,(a,b,c)=>((0,hL.default)(b,b=>{b&&(a[b.tokenTypeIdx]=c,(0,hL.default)(b.categoryMatches,b=>{a[b]=c}))}),a),{});return d?function(b){var c;let d=a[this.LA(1).tokenTypeIdx];if(void 0!==b&&void 0!==d){let a=null==(c=b[d])?void 0:c.GATE;if(void 0!==a&&!1===a.call(this))return}return d}:function(){return a[this.LA(1).tokenTypeIdx]}}return d?function(a){let b=new hO,c=void 0===a?0:a.length;for(let d=0;d<c;d++){let c=null==a?void 0:a[d].GATE;b.set(d,void 0===c||c.call(this))}let d=hS.call(this,f,i,b,g);return"number"==typeof d?d:void 0}:function(){let a=hS.call(this,f,i,hP,g);return"number"==typeof a?a:void 0}}buildLookaheadForOptional(a){let{prodOccurrence:b,rule:c,prodType:d,dynamicTokensEnabled:e}=a,f=this.dfas,g=this.logging,h=hs(c,d,b),i=this.atn.decisionMap[h].decision,j=(0,gl.default)(gC({maxLookahead:1,occurrence:b,prodType:d,rule:c}),a=>(0,gl.default)(a,a=>a[0]));if(hR(j)&&j[0][0]&&!e){let a=j[0],b=(0,hK.default)(a);if(1===b.length&&(0,hM.default)(b[0].categoryMatches)){let a=b[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}{let a=(0,hN.default)(b,(a,b)=>(void 0!==b&&(a[b.tokenTypeIdx]=!0,(0,hL.default)(b.categoryMatches,b=>{a[b]=!0})),a),{});return function(){return!0===a[this.LA(1).tokenTypeIdx]}}}return function(){let a=hS.call(this,f,i,hP,g);return"object"!=typeof a&&0===a}}}function hR(a,b=!0){let c=new Set;for(let d of a){let a=new Set;for(let e of d){if(void 0===e)if(!b)return!1;else break;for(let b of[e.tokenTypeIdx].concat(e.categoryMatches))if(c.has(b)){if(!a.has(b))return!1}else c.add(b),a.add(b)}}return!0}function hS(a,b,c,d){let e=a[b](c),f=e.start;if(void 0===f){let a=function(a){let b=new hH,c=a.transitions.length;for(let d=0;d<c;d++)hZ({state:a.transitions[d].target,alt:d,stack:[]},b);return b}(e.atnStartState);f=hY(e,hW(a)),e.start=f}return hT.apply(this,[e,f,c,d])}function hT(a,b,c,d){let e=b,f=1,g=[],h=this.LA(f++);for(;;){var i,j;let b=(i=e,j=h,i.edges[j.tokenTypeIdx]);if(void 0===b&&(b=hU.apply(this,[a,e,h,f,c,d])),b===hG)return function(a,b,c){var d,e;return{actualToken:c,possibleTokenTypes:(d=gm(b.configs.elements,a=>a.state.transitions).filter(a=>a instanceof hu).map(a=>a.tokenType),e=a=>a.tokenTypeIdx,d&&d.length?(0,e$.default)(d,(0,er.default)(e,2)):[]),tokenPath:a}}(g,e,h);if(!0===b.isAcceptState)return b.prediction;e=b,g.push(h),h=this.LA(f++)}}function hU(a,b,c,d,e,f){let g=function(a,b,c){let d,e=new hH,f=[];for(let d of a.elements){if(!1===c.is(d.alt))continue;if(7===d.state.type){f.push(d);continue}let a=d.state.transitions.length;for(let c=0;c<a;c++){let a=function(a,b){if(a instanceof hu&&fU(b,a.tokenType))return a.target}(d.state.transitions[c],b);void 0!==a&&e.add({state:a,alt:d.alt,stack:d.stack})}}if(0===f.length&&1===e.size&&(d=e),void 0===d)for(let a of(d=new hH,e.elements))hZ(a,d);if(f.length>0&&!function(a){for(let b of a.elements)if(7===b.state.type)return!0;return!1}(d))for(let a of f)d.add(a);return d}(b.configs,c,e);if(0===g.size)return hX(a,b,c,hG),hG;let h=hW(g),i=function(a,b){let c;for(let d of a.elements)if(!0===b.is(d.alt)){if(void 0===c)c=d.alt;else if(c!==d.alt)return}return c}(g,e);if(void 0!==i)h.isAcceptState=!0,h.prediction=i,h.configs.uniqueAlt=i;else if(function(a){if(function(a){for(let b of a.elements)if(7!==b.state.type)return!1;return!0}(a))return!0;let b=function(a){let b=new Map;for(let c of a){let a=hI(c,!1),d=b.get(a);void 0===d&&(d={},b.set(a,d)),d[c.alt]=!0}return b}(a.elements);return function(a){for(let b of Array.from(a.values()))if(Object.keys(b).length>1)return!0;return!1}(b)&&!function(a){for(let b of Array.from(a.values()))if(1===Object.keys(b).length)return!0;return!1}(b)}(g)){let b=(0,hJ.default)(g.alts);h.isAcceptState=!0,h.prediction=b,h.configs.uniqueAlt=b,hV.apply(this,[a,d,g.alts,f])}return hX(a,b,c,h)}function hV(a,b,c,d){var e;let f,g,h,i=[];for(let a=1;a<=b;a++)i.push(this.LA(a).tokenType);let j=a.atnStartState;d((e={topLevelRule:j.rule,ambiguityIndices:c,production:j.production,prefixPath:i},f=(0,gl.default)(e.prefixPath,a=>f3(a)).join(", "),g=0===e.production.idx?"":e.production.idx,(h=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${function(a){if(a instanceof ew)return"SUBRULE";if(a instanceof ez)return"OPTION";if(a instanceof eE)return"OR";if(a instanceof eA)return"AT_LEAST_ONE";if(a instanceof eB)return"AT_LEAST_ONE_SEP";else if(a instanceof eD)return"MANY_SEP";else if(a instanceof eC)return"MANY";else if(a instanceof eF)return"CONSUME";else throw Error("non exhaustive match")}(e.production)}${g}> inside <${e.topLevelRule.name}> Rule,
<${f}> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
`+"For Further details."))}function hW(a){return{configs:a,edges:{},isAcceptState:!1,prediction:-1}}function hX(a,b,c,d){return d=hY(a,d),b.edges[c.tokenTypeIdx]=d,d}function hY(a,b){if(b===hG)return b;let c=b.configs.key,d=a.states[c];return void 0!==d?d:(b.configs.finalize(),a.states[c]=b,b)}function hZ(a,b){let c=a.state;if(7===c.type){if(a.stack.length>0){let c=[...a.stack];hZ({state:c.pop(),alt:a.alt,stack:c},b)}else b.add(a);return}c.epsilonOnlyTransitions||b.add(a);let d=c.transitions.length;for(let e=0;e<d;e++){let d=function(a,b){if(b instanceof hv)return{state:b.target,alt:a.alt,stack:a.stack};if(b instanceof hw){let c=[...a.stack,b.followState];return{state:b.target,alt:a.alt,stack:c}}}(a,c.transitions[e]);void 0!==d&&hZ(d,b)}}(cm||(cm={})).is=function(a){return"string"==typeof a},(cn||(cn={})).is=function(a){return"string"==typeof a},(bg=co||(co={})).MIN_VALUE=-0x80000000,bg.MAX_VALUE=0x7fffffff,bg.is=function(a){return"number"==typeof a&&bg.MIN_VALUE<=a&&a<=bg.MAX_VALUE},(bh=cp||(cp={})).MIN_VALUE=0,bh.MAX_VALUE=0x7fffffff,bh.is=function(a){return"number"==typeof a&&bh.MIN_VALUE<=a&&a<=bh.MAX_VALUE},(bi=cq||(cq={})).create=function(a,b){return a===Number.MAX_VALUE&&(a=cp.MAX_VALUE),b===Number.MAX_VALUE&&(b=cp.MAX_VALUE),{line:a,character:b}},bi.is=function(a){return dC.objectLiteral(a)&&dC.uinteger(a.line)&&dC.uinteger(a.character)},(bj=cr||(cr={})).create=function(a,b,c,d){if(dC.uinteger(a)&&dC.uinteger(b)&&dC.uinteger(c)&&dC.uinteger(d))return{start:cq.create(a,b),end:cq.create(c,d)};if(cq.is(a)&&cq.is(b))return{start:a,end:b};throw Error(`Range#create called with invalid arguments[${a}, ${b}, ${c}, ${d}]`)},bj.is=function(a){return dC.objectLiteral(a)&&cq.is(a.start)&&cq.is(a.end)},(bk=cs||(cs={})).create=function(a,b){return{uri:a,range:b}},bk.is=function(a){return dC.objectLiteral(a)&&cr.is(a.range)&&(dC.string(a.uri)||dC.undefined(a.uri))},(bl=ct||(ct={})).create=function(a,b,c,d){return{targetUri:a,targetRange:b,targetSelectionRange:c,originSelectionRange:d}},bl.is=function(a){return dC.objectLiteral(a)&&cr.is(a.targetRange)&&dC.string(a.targetUri)&&cr.is(a.targetSelectionRange)&&(cr.is(a.originSelectionRange)||dC.undefined(a.originSelectionRange))},(bm=cu||(cu={})).create=function(a,b,c,d){return{red:a,green:b,blue:c,alpha:d}},bm.is=function(a){return dC.objectLiteral(a)&&dC.numberRange(a.red,0,1)&&dC.numberRange(a.green,0,1)&&dC.numberRange(a.blue,0,1)&&dC.numberRange(a.alpha,0,1)},(bn=cv||(cv={})).create=function(a,b){return{range:a,color:b}},bn.is=function(a){return dC.objectLiteral(a)&&cr.is(a.range)&&cu.is(a.color)},(bo=cw||(cw={})).create=function(a,b,c){return{label:a,textEdit:b,additionalTextEdits:c}},bo.is=function(a){return dC.objectLiteral(a)&&dC.string(a.label)&&(dC.undefined(a.textEdit)||cF.is(a))&&(dC.undefined(a.additionalTextEdits)||dC.typedArray(a.additionalTextEdits,cF.is))},(bp=cx||(cx={})).Comment="comment",bp.Imports="imports",bp.Region="region",(bq=cy||(cy={})).create=function(a,b,c,d,e,f){let g={startLine:a,endLine:b};return dC.defined(c)&&(g.startCharacter=c),dC.defined(d)&&(g.endCharacter=d),dC.defined(e)&&(g.kind=e),dC.defined(f)&&(g.collapsedText=f),g},bq.is=function(a){return dC.objectLiteral(a)&&dC.uinteger(a.startLine)&&dC.uinteger(a.startLine)&&(dC.undefined(a.startCharacter)||dC.uinteger(a.startCharacter))&&(dC.undefined(a.endCharacter)||dC.uinteger(a.endCharacter))&&(dC.undefined(a.kind)||dC.string(a.kind))},(br=cz||(cz={})).create=function(a,b){return{location:a,message:b}},br.is=function(a){return dC.defined(a)&&cs.is(a.location)&&dC.string(a.message)},(bs=cA||(cA={})).Error=1,bs.Warning=2,bs.Information=3,bs.Hint=4,(bt=cB||(cB={})).Unnecessary=1,bt.Deprecated=2,(cC||(cC={})).is=function(a){return dC.objectLiteral(a)&&dC.string(a.href)},(bu=cD||(cD={})).create=function(a,b,c,d,e,f){let g={range:a,message:b};return dC.defined(c)&&(g.severity=c),dC.defined(d)&&(g.code=d),dC.defined(e)&&(g.source=e),dC.defined(f)&&(g.relatedInformation=f),g},bu.is=function(a){var b;return dC.defined(a)&&cr.is(a.range)&&dC.string(a.message)&&(dC.number(a.severity)||dC.undefined(a.severity))&&(dC.integer(a.code)||dC.string(a.code)||dC.undefined(a.code))&&(dC.undefined(a.codeDescription)||dC.string(null==(b=a.codeDescription)?void 0:b.href))&&(dC.string(a.source)||dC.undefined(a.source))&&(dC.undefined(a.relatedInformation)||dC.typedArray(a.relatedInformation,cz.is))},(bv=cE||(cE={})).create=function(a,b,...c){let d={title:a,command:b};return dC.defined(c)&&c.length>0&&(d.arguments=c),d},bv.is=function(a){return dC.defined(a)&&dC.string(a.title)&&dC.string(a.command)},(bw=cF||(cF={})).replace=function(a,b){return{range:a,newText:b}},bw.insert=function(a,b){return{range:{start:a,end:a},newText:b}},bw.del=function(a){return{range:a,newText:""}},bw.is=function(a){return dC.objectLiteral(a)&&dC.string(a.newText)&&cr.is(a.range)},(bx=cG||(cG={})).create=function(a,b,c){let d={label:a};return void 0!==b&&(d.needsConfirmation=b),void 0!==c&&(d.description=c),d},bx.is=function(a){return dC.objectLiteral(a)&&dC.string(a.label)&&(dC.boolean(a.needsConfirmation)||void 0===a.needsConfirmation)&&(dC.string(a.description)||void 0===a.description)},(cH||(cH={})).is=function(a){return dC.string(a)},(by=cI||(cI={})).replace=function(a,b,c){return{range:a,newText:b,annotationId:c}},by.insert=function(a,b,c){return{range:{start:a,end:a},newText:b,annotationId:c}},by.del=function(a,b){return{range:a,newText:"",annotationId:b}},by.is=function(a){return cF.is(a)&&(cG.is(a.annotationId)||cH.is(a.annotationId))},(bz=cJ||(cJ={})).create=function(a,b){return{textDocument:a,edits:b}},bz.is=function(a){return dC.defined(a)&&cQ.is(a.textDocument)&&Array.isArray(a.edits)},(bA=cK||(cK={})).create=function(a,b,c){let d={kind:"create",uri:a};return void 0!==b&&(void 0!==b.overwrite||void 0!==b.ignoreIfExists)&&(d.options=b),void 0!==c&&(d.annotationId=c),d},bA.is=function(a){return a&&"create"===a.kind&&dC.string(a.uri)&&(void 0===a.options||(void 0===a.options.overwrite||dC.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||dC.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||cH.is(a.annotationId))},(bB=cL||(cL={})).create=function(a,b,c,d){let e={kind:"rename",oldUri:a,newUri:b};return void 0!==c&&(void 0!==c.overwrite||void 0!==c.ignoreIfExists)&&(e.options=c),void 0!==d&&(e.annotationId=d),e},bB.is=function(a){return a&&"rename"===a.kind&&dC.string(a.oldUri)&&dC.string(a.newUri)&&(void 0===a.options||(void 0===a.options.overwrite||dC.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||dC.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||cH.is(a.annotationId))},(bC=cM||(cM={})).create=function(a,b,c){let d={kind:"delete",uri:a};return void 0!==b&&(void 0!==b.recursive||void 0!==b.ignoreIfNotExists)&&(d.options=b),void 0!==c&&(d.annotationId=c),d},bC.is=function(a){return a&&"delete"===a.kind&&dC.string(a.uri)&&(void 0===a.options||(void 0===a.options.recursive||dC.boolean(a.options.recursive))&&(void 0===a.options.ignoreIfNotExists||dC.boolean(a.options.ignoreIfNotExists)))&&(void 0===a.annotationId||cH.is(a.annotationId))},(cN||(cN={})).is=function(a){return a&&(void 0!==a.changes||void 0!==a.documentChanges)&&(void 0===a.documentChanges||a.documentChanges.every(a=>dC.string(a.kind)?cK.is(a)||cL.is(a)||cM.is(a):cJ.is(a)))},(bD=cO||(cO={})).create=function(a){return{uri:a}},bD.is=function(a){return dC.defined(a)&&dC.string(a.uri)},(bE=cP||(cP={})).create=function(a,b){return{uri:a,version:b}},bE.is=function(a){return dC.defined(a)&&dC.string(a.uri)&&dC.integer(a.version)},(bF=cQ||(cQ={})).create=function(a,b){return{uri:a,version:b}},bF.is=function(a){return dC.defined(a)&&dC.string(a.uri)&&(null===a.version||dC.integer(a.version))},(bG=cR||(cR={})).create=function(a,b,c,d){return{uri:a,languageId:b,version:c,text:d}},bG.is=function(a){return dC.defined(a)&&dC.string(a.uri)&&dC.string(a.languageId)&&dC.integer(a.version)&&dC.string(a.text)},(bH=cS||(cS={})).PlainText="plaintext",bH.Markdown="markdown",bH.is=function(a){return a===bH.PlainText||a===bH.Markdown},(cT||(cT={})).is=function(a){return dC.objectLiteral(a)&&cS.is(a.kind)&&dC.string(a.value)},(bI=cU||(cU={})).Text=1,bI.Method=2,bI.Function=3,bI.Constructor=4,bI.Field=5,bI.Variable=6,bI.Class=7,bI.Interface=8,bI.Module=9,bI.Property=10,bI.Unit=11,bI.Value=12,bI.Enum=13,bI.Keyword=14,bI.Snippet=15,bI.Color=16,bI.File=17,bI.Reference=18,bI.Folder=19,bI.EnumMember=20,bI.Constant=21,bI.Struct=22,bI.Event=23,bI.Operator=24,bI.TypeParameter=25,(bJ=cV||(cV={})).PlainText=1,bJ.Snippet=2,(cW||(cW={})).Deprecated=1,(bK=cX||(cX={})).create=function(a,b,c){return{newText:a,insert:b,replace:c}},bK.is=function(a){return a&&dC.string(a.newText)&&cr.is(a.insert)&&cr.is(a.replace)},(bL=cY||(cY={})).asIs=1,bL.adjustIndentation=2,(cZ||(cZ={})).is=function(a){return a&&(dC.string(a.detail)||void 0===a.detail)&&(dC.string(a.description)||void 0===a.description)},(c$||(c$={})).create=function(a){return{label:a}},(c_||(c_={})).create=function(a,b){return{items:a||[],isIncomplete:!!b}},(bM=c0||(c0={})).fromPlainText=function(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},bM.is=function(a){return dC.string(a)||dC.objectLiteral(a)&&dC.string(a.language)&&dC.string(a.value)},(c1||(c1={})).is=function(a){return!!a&&dC.objectLiteral(a)&&(cT.is(a.contents)||c0.is(a.contents)||dC.typedArray(a.contents,c0.is))&&(void 0===a.range||cr.is(a.range))},(c2||(c2={})).create=function(a,b){return b?{label:a,documentation:b}:{label:a}},(c3||(c3={})).create=function(a,b,...c){let d={label:a};return dC.defined(b)&&(d.documentation=b),dC.defined(c)?d.parameters=c:d.parameters=[],d},(bN=c4||(c4={})).Text=1,bN.Read=2,bN.Write=3,(c5||(c5={})).create=function(a,b){let c={range:a};return dC.number(b)&&(c.kind=b),c},(bO=c6||(c6={})).File=1,bO.Module=2,bO.Namespace=3,bO.Package=4,bO.Class=5,bO.Method=6,bO.Property=7,bO.Field=8,bO.Constructor=9,bO.Enum=10,bO.Interface=11,bO.Function=12,bO.Variable=13,bO.Constant=14,bO.String=15,bO.Number=16,bO.Boolean=17,bO.Array=18,bO.Object=19,bO.Key=20,bO.Null=21,bO.EnumMember=22,bO.Struct=23,bO.Event=24,bO.Operator=25,bO.TypeParameter=26,(c7||(c7={})).Deprecated=1,(c8||(c8={})).create=function(a,b,c,d,e){let f={name:a,kind:b,location:{uri:d,range:c}};return e&&(f.containerName=e),f},(c9||(c9={})).create=function(a,b,c,d){return void 0!==d?{name:a,kind:b,location:{uri:c,range:d}}:{name:a,kind:b,location:{uri:c}}},(bP=da||(da={})).create=function(a,b,c,d,e,f){let g={name:a,detail:b,kind:c,range:d,selectionRange:e};return void 0!==f&&(g.children=f),g},bP.is=function(a){return a&&dC.string(a.name)&&dC.number(a.kind)&&cr.is(a.range)&&cr.is(a.selectionRange)&&(void 0===a.detail||dC.string(a.detail))&&(void 0===a.deprecated||dC.boolean(a.deprecated))&&(void 0===a.children||Array.isArray(a.children))&&(void 0===a.tags||Array.isArray(a.tags))},(bQ=db||(db={})).Empty="",bQ.QuickFix="quickfix",bQ.Refactor="refactor",bQ.RefactorExtract="refactor.extract",bQ.RefactorInline="refactor.inline",bQ.RefactorRewrite="refactor.rewrite",bQ.Source="source",bQ.SourceOrganizeImports="source.organizeImports",bQ.SourceFixAll="source.fixAll",(bR=dc||(dc={})).Invoked=1,bR.Automatic=2,(bS=dd||(dd={})).create=function(a,b,c){let d={diagnostics:a};return null!=b&&(d.only=b),null!=c&&(d.triggerKind=c),d},bS.is=function(a){return dC.defined(a)&&dC.typedArray(a.diagnostics,cD.is)&&(void 0===a.only||dC.typedArray(a.only,dC.string))&&(void 0===a.triggerKind||a.triggerKind===dc.Invoked||a.triggerKind===dc.Automatic)},(bT=de||(de={})).create=function(a,b,c){let d={title:a},e=!0;return"string"==typeof b?(e=!1,d.kind=b):cE.is(b)?d.command=b:d.edit=b,e&&void 0!==c&&(d.kind=c),d},bT.is=function(a){return a&&dC.string(a.title)&&(void 0===a.diagnostics||dC.typedArray(a.diagnostics,cD.is))&&(void 0===a.kind||dC.string(a.kind))&&(void 0!==a.edit||void 0!==a.command)&&(void 0===a.command||cE.is(a.command))&&(void 0===a.isPreferred||dC.boolean(a.isPreferred))&&(void 0===a.edit||cN.is(a.edit))},(bU=df||(df={})).create=function(a,b){let c={range:a};return dC.defined(b)&&(c.data=b),c},bU.is=function(a){return dC.defined(a)&&cr.is(a.range)&&(dC.undefined(a.command)||cE.is(a.command))},(bV=dg||(dg={})).create=function(a,b){return{tabSize:a,insertSpaces:b}},bV.is=function(a){return dC.defined(a)&&dC.uinteger(a.tabSize)&&dC.boolean(a.insertSpaces)},(bW=dh||(dh={})).create=function(a,b,c){return{range:a,target:b,data:c}},bW.is=function(a){return dC.defined(a)&&cr.is(a.range)&&(dC.undefined(a.target)||dC.string(a.target))},(bX=di||(di={})).create=function(a,b){return{range:a,parent:b}},bX.is=function(a){return dC.objectLiteral(a)&&cr.is(a.range)&&(void 0===a.parent||bX.is(a.parent))},(bY=dj||(dj={})).namespace="namespace",bY.type="type",bY.class="class",bY.enum="enum",bY.interface="interface",bY.struct="struct",bY.typeParameter="typeParameter",bY.parameter="parameter",bY.variable="variable",bY.property="property",bY.enumMember="enumMember",bY.event="event",bY.function="function",bY.method="method",bY.macro="macro",bY.keyword="keyword",bY.modifier="modifier",bY.comment="comment",bY.string="string",bY.number="number",bY.regexp="regexp",bY.operator="operator",bY.decorator="decorator",(bZ=dk||(dk={})).declaration="declaration",bZ.definition="definition",bZ.readonly="readonly",bZ.static="static",bZ.deprecated="deprecated",bZ.abstract="abstract",bZ.async="async",bZ.modification="modification",bZ.documentation="documentation",bZ.defaultLibrary="defaultLibrary",(dl||(dl={})).is=function(a){return dC.objectLiteral(a)&&(void 0===a.resultId||"string"==typeof a.resultId)&&Array.isArray(a.data)&&(0===a.data.length||"number"==typeof a.data[0])},(b$=dm||(dm={})).create=function(a,b){return{range:a,text:b}},b$.is=function(a){return null!=a&&cr.is(a.range)&&dC.string(a.text)},(b_=dn||(dn={})).create=function(a,b,c){return{range:a,variableName:b,caseSensitiveLookup:c}},b_.is=function(a){return null!=a&&cr.is(a.range)&&dC.boolean(a.caseSensitiveLookup)&&(dC.string(a.variableName)||void 0===a.variableName)},(b0=dp||(dp={})).create=function(a,b){return{range:a,expression:b}},b0.is=function(a){return null!=a&&cr.is(a.range)&&(dC.string(a.expression)||void 0===a.expression)},(b1=dq||(dq={})).create=function(a,b){return{frameId:a,stoppedLocation:b}},b1.is=function(a){return dC.defined(a)&&cr.is(a.stoppedLocation)},(b2=dr||(dr={})).Type=1,b2.Parameter=2,b2.is=function(a){return 1===a||2===a},(b3=ds||(ds={})).create=function(a){return{value:a}},b3.is=function(a){return dC.objectLiteral(a)&&(void 0===a.tooltip||dC.string(a.tooltip)||cT.is(a.tooltip))&&(void 0===a.location||cs.is(a.location))&&(void 0===a.command||cE.is(a.command))},(b4=dt||(dt={})).create=function(a,b,c){let d={position:a,label:b};return void 0!==c&&(d.kind=c),d},b4.is=function(a){return dC.objectLiteral(a)&&cq.is(a.position)&&(dC.string(a.label)||dC.typedArray(a.label,ds.is))&&(void 0===a.kind||dr.is(a.kind))&&void 0===a.textEdits||dC.typedArray(a.textEdits,cF.is)&&(void 0===a.tooltip||dC.string(a.tooltip)||cT.is(a.tooltip))&&(void 0===a.paddingLeft||dC.boolean(a.paddingLeft))&&(void 0===a.paddingRight||dC.boolean(a.paddingRight))},(du||(du={})).createSnippet=function(a){return{kind:"snippet",value:a}},(dv||(dv={})).create=function(a,b,c,d){return{insertText:a,filterText:b,range:c,command:d}},(dw||(dw={})).create=function(a){return{items:a}},(b5=dx||(dx={})).Invoked=0,b5.Automatic=1,(dy||(dy={})).create=function(a,b){return{range:a,text:b}},(dz||(dz={})).create=function(a,b){return{triggerKind:a,selectedCompletionInfo:b}},(dA||(dA={})).is=function(a){return dC.objectLiteral(a)&&cn.is(a.uri)&&dC.string(a.name)},(b6=dB||(dB={})).create=function(a,b,c,d){return new h$(a,b,c,d)},b6.is=function(a){return!!(dC.defined(a)&&dC.string(a.uri)&&(dC.undefined(a.languageId)||dC.string(a.languageId))&&dC.uinteger(a.lineCount)&&dC.func(a.getText)&&dC.func(a.positionAt)&&dC.func(a.offsetAt))},b6.applyEdits=function(a,b){let c=a.getText(),d=function a(b,c){if(b.length<=1)return b;let d=b.length/2|0,e=b.slice(0,d),f=b.slice(d);a(e,c),a(f,c);let g=0,h=0,i=0;for(;g<e.length&&h<f.length;)0>=c(e[g],f[h])?b[i++]=e[g++]:b[i++]=f[h++];for(;g<e.length;)b[i++]=e[g++];for(;h<f.length;)b[i++]=f[h++];return b}(b,(a,b)=>{let c=a.range.start.line-b.range.start.line;return 0===c?a.range.start.character-b.range.start.character:c}),e=c.length;for(let b=d.length-1;b>=0;b--){let f=d[b],g=a.offsetAt(f.range.start),h=a.offsetAt(f.range.end);if(h<=e)c=c.substring(0,g)+f.newText+c.substring(h,c.length);else throw Error("Overlapping edit");e=g}return c};class h${constructor(a,b,c,d){this._uri=a,this._languageId=b,this._version=c,this._content=d,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(a){if(a){let b=this.offsetAt(a.start),c=this.offsetAt(a.end);return this._content.substring(b,c)}return this._content}update(a,b){this._content=a.text,this._version=b,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let a=[],b=this._content,c=!0;for(let d=0;d<b.length;d++){c&&(a.push(d),c=!1);let e=b.charAt(d);c="\r"===e||"\n"===e,"\r"===e&&d+1<b.length&&"\n"===b.charAt(d+1)&&d++}c&&b.length>0&&a.push(b.length),this._lineOffsets=a}return this._lineOffsets}positionAt(a){a=Math.max(Math.min(a,this._content.length),0);let b=this.getLineOffsets(),c=0,d=b.length;if(0===d)return cq.create(0,a);for(;c<d;){let e=Math.floor((c+d)/2);b[e]>a?d=e:c=e+1}let e=c-1;return cq.create(e,a-b[e])}offsetAt(a){let b=this.getLineOffsets();if(a.line>=b.length)return this._content.length;if(a.line<0)return 0;let c=b[a.line],d=a.line+1<b.length?b[a.line+1]:this._content.length;return Math.max(Math.min(c+a.character,d),c)}get lineCount(){return this.getLineOffsets().length}}b7=dC||(dC={}),b=Object.prototype.toString,b7.defined=function(a){return void 0!==a},b7.undefined=function(a){return void 0===a},b7.boolean=function(a){return!0===a||!1===a},b7.string=function(a){return"[object String]"===b.call(a)},b7.number=function(a){return"[object Number]"===b.call(a)},b7.numberRange=function(a,c,d){return"[object Number]"===b.call(a)&&c<=a&&a<=d},b7.integer=function(a){return"[object Number]"===b.call(a)&&-0x80000000<=a&&a<=0x7fffffff},b7.uinteger=function(a){return"[object Number]"===b.call(a)&&0<=a&&a<=0x7fffffff},b7.func=function(a){return"[object Function]"===b.call(a)},b7.objectLiteral=function(a){return null!==a&&"object"==typeof a},b7.typedArray=function(a,b){return Array.isArray(a)&&a.every(b)};class h_{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]??this.rootNode}buildRootNode(a){return this.rootNode=new h4(a),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(a){let b=new h2;return b.grammarSource=a,b.root=this.rootNode,this.current.content.push(b),this.nodeStack.push(b),b}buildLeafNode(a,b){let c=new h1(a.startOffset,a.image.length,s(a),a.tokenType,!b);return c.grammarSource=b,c.root=this.rootNode,this.current.content.push(c),c}removeNode(a){let b=a.container;if(b){let c=b.content.indexOf(a);c>=0&&b.content.splice(c,1)}}addHiddenNodes(a){let b=[];for(let c of a){let a=new h1(c.startOffset,c.image.length,s(c),c.tokenType,!0);a.root=this.rootNode,b.push(a)}let c=this.current,d=!1;if(c.content.length>0)return void c.content.push(...b);for(;c.container;){let a=c.container.content.indexOf(c);if(a>0){c.container.content.splice(a,0,...b),d=!0;break}c=c.container}d||this.rootNode.content.unshift(...b)}construct(a){let b=this.current;"string"!=typeof a.$type||a.$infixName||(this.current.astNode=a),a.$cstNode=b;let c=this.nodeStack.pop();c?.content.length===0&&this.removeNode(c)}}class h0{get hidden(){return!1}get astNode(){let a="string"==typeof this._astNode?.$type?this._astNode:this.container?.astNode;if(!a)throw Error("This node has no associated AST element");return a}set astNode(a){this._astNode=a}get text(){return this.root.fullText.substring(this.offset,this.end)}}class h1 extends h0{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(a,b,c,d,e=!1){super(),this._hidden=e,this._offset=a,this._tokenType=d,this._length=b,this._range=c}}class h2 extends h0{constructor(){super(...arguments),this.content=new h3(this)}get offset(){return this.firstNonHiddenNode?.offset??0}get length(){return this.end-this.offset}get end(){return this.lastNonHiddenNode?.end??0}get range(){let a=this.firstNonHiddenNode,b=this.lastNonHiddenNode;if(!a||!b)return{start:cq.create(0,0),end:cq.create(0,0)};if(void 0===this._rangeCache){let{range:c}=a,{range:d}=b;this._rangeCache={start:c.start,end:d.end.line<c.start.line?c.start:d.end}}return this._rangeCache}get firstNonHiddenNode(){for(let a of this.content)if(!a.hidden)return a;return this.content[0]}get lastNonHiddenNode(){for(let a=this.content.length-1;a>=0;a--){let b=this.content[a];if(!b.hidden)return b}return this.content[this.content.length-1]}}class h3 extends Array{constructor(a){super(),this.parent=a,Object.setPrototypeOf(this,h3.prototype)}push(...a){return this.addParents(a),super.push(...a)}unshift(...a){return this.addParents(a),super.unshift(...a)}splice(a,b,...c){return this.addParents(c),super.splice(a,b,...c)}addParents(a){for(let b of a)b.container=this.parent}}class h4 extends h2{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(a){super(),this._text="",this._text=a??""}}let h5=Symbol("Datatype");function h6(a){return a.$type===h5}let h7=a=>a.endsWith("")?a:a+"";class h8{constructor(a){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=a.parser.Lexer;const b=this.lexer.definition,c="production"===a.LanguageMetaData.mode;a.shared.profilers.LangiumProfiler?.isActive("parsing")?this.wrapper=new ig(b,{...a.parser.ParserConfig,skipValidations:c,errorMessageProvider:a.parser.ParserErrorMessageProvider},a.shared.profilers.LangiumProfiler.createTask("parsing",a.LanguageMetaData.languageId)):this.wrapper=new ie(b,{...a.parser.ParserConfig,skipValidations:c,errorMessageProvider:a.parser.ParserErrorMessageProvider})}alternatives(a,b){this.wrapper.wrapOr(a,b)}optional(a,b){this.wrapper.wrapOption(a,b)}many(a,b){this.wrapper.wrapMany(a,b)}atLeastOne(a,b){this.wrapper.wrapAtLeastOne(a,b)}getRule(a){return this.allRules.get(a)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class h9 extends h8{get current(){return this.stack[this.stack.length-1]}constructor(a){super(a),this.nodeBuilder=new h_,this.stack=[],this.assignmentMap=new Map,this.operatorPrecedence=new Map,this.linker=a.references.Linker,this.converter=a.parser.ValueConverter,this.astReflection=a.shared.AstReflection}rule(a,b){let c,d=this.computeRuleType(a);W(a)&&(c=a.name,this.registerPrecedenceMap(a));let e=this.wrapper.DEFINE_RULE(h7(a.name),this.startImplementation(d,c,b).bind(this));return this.allRules.set(a.name,e),ad(a)&&a.entry&&(this.mainRule=e),e}registerPrecedenceMap(a){let b=a.name,c=new Map;for(let b=0;b<a.operators.precedences.length;b++){let d=a.operators.precedences[b];for(let a of d.operators)c.set(a.value,{precedence:b,rightAssoc:"right"===d.associativity})}this.operatorPrecedence.set(b,c)}computeRuleType(a){if(W(a))return a6(a);if(!a.fragment)if(a4(a))return h5;else return a6(a)}parse(a,b={}){this.nodeBuilder.buildRootNode(a);let c=this.lexerResult=this.lexer.tokenize(a);this.wrapper.input=c.tokens;let e=b.rule?this.allRules.get(b.rule):this.mainRule;if(!e)throw Error(b.rule?`No rule found with name '${b.rule}'`:"No main rule available.");let f=this.doParse(e);return this.nodeBuilder.addHiddenNodes(c.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,!function a(b,c={}){for(let[e,f]of Object.entries(b))!e.startsWith("$")&&(Array.isArray(f)?f.forEach((f,g)=>{d(f)&&(f.$container=b,f.$containerProperty=e,f.$containerIndex=g,c.deep&&a(f,c))}):d(f)&&(f.$container=b,f.$containerProperty=e,c.deep&&a(f,c)))}(f,{deep:!0}),{value:f,lexerErrors:c.errors,lexerReport:c.report,parserErrors:this.wrapper.errors}}doParse(a){let b=this.wrapper.rule(a);if(this.stack.length>0&&(b=this.construct()),void 0===b)throw Error("No result from parser");if(this.stack.length>0)throw Error("Parser stack is not empty after parsing");return b}startImplementation(a,b,c){return d=>{let e=!this.isRecording()&&void 0!==a;if(e){let c={$type:a};this.stack.push(c),a===h5?c.value="":void 0!==b&&(c.$infixName=b)}return c(d),e?this.construct():void 0}}extractHiddenTokens(a){let b=this.lexerResult.hidden;if(!b.length)return[];let c=a.startOffset;for(let a=0;a<b.length;a++)if(b[a].startOffset>c)return b.splice(0,a);return b.splice(0,b.length)}consume(a,b,c){let d=this.wrapper.wrapConsume(a,b);if(!this.isRecording()&&this.isValidToken(d)){let a=this.extractHiddenTokens(d);this.nodeBuilder.addHiddenNodes(a);let b=this.nodeBuilder.buildLeafNode(d,c),{assignment:e,crossRef:f}=this.getAssignment(c),g=this.current;if(e){let a=Z(c)?d.image:this.converter.convert(d.image,b);this.assign(e.operator,e.feature,a,b,f)}else if(h6(g)){let a=d.image;Z(c)||(a=this.converter.convert(a,b).toString()),g.value+=a}}}isValidToken(a){return!a.isInsertedInRecovery&&!isNaN(a.startOffset)&&"number"==typeof a.endOffset&&!isNaN(a.endOffset)}subrule(a,b,c,d,e){let f,g;this.isRecording()||c||(f=this.nodeBuilder.buildCompositeNode(d));try{g=this.wrapper.wrapSubrule(a,b,e)}finally{!this.isRecording()&&(void 0!==g||c||(g=this.construct()),void 0!==g&&f&&f.length>0&&this.performSubruleAssignment(g,d,f))}}performSubruleAssignment(a,b,c){let{assignment:d,crossRef:e}=this.getAssignment(b);if(d)this.assign(d.operator,d.feature,a,c,e);else if(!d){let b=this.current;if(h6(b))b.value+=a.toString();else if("object"==typeof a&&a){let c=this.assignWithoutOverride(a,b);this.stack.pop(),this.stack.push(c)}}}action(a,b){if(!this.isRecording()){let c=this.current;b.feature&&b.operator?(c=this.construct(),this.nodeBuilder.removeNode(c.$cstNode),this.nodeBuilder.buildCompositeNode(b).content.push(c.$cstNode),this.stack.push({$type:a}),this.assign(b.operator,b.feature,c,c.$cstNode)):c.$type=a}}construct(){if(this.isRecording())return;let a=this.stack.pop();if(this.nodeBuilder.construct(a),"$infixName"in a)return this.constructInfix(a,this.operatorPrecedence.get(a.$infixName));if(h6(a))return this.converter.convert(a.value,a.$cstNode);for(let b of Object.values(this.astReflection.getTypeMetaData(a.$type).properties))void 0!==b.defaultValue&&void 0===a[b.name]&&(a[b.name]=function a(b){return Array.isArray(b)?[...b.map(a)]:b}(b.defaultValue));return a}constructInfix(a,b){let c=a.parts;if(!Array.isArray(c)||0===c.length)return;let d=a.operators;if(!Array.isArray(d)||c.length<2)return c[0];let e=0,f=-1;for(let a=0;a<d.length;a++){let c=d[a],g=b.get(c)??{precedence:1/0,rightAssoc:!1};g.precedence>f?(f=g.precedence,e=a):g.precedence!==f||g.rightAssoc||(e=a)}let g=d.slice(0,e),h=d.slice(e+1),i=c.slice(0,e+1),j=c.slice(e+1),k={$infixName:a.$infixName,$type:a.$type,$cstNode:a.$cstNode,parts:i,operators:g},l={$infixName:a.$infixName,$type:a.$type,$cstNode:a.$cstNode,parts:j,operators:h},m=this.constructInfix(k,b),n=this.constructInfix(l,b);return{$type:a.$type,$cstNode:a.$cstNode,left:m,operator:d[e],right:n}}getAssignment(a){if(!this.assignmentMap.has(a)){let b=az(a,I);this.assignmentMap.set(a,{assignment:b,crossRef:b&&O(b.terminal)?b.terminal.isMulti?"multi":"single":void 0})}return this.assignmentMap.get(a)}assign(a,b,c,d,e){let f,g=this.current;switch(f="single"===e&&"string"==typeof c?this.linker.buildReference(g,b,d,c):"multi"===e&&"string"==typeof c?this.linker.buildMultiReference(g,b,d,c):c,a){case"=":g[b]=f;break;case"?=":g[b]=!0;break;case"+=":Array.isArray(g[b])||(g[b]=[]),g[b].push(f)}}assignWithoutOverride(a,b){for(let[c,d]of Object.entries(b)){let b=a[c];void 0===b?a[c]=d:Array.isArray(b)&&Array.isArray(d)&&(d.push(...b),a[c]=d)}let c=a.$cstNode;return c&&(c.astNode=void 0,a.$cstNode=void 0),a}get definitionErrors(){return this.wrapper.definitionErrors}}class ia{buildMismatchTokenMessage(a){return gg.buildMismatchTokenMessage(a)}buildNotAllInputParsedMessage(a){return gg.buildNotAllInputParsedMessage(a)}buildNoViableAltMessage(a){return gg.buildNoViableAltMessage(a)}buildEarlyExitMessage(a){return gg.buildEarlyExitMessage(a)}}class ib extends ia{buildMismatchTokenMessage({expected:a,actual:b}){let c=a.LABEL?"`"+a.LABEL+"`":a.name.endsWith(":KW")?`keyword '${a.name.substring(0,a.name.length-3)}'`:`token of type '${a.name}'`;return`Expecting ${c} but found \`${b.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:a}){return`Expecting end of file but found \`${a.image}\`.`}}class ic extends h8{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(a){this.resetState();let b=this.lexer.tokenize(a,{mode:"partial"});return this.tokens=b.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(a,b){let c=this.wrapper.DEFINE_RULE(h7(a.name),this.startImplementation(b).bind(this));return this.allRules.set(a.name,c),a.entry&&(this.mainRule=c),c}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(a){return b=>{let c=this.keepStackSize();try{a(b)}finally{this.resetStackSize(c)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let a=this.elementStack.length;return this.stackSize=a,a}resetStackSize(a){this.removeUnexpectedElements(),this.stackSize=a}consume(a,b,c){this.wrapper.wrapConsume(a,b),this.isRecording()||(this.lastElementStack=[...this.elementStack,c],this.nextTokenIndex=this.currIdx+1)}subrule(a,b,c,d,e){this.before(d),this.wrapper.wrapSubrule(a,b,e),this.after(d)}before(a){this.isRecording()||this.elementStack.push(a)}after(a){if(!this.isRecording()){let b=this.elementStack.lastIndexOf(a);b>=0&&this.elementStack.splice(b)}}get currIdx(){return this.wrapper.currIdx}}let id={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new ib};class ie extends hq{constructor(a,b){const c=b&&"maxLookahead"in b;super(a,{...id,lookaheadStrategy:c?new g6({maxLookahead:b.maxLookahead}):new hQ({logging:b.skipValidations?()=>{}:void 0}),...b})}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(a,b,c){return this.RULE(a,b,c)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(a,b){return this.consume(a,b,void 0)}wrapSubrule(a,b,c){return this.subrule(a,b,{ARGS:[c]})}wrapOr(a,b){this.or(a,b)}wrapOption(a,b){this.option(a,b)}wrapMany(a,b){this.many(a,b)}wrapAtLeastOne(a,b){this.atLeastOne(a,b)}rule(a){return a.call(this,{})}}class ig extends ie{constructor(a,b,c){super(a,b),this.task=c}rule(a){this.task.start(),this.task.startSubTask(this.ruleName(a));try{return super.rule(a)}finally{this.task.stopSubTask(this.ruleName(a)),this.task.stop()}}ruleName(a){return a.ruleName}subrule(a,b,c){this.task.startSubTask(this.ruleName(b));try{return super.subrule(a,b,c)}finally{this.task.stopSubTask(this.ruleName(b))}}}function ih(a,b,c){return function(a,b){let c=a0(b,!1);for(let d of p(b.rules).filter(ad).filter(a=>c.has(a))){let b={...a,consume:1,optional:1,subrule:1,many:1,or:1};a.parser.rule(d,function a(b,c,d=!1){var e,f,g;let h;if(Z(c))h=function(a,b){let c=a.consume++,d=a.tokens[b.value];if(!d)throw Error("Could not find token for keyword: "+b.value);return()=>a.parser.consume(c,d,b)}(b,c);else if(E(c)){let a;e=b,a=a6(f=c),h=()=>e.parser.action(a,f)}else if(I(c))h=a(b,c.terminal);else if(O(c))h=function a(b,c,d=c.terminal){if(d)if(ah(d)&&ad(d.rule.ref)){let a,e=d.rule.ref,f=b.subrule++;return d=>{a??(a=il(b,e)),b.parser.subrule(f,a,!1,c,d)}}else if(ah(d)&&an(d.rule.ref)){let a=b.consume++,e=im(b,d.rule.ref.name);return()=>b.parser.consume(a,e,c)}else if(Z(d)){let a=b.consume++,e=im(b,d.value);return()=>b.parser.consume(a,e,c)}else throw Error("Could not build cross reference parser");{if(!c.type.ref)throw Error("Could not resolve reference to type: "+c.type.$refText);let d=a3(c.type.ref),e=d?.terminal;if(!e)throw Error("Could not find name assignment for type: "+a6(c.type.ref));return a(b,c,e)}}(b,c);else if(ah(c))h=function(a,b){let c=b.rule.ref;if(A(c)){let d,e=a.subrule++,f=ad(c)&&c.fragment,g=b.arguments.length>0?function(a,b){if(b.some(a=>a.calledByName)){let a=b.map(a=>({parameterName:a.parameter?.ref?.name,predicate:ii(a.value)}));return b=>{let c={};for(let{parameterName:d,predicate:e}of a)d&&(c[d]=e(b));return c}}{let c=b.map(a=>ii(a.value));return b=>{let d={};for(let e=0;e<c.length;e++)if(e<a.parameters.length){let f=a.parameters[e].name,g=c[e];d[f]=g(b)}return d}}}(c,b.arguments):()=>({});return h=>{d??(d=il(a,c)),a.parser.subrule(e,d,f,b,g(h))}}if(an(c)){let d=a.consume++,e=im(a,c.name);return()=>a.parser.consume(d,e,b)}if(c)x(c);else throw new w(b.$cstNode,`Undefined rule: ${b.rule.$refText}`)}(b,c);else if(G(c))h=function(b,c){if(1===c.elements.length)return a(b,c.elements[0]);{let d=[];for(let e of c.elements){let c={ALT:a(b,e,!0)},f=ij(e);f&&(c.GATE=ii(f)),d.push(c)}let e=b.or++;return a=>b.parser.alternatives(e,d.map(b=>{let c={ALT:()=>b.ALT(a)},d=b.GATE;return d&&(c.GATE=()=>d(a)),c}))}}(b,c);else if(at(c))h=function(b,c){if(1===c.elements.length)return a(b,c.elements[0]);let d=[];for(let e of c.elements){let c={ALT:a(b,e,!0)},f=ij(e);f&&(c.GATE=ii(f)),d.push(c)}let e=b.or++,f=(a,b)=>{let c=b.getRuleStack().join("-");return`uGroup_${a}_${c}`},g=ik(b,ij(c),a=>b.parser.alternatives(e,d.map((c,d)=>{let g={ALT:()=>!0},h=b.parser;g.ALT=()=>{if(c.ALT(a),!h.isRecording()){let a=f(e,h);h.unorderedGroups.get(a)||h.unorderedGroups.set(a,[]);let b=h.unorderedGroups.get(a);void 0===b?.[d]&&(b[d]=!0)}};let i=c.GATE;return i?g.GATE=()=>i(a):g.GATE=()=>{let a=h.unorderedGroups.get(f(e,h));return!a?.[d]},g})),"*");return a=>{g(a),b.parser.isRecording()||b.parser.unorderedGroups.delete(f(e,b.parser))}}(b,c);else if(S(c)){let d;g=b,d=c.elements.map(b=>a(g,b)),h=a=>d.forEach(b=>b(a))}else if(ay.isInstance(c,Q)){let a=b.consume++;h=()=>b.parser.consume(a,ge,c)}else throw new w(c.$cstNode,`Unexpected element type: ${c.$type}`);return ik(b,d?void 0:ij(c),h,c.cardinality)}(b,d.definition))}for(let d of p(b.rules).filter(W).filter(a=>c.has(a)))a.parser.rule(d,function(a,b){let c,d=b.call.rule.ref;if(!d)throw Error("Could not resolve reference to infix operator rule: "+b.call.rule.$refText);if(an(d))throw Error("Cannot use terminal rule in infix expression");let e=b.operators.precedences.flatMap(a=>a.operators),f={$type:"Group",elements:[]},g={$container:f,$type:"Assignment",feature:"parts",operator:"+=",terminal:b.call},h={$container:f,$type:"Group",elements:[],cardinality:"*"};f.elements.push(g,h);let i={$container:h,$type:"Assignment",feature:"operators",operator:"+=",terminal:{$type:"Alternatives",elements:e}},j={...g,$container:h};h.elements.push(i,j);let k=e.map(b=>a.tokens[b.value]).map((b,c)=>({ALT:()=>a.parser.consume(c,b,i)}));return b=>{c??(c=il(a,d)),a.parser.subrule(0,c,!1,g,b),a.parser.many(0,{DEF:()=>{a.parser.alternatives(0,k),a.parser.subrule(1,c,!1,j,b)}})}}(a,d))}({parser:b,tokens:c,ruleNames:new Map},a),b}function ii(a){if(ay.isInstance(a,P)){let b=ii(a.left),c=ii(a.right);return a=>b(a)||c(a)}if(ay.isInstance(a,M)){let b=ii(a.left),c=ii(a.right);return a=>b(a)&&c(a)}if(ay.isInstance(a,_)){let b=ii(a.value);return a=>!b(a)}if(ay.isInstance(a,ab)){let b=a.parameter.ref.name;return a=>void 0!==a&&!0===a[b]}if(ay.isInstance(a,J)){let b=!!a.true;return()=>b}x(a)}function ij(a){if(S(a))return a.guardCondition}function ik(a,b,c,d){let e=b&&ii(b);if(!d)if(!e)return c;else{let b=a.or++;return d=>a.parser.alternatives(b,[{ALT:()=>c(d),GATE:()=>e(d)},{ALT:ho(),GATE:()=>!e(d)}])}if("*"===d){let b=a.many++;return d=>a.parser.many(b,{DEF:()=>c(d),GATE:e?()=>e(d):void 0})}if("+"===d){let b=a.many++;if(!e)return d=>a.parser.atLeastOne(b,{DEF:()=>c(d)});{let d=a.or++;return f=>a.parser.alternatives(d,[{ALT:()=>a.parser.atLeastOne(b,{DEF:()=>c(f)}),GATE:()=>e(f)},{ALT:ho(),GATE:()=>!e(f)}])}}if("?"===d){let b=a.optional++;return d=>a.parser.optional(b,{DEF:()=>c(d),GATE:e?()=>e(d):void 0})}x(d)}function il(a,b){let c=function(a,b){if(A(b))return b.name;{if(a.ruleNames.has(b))return a.ruleNames.get(b);let c=b,d=c.$container,e=b.$type;for(;!ad(d);)(S(d)||G(d)||at(d))&&(e=d.elements.indexOf(c).toString()+":"+e),c=d,d=d.$container;return e=d.name+":"+e,a.ruleNames.set(b,e),e}}(a,b),d=a.parser.getRule(c);if(!d)throw Error(`Rule "${c}" not found."`);return d}function im(a,b){let c=a.tokens[b];if(!c)throw Error(`Token "${b}" not found."`);return c}class io{constructor(){this.diagnostics=[]}buildTokens(a,b){let c=p(a0(a,!1)),d=this.buildTerminalTokens(c),e=this.buildKeywordTokens(c,d,b);return e.push(...d),e}flushLexingReport(a){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let a=[...this.diagnostics];return this.diagnostics=[],a}buildTerminalTokens(a){return a.filter(an).filter(a=>!a.fragment).map(a=>this.buildTerminalToken(a)).toArray()}buildTerminalToken(a){let b=a7(a),c=this.requiresCustomPattern(b)?this.regexPatternFunction(b):b,d={name:a.name,PATTERN:c};return"function"==typeof c&&(d.LINE_BREAKS=!0),a.hidden&&(d.GROUP=a$(b)?f2.SKIPPED:"hidden"),d}requiresCustomPattern(a){return!!(a.flags.includes("u")||a.flags.includes("s"))}regexPatternFunction(a){let b=RegExp(a,a.flags+"y");return(a,c)=>(b.lastIndex=c,b.exec(a))}buildKeywordTokens(a,b,c){return a.filter(A).flatMap(a=>aE(a).filter(Z)).distinct(a=>a.value).toArray().sort((a,b)=>b.value.length-a.value.length).map(a=>this.buildKeywordToken(a,b,!!c?.caseInsensitive))}buildKeywordToken(a,b,c){let d=this.buildKeywordPattern(a,c),e={name:a.value,PATTERN:d,LONGER_ALT:this.findLongerAlt(a,b)};return"function"==typeof d&&(e.LINE_BREAKS=!0),e}buildKeywordPattern(a,b){return b?RegExp(a_(a.value),"i"):a.value}findLongerAlt(a,b){return b.reduce((b,c)=>{var d,e,f;let g,h,i,j,k,l=c?.PATTERN;return l?.source&&(d="^"+l.source+"$",e=a.value,"string"==typeof(f=d)&&(f=new RegExp(f)),g=f,h=f.source,i=0,j=new RegExp(function a(){let b="",c;function d(a){b+=h.substr(i,a),i+=a}function e(a){b+="(?:"+h.substr(i,a)+"|$)",i+=a}for(;i<h.length;)switch(h[i]){case"\\":switch(h[i+1]){case"c":e(3);break;case"x":e(4);break;case"u":e(g.unicode?"{"===h[i+2]?h.indexOf("}",i)-i+1:6:2);break;case"p":case"P":e(g.unicode?h.indexOf("}",i)-i+1:2);break;case"k":e(h.indexOf(">",i)-i+1);break;default:e(2)}break;case"[":(c=/\[(?:\\.|.)*?\]/g).lastIndex=i,e((c=c.exec(h)||[])[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":d(1);break;case"{":(c=/\{\d+,?\d*\}/g).lastIndex=i,(c=c.exec(h))?d(c[0].length):e(1);break;case"(":if("?"===h[i+1])switch(h[i+2]){case":":b+="(?:",i+=3,b+=a()+"|$)";break;case"=":b+="(?=",i+=3,b+=a()+")";break;case"!":c=i,i+=3,a(),b+=h.substr(c,i-c);break;case"<":switch(h[i+3]){case"=":case"!":c=i,i+=4,a(),b+=h.substr(c,i-c);break;default:d(h.indexOf(">",i)-i+1),b+=a()+"|$)"}}else d(1),b+=a()+"|$)";break;case")":return++i,b;default:e(1)}return b}(),f.flags),(k=e.match(j))&&k[0].length>0)&&b.push(c),b},[])}}class ip{convert(a,b){let c=b.grammarSource;if(O(c)&&(c=function(a){if(a.terminal)return a.terminal;if(a.type.ref){let b=a3(a.type.ref);return b?.terminal}}(c)),ah(c)){let d=c.rule.ref;if(!d)throw Error("This cst node was not parsed by a rule.");return this.runConverter(d,a,b)}return a}runConverter(a,b,c){switch(a.name.toUpperCase()){case"INT":return dD.convertInt(b);case"STRING":return dD.convertString(b);case"ID":return dD.convertID(b)}switch((an(a)?a.type?.name??"string":a5(a)??a.name)?.toLowerCase()){case"number":return dD.convertNumber(b);case"boolean":return dD.convertBoolean(b);case"bigint":return dD.convertBigint(b);case"date":return dD.convertDate(b);default:return b}}}(b8=dD||(dD={})).convertString=function(a){let b="";for(let c=1;c<a.length-1;c++){let d=a.charAt(c);"\\"===d?b+=function(a){switch(a){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return a}}(a.charAt(++c)):b+=d}return b},b8.convertID=function(a){return"^"===a.charAt(0)?a.substring(1):a},b8.convertInt=function(a){return parseInt(a)},b8.convertBigint=function(a){return BigInt(a)},b8.convertDate=function(a){return new Date(a)},b8.convertNumber=function(a){return Number(a)},b8.convertBoolean=function(a){return"true"===a.toLowerCase()};var iq=a.i(96212);let ir=0,is=Symbol("OperationCancelled");async function it(a){if(a===iq.CancellationToken.None)return;let b=performance.now();if(b-ir>=10&&(ir=b,await new Promise(a=>{"u"<typeof setImmediate?setTimeout(a,0):setImmediate(a)}),ir=performance.now()),a.isCancellationRequested)throw is}class iu{constructor(){this.promise=new Promise((a,b)=>{this.resolve=b=>(a(b),this),this.reject=a=>(b(a),this)})}}class iv{constructor(a,b,c,d){this._uri=a,this._languageId=b,this._version=c,this._content=d,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(a){if(a){let b=this.offsetAt(a.start),c=this.offsetAt(a.end);return this._content.substring(b,c)}return this._content}update(a,b){for(let b of a)if(iv.isIncremental(b)){let a=iy(b.range),c=this.offsetAt(a.start),d=this.offsetAt(a.end);this._content=this._content.substring(0,c)+b.text+this._content.substring(d,this._content.length);let e=Math.max(a.start.line,0),f=Math.max(a.end.line,0),g=this._lineOffsets,h=iw(b.text,!1,c);if(f-e===h.length)for(let a=0,b=h.length;a<b;a++)g[a+e+1]=h[a];else h.length<1e4?g.splice(e+1,f-e,...h):this._lineOffsets=g=g.slice(0,e+1).concat(h,g.slice(f+1));let i=b.text.length-(d-c);if(0!==i)for(let a=e+1+h.length,b=g.length;a<b;a++)g[a]=g[a]+i}else if(iv.isFull(b))this._content=b.text,this._lineOffsets=void 0;else throw Error("Unknown change event received");this._version=b}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=iw(this._content,!0)),this._lineOffsets}positionAt(a){a=Math.max(Math.min(a,this._content.length),0);let b=this.getLineOffsets(),c=0,d=b.length;if(0===d)return{line:0,character:a};for(;c<d;){let e=Math.floor((c+d)/2);b[e]>a?d=e:c=e+1}let e=c-1;return a=this.ensureBeforeEOL(a,b[e]),{line:e,character:a-b[e]}}offsetAt(a){let b=this.getLineOffsets();if(a.line>=b.length)return this._content.length;if(a.line<0)return 0;let c=b[a.line];if(a.character<=0)return c;let d=a.line+1<b.length?b[a.line+1]:this._content.length,e=Math.min(c+a.character,d);return this.ensureBeforeEOL(e,c)}ensureBeforeEOL(a,b){for(;a>b&&ix(this._content.charCodeAt(a-1));)a--;return a}get lineCount(){return this.getLineOffsets().length}static isIncremental(a){return null!=a&&"string"==typeof a.text&&void 0!==a.range&&(void 0===a.rangeLength||"number"==typeof a.rangeLength)}static isFull(a){return null!=a&&"string"==typeof a.text&&void 0===a.range&&void 0===a.rangeLength}}function iw(a,b,c=0){let d=b?[c]:[];for(let b=0;b<a.length;b++){let e=a.charCodeAt(b);ix(e)&&(13===e&&b+1<a.length&&10===a.charCodeAt(b+1)&&b++,d.push(c+b+1))}return d}function ix(a){return 13===a||10===a}function iy(a){let b=a.start,c=a.end;return b.line>c.line||b.line===c.line&&b.character>c.character?{start:c,end:b}:a}function iz(a){let b=iy(a.range);return b!==a.range?{newText:a.newText,range:b}:a}(b9=dE||(dE={})).create=function(a,b,c,d){return new iv(a,b,c,d)},b9.update=function(a,b,c){if(a instanceof iv)return a.update(b,c),a;throw Error("TextDocument.update: document must be created by TextDocument.create")},b9.applyEdits=function(a,b){let c=a.getText(),d=function a(b,c){if(b.length<=1)return b;let d=b.length/2|0,e=b.slice(0,d),f=b.slice(d);a(e,c),a(f,c);let g=0,h=0,i=0;for(;g<e.length&&h<f.length;)0>=c(e[g],f[h])?b[i++]=e[g++]:b[i++]=f[h++];for(;g<e.length;)b[i++]=e[g++];for(;h<f.length;)b[i++]=f[h++];return b}(b.map(iz),(a,b)=>{let c=a.range.start.line-b.range.start.line;return 0===c?a.range.start.character-b.range.start.character:c}),e=0,f=[];for(let b of d){let d=a.offsetAt(b.range.start);if(d<e)throw Error("Overlapping edit");d>e&&f.push(c.substring(e,d)),b.newText.length&&f.push(b.newText),e=a.offsetAt(b.range.end)}return f.push(c.substr(e)),f.join("")},(()=>{let a;var b,c,d={975:a=>{function b(a){if("string"!=typeof a)throw TypeError("Path must be a string. Received "+JSON.stringify(a))}function c(a,b){for(var c,d="",e=0,f=-1,g=0,h=0;h<=a.length;++h){if(h<a.length)c=a.charCodeAt(h);else{if(47===c)break;c=47}if(47===c){if(f===h-1||1===g);else if(f!==h-1&&2===g){if(d.length<2||2!==e||46!==d.charCodeAt(d.length-1)||46!==d.charCodeAt(d.length-2)){if(d.length>2){var i=d.lastIndexOf("/");if(i!==d.length-1){-1===i?(d="",e=0):e=(d=d.slice(0,i)).length-1-d.lastIndexOf("/"),f=h,g=0;continue}}else if(2===d.length||1===d.length){d="",e=0,f=h,g=0;continue}}b&&(d.length>0?d+="/..":d="..",e=2)}else d.length>0?d+="/"+a.slice(f+1,h):d=a.slice(f+1,h),e=h-f-1;f=h,g=0}else 46===c&&-1!==g?++g:g=-1}return d}var d={resolve:function(){for(var a,d,e="",f=!1,g=arguments.length-1;g>=-1&&!f;g--)g>=0?a=arguments[g]:(void 0===d&&(d=process.cwd()),a=d),b(a),0!==a.length&&(e=a+"/"+e,f=47===a.charCodeAt(0));return e=c(e,!f),f?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(a){if(b(a),0===a.length)return".";var d=47===a.charCodeAt(0),e=47===a.charCodeAt(a.length-1);return 0!==(a=c(a,!d)).length||d||(a="."),a.length>0&&e&&(a+="/"),d?"/"+a:a},isAbsolute:function(a){return b(a),a.length>0&&47===a.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var a,c=0;c<arguments.length;++c){var e=arguments[c];b(e),e.length>0&&(void 0===a?a=e:a+="/"+e)}return void 0===a?".":d.normalize(a)},relative:function(a,c){if(b(a),b(c),a===c||(a=d.resolve(a))===(c=d.resolve(c)))return"";for(var e=1;e<a.length&&47===a.charCodeAt(e);++e);for(var f=a.length,g=f-e,h=1;h<c.length&&47===c.charCodeAt(h);++h);for(var i=c.length-h,j=g<i?g:i,k=-1,l=0;l<=j;++l){if(l===j){if(i>j){if(47===c.charCodeAt(h+l))return c.slice(h+l+1);if(0===l)return c.slice(h+l)}else g>j&&(47===a.charCodeAt(e+l)?k=l:0===l&&(k=0));break}var m=a.charCodeAt(e+l);if(m!==c.charCodeAt(h+l))break;47===m&&(k=l)}var n="";for(l=e+k+1;l<=f;++l)l!==f&&47!==a.charCodeAt(l)||(0===n.length?n+="..":n+="/..");return n.length>0?n+c.slice(h+k):(h+=k,47===c.charCodeAt(h)&&++h,c.slice(h))},_makeLong:function(a){return a},dirname:function(a){if(b(a),0===a.length)return".";for(var c=a.charCodeAt(0),d=47===c,e=-1,f=!0,g=a.length-1;g>=1;--g)if(47===(c=a.charCodeAt(g))){if(!f){e=g;break}}else f=!1;return -1===e?d?"/":".":d&&1===e?"//":a.slice(0,e)},basename:function(a,c){if(void 0!==c&&"string"!=typeof c)throw TypeError('"ext" argument must be a string');b(a);var d,e=0,f=-1,g=!0;if(void 0!==c&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var h=c.length-1,i=-1;for(d=a.length-1;d>=0;--d){var j=a.charCodeAt(d);if(47===j){if(!g){e=d+1;break}}else -1===i&&(g=!1,i=d+1),h>=0&&(j===c.charCodeAt(h)?-1==--h&&(f=d):(h=-1,f=i))}return e===f?f=i:-1===f&&(f=a.length),a.slice(e,f)}for(d=a.length-1;d>=0;--d)if(47===a.charCodeAt(d)){if(!g){e=d+1;break}}else -1===f&&(g=!1,f=d+1);return -1===f?"":a.slice(e,f)},extname:function(a){b(a);for(var c=-1,d=0,e=-1,f=!0,g=0,h=a.length-1;h>=0;--h){var i=a.charCodeAt(h);if(47!==i)-1===e&&(f=!1,e=h+1),46===i?-1===c?c=h:1!==g&&(g=1):-1!==c&&(g=-1);else if(!f){d=h+1;break}}return -1===c||-1===e||0===g||1===g&&c===e-1&&c===d+1?"":a.slice(c,e)},format:function(a){var b,c;if(null===a||"object"!=typeof a)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return b=a.dir||a.root,c=a.base||(a.name||"")+(a.ext||""),b?b===a.root?b+c:b+"/"+c:c},parse:function(a){b(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(0===a.length)return c;var d,e=a.charCodeAt(0),f=47===e;f?(c.root="/",d=1):d=0;for(var g=-1,h=0,i=-1,j=!0,k=a.length-1,l=0;k>=d;--k)if(47!==(e=a.charCodeAt(k)))-1===i&&(j=!1,i=k+1),46===e?-1===g?g=k:1!==l&&(l=1):-1!==g&&(l=-1);else if(!j){h=k+1;break}return -1===g||-1===i||0===l||1===l&&g===i-1&&g===h+1?-1!==i&&(c.base=c.name=0===h&&f?a.slice(1,i):a.slice(h,i)):(0===h&&f?(c.name=a.slice(1,g),c.base=a.slice(1,i)):(c.name=a.slice(h,g),c.base=a.slice(h,i)),c.ext=a.slice(g,i)),h>0?c.dir=a.slice(0,h-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};d.posix=d,a.exports=d}},e={};function f(a){var b=e[a];if(void 0!==b)return b.exports;var c=e[a]={exports:{}};return d[a](c,c.exports,f),c.exports}f.d=(a,b)=>{for(var c in b)f.o(b,c)&&!f.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:b[c]})},f.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),f.r=a=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var g={};(f.r(g),f.d(g,{URI:()=>m,Utils:()=>c}),"object"==typeof process)?a="win32"===process.platform:"object"==typeof navigator&&(a=navigator.userAgent.indexOf("Windows")>=0);let h=/^\w[\w\d+.-]*$/,i=/^\//,j=/^\/\//;function k(a,b){if(!a.scheme&&b)throw Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${a.authority}", path: "${a.path}", query: "${a.query}", fragment: "${a.fragment}"}`);if(a.scheme&&!h.test(a.scheme))throw Error("[UriError]: Scheme contains illegal characters.");if(a.path){if(a.authority){if(!i.test(a.path))throw Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(j.test(a.path))throw Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let l=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{static isUri(a){return a instanceof m||!!a&&"string"==typeof a.authority&&"string"==typeof a.fragment&&"string"==typeof a.path&&"string"==typeof a.query&&"string"==typeof a.scheme&&"string"==typeof a.fsPath&&"function"==typeof a.with&&"function"==typeof a.toString}scheme;authority;path;query;fragment;constructor(a,b,c,d,e,f=!1){"object"==typeof a?(this.scheme=a.scheme||"",this.authority=a.authority||"",this.path=a.path||"",this.query=a.query||"",this.fragment=a.fragment||""):(this.scheme=function(a,b){return a||b?a:"file"}(a,f),this.authority=b||"",this.path=function(a,b){switch(a){case"https":case"http":case"file":b?"/"!==b[0]&&(b="/"+b):b="/"}return b}(this.scheme,c||""),this.query=d||"",this.fragment=e||"",k(this,f))}get fsPath(){return s(this,!1)}with(a){if(!a)return this;let{scheme:b,authority:c,path:d,query:e,fragment:f}=a;return void 0===b?b=this.scheme:null===b&&(b=""),void 0===c?c=this.authority:null===c&&(c=""),void 0===d?d=this.path:null===d&&(d=""),void 0===e?e=this.query:null===e&&(e=""),void 0===f?f=this.fragment:null===f&&(f=""),b===this.scheme&&c===this.authority&&d===this.path&&e===this.query&&f===this.fragment?this:new o(b,c,d,e,f)}static parse(a,b=!1){let c=l.exec(a);return c?new o(c[2]||"",v(c[4]||""),v(c[5]||""),v(c[7]||""),v(c[9]||""),b):new o("","","","","")}static file(b){let c="";if(a&&(b=b.replace(/\\/g,"/")),"/"===b[0]&&"/"===b[1]){let a=b.indexOf("/",2);-1===a?(c=b.substring(2),b="/"):(c=b.substring(2,a),b=b.substring(a)||"/")}return new o("file",c,b,"","")}static from(a){let b=new o(a.scheme,a.authority,a.path,a.query,a.fragment);return k(b,!0),b}toString(a=!1){return t(this,a)}toJSON(){return this}static revive(a){if(a){if(a instanceof m)return a;{let b=new o(a);return b._formatted=a.external,b._fsPath=a._sep===n?a.fsPath:null,b}}return a}}let n=a?1:void 0;class o extends m{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=s(this,!1)),this._fsPath}toString(a=!1){return a?t(this,!0):(this._formatted||(this._formatted=t(this,!1)),this._formatted)}toJSON(){let a={$mid:1};return this._fsPath&&(a.fsPath=this._fsPath,a._sep=n),this._formatted&&(a.external=this._formatted),this.path&&(a.path=this.path),this.scheme&&(a.scheme=this.scheme),this.authority&&(a.authority=this.authority),this.query&&(a.query=this.query),this.fragment&&(a.fragment=this.fragment),a}}let p={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function q(a,b,c){let d,e=-1;for(let f=0;f<a.length;f++){let g=a.charCodeAt(f);if(g>=97&&g<=122||g>=65&&g<=90||g>=48&&g<=57||45===g||46===g||95===g||126===g||b&&47===g||c&&91===g||c&&93===g||c&&58===g)-1!==e&&(d+=encodeURIComponent(a.substring(e,f)),e=-1),void 0!==d&&(d+=a.charAt(f));else{void 0===d&&(d=a.substr(0,f));let b=p[g];void 0!==b?(-1!==e&&(d+=encodeURIComponent(a.substring(e,f)),e=-1),d+=b):-1===e&&(e=f)}}return -1!==e&&(d+=encodeURIComponent(a.substring(e))),void 0!==d?d:a}function r(a){let b;for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);35===d||63===d?(void 0===b&&(b=a.substr(0,c)),b+=p[d]):void 0!==b&&(b+=a[c])}return void 0!==b?b:a}function s(b,c){let d;return d=b.authority&&b.path.length>1&&"file"===b.scheme?`//${b.authority}${b.path}`:47===b.path.charCodeAt(0)&&(b.path.charCodeAt(1)>=65&&90>=b.path.charCodeAt(1)||b.path.charCodeAt(1)>=97&&122>=b.path.charCodeAt(1))&&58===b.path.charCodeAt(2)?c?b.path.substr(1):b.path[1].toLowerCase()+b.path.substr(2):b.path,a&&(d=d.replace(/\//g,"\\")),d}function t(a,b){let c=b?r:q,d="",{scheme:e,authority:f,path:g,query:h,fragment:i}=a;if(e&&(d+=e,d+=":"),(f||"file"===e)&&(d+="/",d+="/"),f){let a=f.indexOf("@");if(-1!==a){let b=f.substr(0,a);f=f.substr(a+1),-1===(a=b.lastIndexOf(":"))?d+=c(b,!1,!1):(d+=c(b.substr(0,a),!1,!1),d+=":",d+=c(b.substr(a+1),!1,!0)),d+="@"}-1===(a=(f=f.toLowerCase()).lastIndexOf(":"))?d+=c(f,!1,!0):(d+=c(f.substr(0,a),!1,!0),d+=f.substr(a))}if(g){if(g.length>=3&&47===g.charCodeAt(0)&&58===g.charCodeAt(2)){let a=g.charCodeAt(1);a>=65&&a<=90&&(g=`/${String.fromCharCode(a+32)}:${g.substr(3)}`)}else if(g.length>=2&&58===g.charCodeAt(1)){let a=g.charCodeAt(0);a>=65&&a<=90&&(g=`${String.fromCharCode(a+32)}:${g.substr(2)}`)}d+=c(g,!0,!1)}return h&&(d+="?",d+=c(h,!1,!1)),i&&(d+="#",d+=b?i:q(i,!1,!1)),d}let u=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function v(a){return a.match(u)?a.replace(u,a=>(function a(b){try{return decodeURIComponent(b)}catch{return b.length>3?b.substr(0,3)+a(b.substr(3)):b}})(a)):a}var w=f(975);let x=w.posix||w;(b=c||(c={})).joinPath=function(a,...b){return a.with({path:x.join(a.path,...b)})},b.resolvePath=function(a,...b){let c=a.path,d=!1;"/"!==c[0]&&(c="/"+c,d=!0);let e=x.resolve(c,...b);return d&&"/"===e[0]&&!a.authority&&(e=e.substring(1)),a.with({path:e})},b.dirname=function(a){if(0===a.path.length||"/"===a.path)return a;let b=x.dirname(a.path);return 1===b.length&&46===b.charCodeAt(0)&&(b=""),a.with({path:b})},b.basename=function(a){return x.basename(a.path)},b.extname=function(a){return x.extname(a.path)},dF=g})();let{URI:iA,Utils:iB}=dF;(ca=dG||(dG={})).basename=iB.basename,ca.dirname=iB.dirname,ca.extname=iB.extname,ca.joinPath=iB.joinPath,ca.resolvePath=iB.resolvePath,c="object"==typeof process&&process?.platform==="win32",ca.equals=function(a,b){return a?.toString()===b?.toString()},ca.relative=function(a,b){let d="string"==typeof a?iA.parse(a).path:a.path,e="string"==typeof b?iA.parse(b).path:b.path,f=d.split("/").filter(a=>a.length>0),g=e.split("/").filter(a=>a.length>0);if(c){let a=/^[A-Z]:$/;if(f[0]&&a.test(f[0])&&(f[0]=f[0].toLowerCase()),g[0]&&a.test(g[0])&&(g[0]=g[0].toLowerCase()),f[0]!==g[0])return e.substring(1)}let h=0;for(;h<f.length&&f[h]===g[h];h++);return"../".repeat(f.length-h)+g.slice(h).join("/")},ca.normalize=function(a){return iA.parse(a.toString()).toString()},ca.contains=function(a,b){let c="string"==typeof a?a:a.path,d="string"==typeof b?b:b.path;return"/"===d.charAt(d.length-1)&&(d=d.slice(0,-1)),"/"===c.charAt(c.length-1)&&(c=c.slice(0,-1)),d===c||!(d.length<c.length)&&"/"===d.charAt(c.length)&&d.startsWith(c)};class iC{constructor(){this.root={name:"",children:new Map}}normalizeUri(a){return dG.normalize(a)}clear(){this.root.children.clear()}insert(a,b){this.getNode(this.normalizeUri(a),!0).element=b}delete(a){let b=this.getNode(this.normalizeUri(a),!1);b?.parent&&b.parent.children.delete(b.name)}has(a){return this.getNode(this.normalizeUri(a),!1)?.element!==void 0}hasNode(a){return void 0!==this.getNode(this.normalizeUri(a),!1)}find(a){return this.getNode(this.normalizeUri(a),!1)?.element}findNode(a){let b=this.normalizeUri(a),c=this.getNode(b,!1);if(c)return{name:c.name,uri:dG.joinPath(iA.parse(b),c.name).toString(),element:c.element}}findChildren(a){let b=this.normalizeUri(a),c=this.getNode(b,!1);return c?Array.from(c.children.values()).map(a=>({name:a.name,uri:dG.joinPath(iA.parse(b),a.name).toString(),element:a.element})):[]}all(){return this.collectValues(this.root)}findAll(a){let b=this.getNode(dG.normalize(a),!1);return b?this.collectValues(b):[]}getNode(a,b){let c=a.split("/");"/"===a.charAt(a.length-1)&&c.pop();let d=this.root;for(let a of c){let c=d.children.get(a);if(!c)if(!b)return;else c={name:a,children:new Map,parent:d},d.children.set(a,c);d=c}return d}collectValues(a){let b=[];for(let c of(a.element&&b.push(a.element),a.children.values()))b.push(...this.collectValues(c));return b}}(cb=dH||(dH={}))[cb.Changed=0]="Changed",cb[cb.Parsed=1]="Parsed",cb[cb.IndexedContent=2]="IndexedContent",cb[cb.ComputedScopes=3]="ComputedScopes",cb[cb.Linked=4]="Linked",cb[cb.IndexedReferences=5]="IndexedReferences",cb[cb.Validated=6]="Validated";class iD{constructor(a){this.serviceRegistry=a.ServiceRegistry,this.textDocuments=a.workspace.TextDocuments,this.fileSystemProvider=a.workspace.FileSystemProvider}async fromUri(a,b=iq.CancellationToken.None){let c=await this.fileSystemProvider.readFile(a);return this.createAsync(a,c,b)}fromTextDocument(a,b,c){return(b=b??iA.parse(a.uri),iq.CancellationToken.is(c))?this.createAsync(b,a,c):this.create(b,a,c)}fromString(a,b,c){return iq.CancellationToken.is(c)?this.createAsync(b,a,c):this.create(b,a,c)}fromModel(a,b){return this.create(b,{$model:a})}create(a,b,c){if("string"==typeof b){let d=this.parse(a,b,c);return this.createLangiumDocument(d,a,void 0,b)}if("$model"in b){let c={value:b.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(c,a)}{let d=this.parse(a,b.getText(),c);return this.createLangiumDocument(d,a,b)}}async createAsync(a,b,c){if("string"==typeof b){let d=await this.parseAsync(a,b,c);return this.createLangiumDocument(d,a,void 0,b)}{let d=await this.parseAsync(a,b.getText(),c);return this.createLangiumDocument(d,a,b)}}createLangiumDocument(a,b,c,d){let e;if(c)e={parseResult:a,uri:b,state:dH.Parsed,references:[],textDocument:c};else{let c=this.createTextDocumentGetter(b,d);e={parseResult:a,uri:b,state:dH.Parsed,references:[],get textDocument(){return c()}}}return a.value.$document=e,e}async update(a,b){let c=a.parseResult.value.$cstNode?.root.fullText,d=this.textDocuments?.get(a.uri.toString()),e=d?d.getText():await this.fileSystemProvider.readFile(a.uri);if(d)Object.defineProperty(a,"textDocument",{value:d});else{let b=this.createTextDocumentGetter(a.uri,e);Object.defineProperty(a,"textDocument",{get:b})}return c!==e&&(a.parseResult=await this.parseAsync(a.uri,e,b),a.parseResult.value.$document=a),a.state=dH.Parsed,a}parse(a,b,c){return this.serviceRegistry.getServices(a).parser.LangiumParser.parse(b,c)}parseAsync(a,b,c){return this.serviceRegistry.getServices(a).parser.AsyncParser.parse(b,c)}createTextDocumentGetter(a,b){let c,d=this.serviceRegistry;return()=>c??(c=dE.create(a.toString(),d.getServices(a).LanguageMetaData.languageId,0,b??""))}}class iE{constructor(a){this.documentTrie=new iC,this.services=a,this.langiumDocumentFactory=a.workspace.LangiumDocumentFactory,this.documentBuilder=()=>a.workspace.DocumentBuilder}get all(){return p(this.documentTrie.all())}addDocument(a){let b=a.uri.toString();if(this.documentTrie.has(b))throw Error(`A document with the URI '${b}' is already present.`);this.documentTrie.insert(b,a)}getDocument(a){let b=a.toString();return this.documentTrie.find(b)}getDocuments(a){let b=a.toString();return this.documentTrie.findAll(b)}async getOrCreateDocument(a,b){let c=this.getDocument(a);return c||(c=await this.langiumDocumentFactory.fromUri(a,b),this.addDocument(c)),c}createDocument(a,b,c){if(c)return this.langiumDocumentFactory.fromString(b,a,c).then(a=>(this.addDocument(a),a));{let c=this.langiumDocumentFactory.fromString(b,a);return this.addDocument(c),c}}hasDocument(a){return this.documentTrie.has(a.toString())}invalidateDocument(a){let b=a.toString(),c=this.documentTrie.find(b);return c&&this.documentBuilder().resetToState(c,dH.Changed),c}deleteDocument(a){let b=a.toString(),c=this.documentTrie.find(b);return c&&(c.state=dH.Changed,this.documentTrie.delete(b)),c}deleteDocuments(a){let b=a.toString(),c=this.documentTrie.findAll(b);for(let a of c)a.state=dH.Changed;return this.documentTrie.delete(b),c}}let iF=Symbol("RefResolving");class iG{constructor(a){this.reflection=a.shared.AstReflection,this.langiumDocuments=()=>a.shared.workspace.LangiumDocuments,this.scopeProvider=a.references.ScopeProvider,this.astNodeLocator=a.workspace.AstNodeLocator,this.profiler=a.shared.profilers.LangiumProfiler,this.languageId=a.LanguageMetaData.languageId}async link(a,b=iq.CancellationToken.None){if(this.profiler?.isActive("linking")){let c=this.profiler.createTask("linking",this.languageId);c.start();try{for(let d of aF(a.parseResult.value))await it(b),aH(d).forEach(b=>{let e=`${d.$type}:${b.property}`;c.startSubTask(e);try{this.doLink(b,a)}finally{c.stopSubTask(e)}})}finally{c.stop()}}else for(let c of aF(a.parseResult.value))await it(b),aH(c).forEach(b=>this.doLink(b,a))}doLink(a,b){let c=a.reference;if("_ref"in c&&void 0===c._ref){c._ref=iF;try{let b=this.getCandidate(a);g(b)?c._ref=b:(c._nodeDescription=b,c._ref=this.loadAstNode(b)??this.createLinkingError(a,b))}catch(d){console.error(`An error occurred while resolving reference to '${c.$refText}':`,d);let b=d.message??String(d);c._ref={info:a,message:`An error occurred while resolving reference to '${c.$refText}': ${b}`}}b.references.push(c)}else if("_items"in c&&void 0===c._items){c._items=iF;try{let b=this.getCandidates(a),d=[];if(g(b))c._linkingError=b;else for(let a of b){let b=this.loadAstNode(a);b&&d.push({ref:b,$nodeDescription:a})}c._items=d}catch(b){c._linkingError={info:a,message:`An error occurred while resolving reference to '${c.$refText}': ${b}`},c._items=[]}b.references.push(c)}}unlink(a){for(let b of a.references)"_ref"in b?(b._ref=void 0,delete b._nodeDescription):"_items"in b&&(b._items=void 0,delete b._linkingError);a.references=[]}getCandidate(a){return this.scopeProvider.getScope(a).getElement(a.reference.$refText)??this.createLinkingError(a)}getCandidates(a){let b=this.scopeProvider.getScope(a).getElements(a.reference.$refText).distinct(a=>`${a.documentUri}#${a.path}`).toArray();return b.length>0?b:this.createLinkingError(a)}buildReference(a,b,c,e){let f=this,h={$refNode:c,$refText:e,_ref:void 0,get ref(){var i;if(d(this._ref))return this._ref;if("object"==typeof(i=this._nodeDescription)&&null!==i&&"string"==typeof i.name&&"string"==typeof i.type&&"string"==typeof i.path){let c=f.loadAstNode(this._nodeDescription);this._ref=c??f.createLinkingError({reference:h,container:a,property:b},this._nodeDescription)}else if(void 0===this._ref){this._ref=iF;let c=aB(a).$document,d=f.getLinkedNode({reference:h,container:a,property:b});if(d.error&&c&&c.state<dH.ComputedScopes)return this._ref=void 0;this._ref=d.node??d.error,this._nodeDescription=d.descr,c?.references.push(this)}else this._ref===iF&&f.throwCyclicReferenceError(a,b,e);return d(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return g(this._ref)?this._ref:void 0}};return h}buildMultiReference(a,b,c,d){let e=this,f={$refNode:c,$refText:d,_items:void 0,get items(){if(Array.isArray(this._items))return this._items;if(void 0===this._items){this._items=iF;let c=aB(a).$document,d=e.getCandidates({reference:f,container:a,property:b}),h=[];if(g(d))this._linkingError=d;else for(let a of d){let b=e.loadAstNode(a);b&&h.push({ref:b,$nodeDescription:a})}this._items=h,c?.references.push(this)}else this._items===iF&&e.throwCyclicReferenceError(a,b,d);return Array.isArray(this._items)?this._items:[]},get error(){if(this._linkingError)return this._linkingError;if(this.items.length>0)return;return this._linkingError=e.createLinkingError({reference:f,container:a,property:b})}};return f}throwCyclicReferenceError(a,b,c){throw Error(`Cyclic reference resolution detected: ${this.astNodeLocator.getAstNodePath(a)}/${b} (symbol '${c}')`)}getLinkedNode(a){try{let b=this.getCandidate(a);if(g(b))return{error:b};let c=this.loadAstNode(b);if(c)return{node:c,descr:b};return{descr:b,error:this.createLinkingError(a,b)}}catch(c){console.error(`An error occurred while resolving reference to '${a.reference.$refText}':`,c);let b=c.message??String(c);return{error:{info:a,message:`An error occurred while resolving reference to '${a.reference.$refText}': ${b}`}}}}loadAstNode(a){if(a.node)return a.node;let b=this.langiumDocuments().getDocument(a.documentUri);if(b)return this.astNodeLocator.getAstNode(b.parseResult.value,a.path)}createLinkingError(a,b){let c=aB(a.container).$document;c&&c.state<dH.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${c.uri}).`);let d=this.reflection.getReferenceType(a);return{info:a,message:`Could not resolve reference to ${d} named '${a.reference.$refText}'.`,targetDescription:b}}}class iH{getName(a){if("string"==typeof a.name)return a.name}getNameNode(a){return a1(a.$cstNode,"name")}}class iI{constructor(a){this.nameProvider=a.references.NameProvider,this.index=a.shared.workspace.IndexManager,this.nodeLocator=a.workspace.AstNodeLocator,this.documents=a.shared.workspace.LangiumDocuments,this.hasMultiReference=aF(a.Grammar).some(a=>O(a)&&a.isMulti)}findDeclarations(a){if(a){let b=function(a){let b=a.astNode;for(;b===a.container?.astNode;){let b=az(a.grammarSource,I);if(b)return b;a=a.container}}(a),c=a.astNode;if(b&&c){let d=c[b.feature];if(e(d)||f(d))return aC(d);if(Array.isArray(d)){for(let b of d)if((e(b)||f(b))&&b.$refNode&&b.$refNode.offset<=a.offset&&b.$refNode.end>=a.end)return aC(b)}}if(c){let b=this.nameProvider.getNameNode(c);if(b&&(b===a||function(a,b){for(;a.container;)if((a=a.container)===b)return!0;return!1}(a,b)))return this.getSelfNodes(c)}}return[]}getSelfNodes(a){if(!this.hasMultiReference)return[a];{let b=this.index.findAllReferences(a,this.nodeLocator.getAstNodePath(a)),c=this.getNodeFromReferenceDescription(b.head());if(c){for(let b of aH(c))if(f(b.reference)&&b.reference.items.some(b=>b.ref===a))return b.reference.items.map(a=>a.ref)}return[a]}}getNodeFromReferenceDescription(a){if(!a)return;let b=this.documents.getDocument(a.sourceUri);if(b)return this.nodeLocator.getAstNode(b.parseResult.value,a.sourcePath)}findDeclarationNodes(a){let b=this.findDeclarations(a),c=[];for(let a of b){let b=this.nameProvider.getNameNode(a)??a.$cstNode;b&&c.push(b)}return c}findReferences(a,b){let c=[];b.includeDeclaration&&c.push(...this.getSelfReferences(a));let d=this.index.findAllReferences(a,this.nodeLocator.getAstNodePath(a));return b.documentUri&&(d=d.filter(a=>dG.equals(a.sourceUri,b.documentUri))),c.push(...d),p(c)}getSelfReferences(a){let b=this.getSelfNodes(a),c=[];for(let a of b){let b=this.nameProvider.getNameNode(a);if(b){let d=aA(a),e=this.nodeLocator.getAstNodePath(a);c.push({sourceUri:d.uri,sourcePath:e,targetUri:d.uri,targetPath:e,segment:t(b),local:!0})}}return c}}class iJ{constructor(a){if(this.map=new Map,a)for(const[b,c]of a)this.add(b,c)}get size(){return cg.sum(p(this.map.values()).map(a=>a.length))}clear(){this.map.clear()}delete(a,b){if(void 0===b)return this.map.delete(a);{let c=this.map.get(a);if(c){let d=c.indexOf(b);if(d>=0)return 1===c.length?this.map.delete(a):c.splice(d,1),!0}return!1}}get(a){return this.map.get(a)??[]}getStream(a){let b=this.map.get(a);return b?p(b):n}has(a,b){if(void 0===b)return this.map.has(a);{let c=this.map.get(a);return!!c&&c.indexOf(b)>=0}}add(a,b){return this.map.has(a)?this.map.get(a).push(b):this.map.set(a,[b]),this}addAll(a,b){return this.map.has(a)?this.map.get(a).push(...b):this.map.set(a,Array.from(b)),this}forEach(a){this.map.forEach((b,c)=>b.forEach(b=>a(b,c,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return p(this.map.entries()).flatMap(([a,b])=>b.map(b=>[a,b]))}keys(){return p(this.map.keys())}values(){return p(this.map.values()).flat()}entriesGroupedByKey(){return p(this.map.entries())}}class iK{get size(){return this.map.size}constructor(a){if(this.map=new Map,this.inverse=new Map,a)for(const[b,c]of a)this.set(b,c)}clear(){this.map.clear(),this.inverse.clear()}set(a,b){return this.map.set(a,b),this.inverse.set(b,a),this}get(a){return this.map.get(a)}getKey(a){return this.inverse.get(a)}delete(a){let b=this.map.get(a);return void 0!==b&&(this.map.delete(a),this.inverse.delete(b),!0)}}class iL{constructor(a){this.nameProvider=a.references.NameProvider,this.descriptions=a.workspace.AstNodeDescriptionProvider}async collectExportedSymbols(a,b=iq.CancellationToken.None){return this.collectExportedSymbolsForNode(a.parseResult.value,a,void 0,b)}async collectExportedSymbolsForNode(a,b,c=aD,d=iq.CancellationToken.None){let e=[];for(let f of(this.addExportedSymbol(a,e,b),c(a)))await it(d),this.addExportedSymbol(f,e,b);return e}addExportedSymbol(a,b,c){let d=this.nameProvider.getName(a);d&&b.push(this.descriptions.createDescription(a,d,c))}async collectLocalSymbols(a,b=iq.CancellationToken.None){let c=a.parseResult.value,d=new iJ;for(let e of aE(c))await it(b),this.addLocalSymbol(e,a,d);return d}addLocalSymbol(a,b,c){let d=a.$container;if(d){let e=this.nameProvider.getName(a);e&&c.add(d,this.descriptions.createDescription(a,e,b))}}}class iM{constructor(a,b,c){this.elements=a,this.outerScope=b,this.caseInsensitive=c?.caseInsensitive??!1,this.concatOuterScope=c?.concatOuterScope??!0}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(a){let b=this.caseInsensitive?a.toLowerCase():a,c=this.caseInsensitive?this.elements.find(a=>a.name.toLowerCase()===b):this.elements.find(b=>b.name===a);return c||(this.outerScope?this.outerScope.getElement(a):void 0)}getElements(a){let b=this.caseInsensitive?a.toLowerCase():a,c=this.caseInsensitive?this.elements.filter(a=>a.name.toLowerCase()===b):this.elements.filter(b=>b.name===a);return(this.concatOuterScope||c.isEmpty())&&this.outerScope?c.concat(this.outerScope.getElements(a)):c}}class iN{constructor(a,b,c){for(const b of(this.elements=new iJ,this.caseInsensitive=c?.caseInsensitive??!1,this.concatOuterScope=c?.concatOuterScope??!0,a)){const a=this.caseInsensitive?b.name.toLowerCase():b.name;this.elements.add(a,b)}this.outerScope=b}getElement(a){let b=this.caseInsensitive?a.toLowerCase():a,c=this.elements.get(b)[0];return c||(this.outerScope?this.outerScope.getElement(a):void 0)}getElements(a){let b=this.caseInsensitive?a.toLowerCase():a,c=this.elements.get(b);return(this.concatOuterScope||0===c.length)&&this.outerScope?p(c).concat(this.outerScope.getElements(a)):p(c)}getAllElements(){let a=p(this.elements.values());return this.outerScope&&(a=a.concat(this.outerScope.getAllElements())),a}}class iO{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(a){this.toDispose.push(a)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(a=>a.dispose())}throwIfDisposed(){if(this.isDisposed)throw Error("This cache has already been disposed")}}class iP extends iO{constructor(){super(...arguments),this.cache=new Map}has(a){return this.throwIfDisposed(),this.cache.has(a)}set(a,b){this.throwIfDisposed(),this.cache.set(a,b)}get(a,b){if(this.throwIfDisposed(),this.cache.has(a))return this.cache.get(a);if(b){let c=b();return this.cache.set(a,c),c}}delete(a){return this.throwIfDisposed(),this.cache.delete(a)}clear(){this.throwIfDisposed(),this.cache.clear()}}class iQ extends iO{constructor(a){super(),this.cache=new Map,this.converter=a??(a=>a)}has(a,b){return this.throwIfDisposed(),this.cacheForContext(a).has(b)}set(a,b,c){this.throwIfDisposed(),this.cacheForContext(a).set(b,c)}get(a,b,c){this.throwIfDisposed();let d=this.cacheForContext(a);if(d.has(b))return d.get(b);if(c){let a=c();return d.set(b,a),a}}delete(a,b){return this.throwIfDisposed(),this.cacheForContext(a).delete(b)}clear(a){if(this.throwIfDisposed(),a){let b=this.converter(a);this.cache.delete(b)}else this.cache.clear()}cacheForContext(a){let b=this.converter(a),c=this.cache.get(b);return c||(c=new Map,this.cache.set(b,c)),c}}class iR extends iP{constructor(a,b){super(),b?(this.toDispose.push(a.workspace.DocumentBuilder.onBuildPhase(b,()=>{this.clear()})),this.toDispose.push(a.workspace.DocumentBuilder.onUpdate((a,b)=>{b.length>0&&this.clear()}))):this.toDispose.push(a.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class iS{constructor(a){this.reflection=a.shared.AstReflection,this.nameProvider=a.references.NameProvider,this.descriptions=a.workspace.AstNodeDescriptionProvider,this.indexManager=a.shared.workspace.IndexManager,this.globalScopeCache=new iR(a.shared)}getScope(a){let b=[],c=this.reflection.getReferenceType(a),d=aA(a.container).localSymbols;if(d){let e=a.container;do d.has(e)&&b.push(d.getStream(e).filter(a=>this.reflection.isSubtype(a.type,c))),e=e.$container;while(e)}let e=this.getGlobalScope(c,a);for(let a=b.length-1;a>=0;a--)e=this.createScope(b[a],e);return e}createScope(a,b,c){return new iM(p(a),b,c)}createScopeForNodes(a,b,c){return new iM(p(a).map(a=>{let b=this.nameProvider.getName(a);if(b)return this.descriptions.createDescription(a,b)}).nonNullable(),b,c)}getGlobalScope(a,b){return this.globalScopeCache.get(a,()=>new iN(this.indexManager.allElements(a)))}}function iT(a){return"object"==typeof a&&!!a&&("$ref"in a||"$error"in a)}class iU{constructor(a){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=a.shared.workspace.LangiumDocuments,this.astNodeLocator=a.workspace.AstNodeLocator,this.nameProvider=a.references.NameProvider,this.commentProvider=a.documentation.CommentProvider}serialize(a,b){let c=b??{},d=b?.replacer,e=(a,b)=>this.replacer(a,b,c),f=d?(a,b)=>d(a,b,e):e;try{return this.currentDocument=aA(a),JSON.stringify(a,f,b?.space)}finally{this.currentDocument=void 0}}deserialize(a,b){let c=JSON.parse(a);return this.linkNode(c,c,b??{}),c}replacer(a,b,{refText:c,sourceText:g,textRegions:h,comments:i,uriConverter:j}){if(!this.ignoreProperties.has(a)){if(e(b)){let a=b.ref,d=c?b.$refText:void 0;if(!a)return{$error:b.error?.message??"Could not resolve reference",$refText:d};{let b=aA(a),c="";this.currentDocument&&this.currentDocument!==b&&(c=j?j(b.uri,a):b.uri.toString());let e=this.astNodeLocator.getAstNodePath(a);return{$ref:`${c}#${e}`,$refText:d}}}if(f(b)){let a=c?b.$refText:void 0,d=[];for(let a of b.items){let b=a.ref,c=aA(a.ref),e="";this.currentDocument&&this.currentDocument!==c&&(e=j?j(c.uri,b):c.uri.toString());let f=this.astNodeLocator.getAstNodePath(b);d.push(`${e}#${f}`)}return{$refs:d,$refText:a}}{let c;if(!d(b))return b;if(h&&(c=this.addAstNodeRegionWithAssignmentsTo({...b}),(!a||b.$document)&&c?.$textRegion&&(c.$textRegion.documentURI=this.currentDocument?.uri.toString())),g&&!a&&(c??(c={...b}),c.$sourceText=b.$cstNode?.text),i){c??(c={...b});let a=this.commentProvider.getComment(b);a&&(c.$comment=a.replace(/\r/g,""))}return c??b}}}addAstNodeRegionWithAssignmentsTo(a){let b=a=>({offset:a.offset,end:a.end,length:a.length,range:a.range});if(a.$cstNode){let c=(a.$textRegion=b(a.$cstNode)).assignments={};return Object.keys(a).filter(a=>!a.startsWith("$")).forEach(d=>{var e;let f=(e=a.$cstNode,!e||!d?[]:a2(e,d,e.astNode,!0)).map(b);0!==f.length&&(c[d]=f)}),a}}linkNode(a,b,c,e,f,g){for(let[e,f]of Object.entries(a))if(Array.isArray(f))for(let g=0;g<f.length;g++){let h=f[g];iT(h)?f[g]=this.reviveReference(a,e,b,h,c):d(h)&&this.linkNode(h,b,c,a,e,g)}else iT(f)?a[e]=this.reviveReference(a,e,b,f,c):d(f)&&this.linkNode(f,b,c,a,e);a.$container=e,a.$containerProperty=f,a.$containerIndex=g}reviveReference(a,b,c,e,f){let g,h=e.$refText,i=e.$error;if(e.$ref){let a=this.getRefNode(c,e.$ref,f.uriConverter);if(d(a))return h||(h=this.nameProvider.getName(a)),{$refText:h??"",ref:a};i=a}else if(e.$refs){let a=[];for(let b of e.$refs){let e=this.getRefNode(c,b,f.uriConverter);d(e)&&a.push({ref:e})}if(0!==a.length)return{$refText:h??"",items:a};g={$refText:h??"",items:a},i??(i="Could not resolve multi-reference")}return i?(g??(g={$refText:h??"",ref:void 0}),g.error={info:{container:a,property:b,reference:g},message:i},g):void 0}getRefNode(a,b,c){try{let d=b.indexOf("#");if(0===d){let c=this.astNodeLocator.getAstNode(a,b.substring(1));if(!c)return"Could not resolve path: "+b;return c}if(d<0){let a=c?c(b):iA.parse(b),d=this.langiumDocuments.getDocument(a);if(!d)return"Could not find document for URI: "+b;return d.parseResult.value}let e=c?c(b.substring(0,d)):iA.parse(b.substring(0,d)),f=this.langiumDocuments.getDocument(e);if(!f)return"Could not find document for URI: "+b;if(d===b.length-1)return f.parseResult.value;let g=this.astNodeLocator.getAstNode(f.parseResult.value,b.substring(d+1));if(!g)return"Could not resolve URI: "+b;return g}catch(a){return String(a)}}}class iV{get map(){return this.fileExtensionMap}constructor(a){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.fileNameMap=new Map,this.textDocuments=a?.workspace.TextDocuments}register(a){let b=a.LanguageMetaData;for(let c of b.fileExtensions)this.fileExtensionMap.has(c)&&console.warn(`The file extension ${c} is used by multiple languages. It is now assigned to '${b.languageId}'.`),this.fileExtensionMap.set(c,a);if(b.fileNames)for(let c of b.fileNames)this.fileNameMap.has(c)&&console.warn(`The file name ${c} is used by multiple languages. It is now assigned to '${b.languageId}'.`),this.fileNameMap.set(c,a);this.languageIdMap.set(b.languageId,a)}getServices(a){if(0===this.languageIdMap.size)throw Error("The service registry is empty. Use `register` to register the services of a language.");let b=this.textDocuments?.get(a)?.languageId;if(void 0!==b){let a=this.languageIdMap.get(b);if(a)return a}let c=dG.extname(a),d=dG.basename(a),e=this.fileNameMap.get(d)??this.fileExtensionMap.get(c);if(!e)if(b)throw Error(`The service registry contains no services for the extension '${c}' for language '${b}'.`);else throw Error(`The service registry contains no services for the extension '${c}'.`);return e}hasServices(a){try{return this.getServices(a),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}(cc=dI||(dI={})).defaults=["fast","slow","built-in"],cc.all=cc.defaults;class iW{constructor(a){this.entries=new iJ,this.knownCategories=new Set(dI.defaults),this.entriesBefore=[],this.entriesAfter=[],this.reflection=a.shared.AstReflection}register(a,b=this,c="fast"){if("built-in"===c)throw Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[d,e]of(this.knownCategories.add(c),Object.entries(a)))if(Array.isArray(e))for(let a of e){let e={check:this.wrapValidationException(a,b),category:c};this.addEntry(d,e)}else if("function"==typeof e){let a={check:this.wrapValidationException(e,b),category:c};this.addEntry(d,a)}else x(e)}wrapValidationException(a,b){return async(c,d,e)=>{await this.handleException(()=>a.call(b,c,d,e),"An error occurred during validation",d,c)}}async handleException(a,b,c,d){try{await a()}catch(e){if(e===is)throw e;console.error(`${b}:`,e),e instanceof Error&&e.stack&&console.error(e.stack);let a=e instanceof Error?e.message:String(e);c("error",`${b}: ${a}`,{node:d})}}addEntry(a,b){if("AstNode"===a)return void this.entries.add("AstNode",b);for(let c of this.reflection.getAllSubTypes(a))this.entries.add(c,b)}getChecks(a,b){let c=p(this.entries.get(a)).concat(this.entries.get("AstNode"));return b&&(c=c.filter(a=>b.includes(a.category))),c.map(a=>a.check)}registerBeforeDocument(a,b=this){this.entriesBefore.push(this.wrapPreparationException(a,"An error occurred during set-up of the validation",b))}registerAfterDocument(a,b=this){this.entriesAfter.push(this.wrapPreparationException(a,"An error occurred during tear-down of the validation",b))}wrapPreparationException(a,b,c){return async(d,e,f,g)=>{await this.handleException(()=>a.call(c,d,e,f,g),b,e,d)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}getAllValidationCategories(a){return this.knownCategories}}let iX=Object.freeze({validateNode:!0,validateChildren:!0});class iY{constructor(a){this.validationRegistry=a.validation.ValidationRegistry,this.metadata=a.LanguageMetaData,this.profiler=a.shared.profilers.LangiumProfiler,this.languageId=a.LanguageMetaData.languageId}async validateDocument(a,b={},c=iq.CancellationToken.None){let d=a.parseResult,e=[];if((await it(c),!b.categories||b.categories.includes("built-in"))&&(this.processLexingErrors(d,e,b),b.stopAfterLexingErrors&&e.some(a=>a.data?.code===dJ.LexingError)||(this.processParsingErrors(d,e,b),b.stopAfterParsingErrors&&e.some(a=>a.data?.code===dJ.ParsingError))||(this.processLinkingErrors(a,e,b),b.stopAfterLinkingErrors&&e.some(a=>a.data?.code===dJ.LinkingError))))return e;try{e.push(...await this.validateAst(d.value,b,c))}catch(a){if(a===is)throw a;console.error("An error occurred during validation:",a)}return await it(c),e}processLexingErrors(a,b,c){for(let c of[...a.lexerErrors,...a.lexerReport?.diagnostics??[]]){let a=c.severity??"error",d={severity:iZ(a),range:{start:{line:c.line-1,character:c.column-1},end:{line:c.line-1,character:c.column+c.length-1}},message:c.message,data:function(a){switch(a){case"error":return{code:dJ.LexingError};case"warning":return{code:dJ.LexingWarning};case"info":return{code:dJ.LexingInfo};case"hint":return{code:dJ.LexingHint};default:throw Error("Invalid diagnostic severity: "+a)}}(a),source:this.getSource()};b.push(d)}}processParsingErrors(a,b,c){for(let c of a.parserErrors){let a;if(isNaN(c.token.startOffset)){if("previousToken"in c){let b=c.previousToken;if(isNaN(b.startOffset)){let b={line:0,character:0};a={start:b,end:b}}else{let c={line:b.endLine-1,character:b.endColumn};a={start:c,end:c}}}}else a=s(c.token);if(a){let d={severity:iZ("error"),range:a,message:c.message,data:{code:dJ.ParsingError},source:this.getSource()};b.push(d)}}}processLinkingErrors(a,b,c){for(let c of a.references){let a=c.error;if(a){let d={node:a.info.container,range:c.$refNode?.range,property:a.info.property,index:a.info.index,data:{code:dJ.LinkingError,containerType:a.info.container.$type,property:a.info.property,refText:a.info.reference.$refText}};b.push(this.toDiagnostic("error",a.message,d))}}}async validateAst(a,b,c=iq.CancellationToken.None){let d=[],e=(a,b,c)=>{d.push(this.toDiagnostic(a,b,c))};return await this.validateAstBefore(a,b,e,c),await this.validateAstNodes(a,b,e,c),await this.validateAstAfter(a,b,e,c),d}async validateAstBefore(a,b,c,d=iq.CancellationToken.None){for(let e of this.validationRegistry.checksBefore)await it(d),await e(a,c,b.categories??[],d)}async validateAstNodes(a,b,c,d=iq.CancellationToken.None){if(this.profiler?.isActive("validating")){let e=this.profiler.createTask("validating",this.languageId);e.start();try{let f=aF(a).iterator();for(let a of f){e.startSubTask(a.$type);let g=this.validateSingleNodeOptions(a,b);if(g.validateNode)try{for(let e of this.validationRegistry.getChecks(a.$type,b.categories))await e(a,c,d)}finally{e.stopSubTask(a.$type)}g.validateChildren||f.prune()}}finally{e.stop()}}else{let e=aF(a).iterator();for(let a of e){await it(d);let f=this.validateSingleNodeOptions(a,b);if(f.validateNode)for(let e of this.validationRegistry.getChecks(a.$type,b.categories))await e(a,c,d);f.validateChildren||e.prune()}}}validateSingleNodeOptions(a,b){return iX}async validateAstAfter(a,b,c,d=iq.CancellationToken.None){for(let e of this.validationRegistry.checksAfter)await it(d),await e(a,c,b.categories??[],d)}toDiagnostic(a,b,c){var d;let e;return{message:b,range:(d=c).range?d.range:("string"==typeof d.property?e=a1(d.node.$cstNode,d.property,d.index):"string"==typeof d.keyword&&(e=function(a,b,c){if(!a)return;let d=function(a,b,c){let d;if(a.astNode!==c)return[];if(Z(a.grammarSource)&&a.grammarSource.value===b)return[a];let e=r(a).iterator(),f=[];do if(!(d=e.next()).done){let a=d.value;a.astNode===c?Z(a.grammarSource)&&a.grammarSource.value===b&&f.push(a):e.prune()}while(!d.done)return f}(a,b,a?.astNode);if(0!==d.length)return c=void 0!==c?Math.max(0,Math.min(c,d.length-1)):0,d[c]}(d.node.$cstNode,d.keyword,d.index)),e??(e=d.node.$cstNode),e)?e.range:{start:{line:0,character:0},end:{line:0,character:0}},severity:iZ(a),code:c.code,codeDescription:c.codeDescription,tags:c.tags,relatedInformation:c.relatedInformation,data:c.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function iZ(a){switch(a){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw Error("Invalid diagnostic severity: "+a)}}(cd=dJ||(dJ={})).LexingError="lexing-error",cd.LexingWarning="lexing-warning",cd.LexingInfo="lexing-info",cd.LexingHint="lexing-hint",cd.ParsingError="parsing-error",cd.LinkingError="linking-error";class i${constructor(a){this.astNodeLocator=a.workspace.AstNodeLocator,this.nameProvider=a.references.NameProvider}createDescription(a,b,c){let d,e=c??aA(a);b??(b=this.nameProvider.getName(a));let f=this.astNodeLocator.getAstNodePath(a);if(!b)throw Error(`Node at path ${f} has no name.`);let g=()=>d??(d=t(this.nameProvider.getNameNode(a)??a.$cstNode));return{node:a,name:b,get nameSegment(){return g()},selectionSegment:t(a.$cstNode),type:a.$type,documentUri:e.uri,path:f}}}class i_{constructor(a){this.nodeLocator=a.workspace.AstNodeLocator}async createDescriptions(a,b=iq.CancellationToken.None){let c=[];for(let d of aF(a.parseResult.value))await it(b),aH(d).forEach(a=>{a.reference.error||c.push(...this.createInfoDescriptions(a))});return c}createInfoDescriptions(a){let b=a.reference;if(b.error||!b.$refNode)return[];let c=[];e(b)&&b.$nodeDescription?c=[b.$nodeDescription]:f(b)&&(c=b.items.map(a=>a.$nodeDescription).filter(a=>void 0!==a));let d=aA(a.container).uri,g=this.nodeLocator.getAstNodePath(a.container),h=[],i=t(b.$refNode);for(let a of c)h.push({sourceUri:d,sourcePath:g,targetUri:a.documentUri,targetPath:a.path,segment:i,local:dG.equals(a.documentUri,d)});return h}}class i0{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(a){if(a.$container){let b=this.getAstNodePath(a.$container),c=this.getPathSegment(a);return b+this.segmentSeparator+c}return""}getPathSegment({$containerProperty:a,$containerIndex:b}){if(!a)throw Error("Missing '$containerProperty' in AST node.");return void 0!==b?a+this.indexSeparator+b:a}getAstNode(a,b){return b.split(this.segmentSeparator).reduce((a,b)=>{if(!a||0===b.length)return a;let c=b.indexOf(this.indexSeparator);if(c>0){let d=b.substring(0,c),e=parseInt(b.substring(c+1)),f=a[d];return f?.[e]}return a[b]},a)}}var i1=a.i(37898);class i2{constructor(a){this._ready=new iu,this.onConfigurationSectionUpdateEmitter=new i1.Emitter,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=a.ServiceRegistry}get ready(){return this._ready.promise}initialize(a){this.workspaceConfig=a.capabilities.workspace?.configuration??!1}async initialized(a){if(this.workspaceConfig){if(a.register){let b=this.serviceRegistry.all;a.register({section:b.map(a=>this.toSectionName(a.LanguageMetaData.languageId))})}if(a.fetchConfiguration){let b=this.serviceRegistry.all.map(a=>({section:this.toSectionName(a.LanguageMetaData.languageId)})),c=await a.fetchConfiguration(b);b.forEach((a,b)=>{this.updateSectionConfiguration(a.section,c[b])})}}this._ready.resolve()}updateConfiguration(a){"object"==typeof a.settings&&null!==a.settings&&Object.entries(a.settings).forEach(([a,b])=>{this.updateSectionConfiguration(a,b),this.onConfigurationSectionUpdateEmitter.fire({section:a,configuration:b})})}updateSectionConfiguration(a,b){this.settings[a]=b}async getConfiguration(a,b){await this.ready;let c=this.toSectionName(a);if(this.settings[c])return this.settings[c][b]}toSectionName(a){return`${a}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var i3=a.i(50646);(dK||(dK={})).create=function(a){return{dispose:async()=>await a()}};class i4{constructor(a){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new iJ,this.documentPhaseListeners=new iJ,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=dH.Changed,this.langiumDocuments=a.workspace.LangiumDocuments,this.langiumDocumentFactory=a.workspace.LangiumDocumentFactory,this.textDocuments=a.workspace.TextDocuments,this.indexManager=a.workspace.IndexManager,this.fileSystemProvider=a.workspace.FileSystemProvider,this.workspaceManager=()=>a.workspace.WorkspaceManager,this.serviceRegistry=a.ServiceRegistry}async build(a,b={},c=iq.CancellationToken.None){for(let c of a){let a=c.uri.toString();if(c.state===dH.Validated){if("boolean"==typeof b.validation&&b.validation)this.resetToState(c,dH.IndexedReferences);else if("object"==typeof b.validation){let d=this.findMissingValidationCategories(c,b);d.length>0&&(this.buildState.set(a,{completed:!1,options:{validation:{categories:d}},result:this.buildState.get(a)?.result}),c.state=dH.IndexedReferences)}}else this.buildState.delete(a)}this.currentState=dH.Changed,await this.emitUpdate(a.map(a=>a.uri),[]),await this.buildDocuments(a,b,c)}async update(a,b,c=iq.CancellationToken.None){this.currentState=dH.Changed;let d=[];for(let a of b)for(let b of this.langiumDocuments.deleteDocuments(a))d.push(b.uri),this.cleanUpDeleted(b);let e=(await Promise.all(a.map(a=>this.findChangedUris(a)))).flat();for(let a of e){let b=this.langiumDocuments.getDocument(a);void 0===b&&((b=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a)).state=dH.Changed,this.langiumDocuments.addDocument(b)),this.resetToState(b,dH.Changed)}let f=p(e).concat(d).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!f.has(a.uri.toString())&&this.shouldRelink(a,f)).forEach(a=>this.resetToState(a,dH.ComputedScopes)),await this.emitUpdate(e,d),await it(c);let g=this.sortDocuments(this.langiumDocuments.all.filter(a=>a.state<dH.Validated||!this.buildState.get(a.uri.toString())?.completed||this.resultsAreIncomplete(a,this.updateBuildOptions)).toArray());await this.buildDocuments(g,this.updateBuildOptions,c)}resultsAreIncomplete(a,b){return this.findMissingValidationCategories(a,b).length>=1}findMissingValidationCategories(a,b){let c=this.buildState.get(a.uri.toString()),d=this.serviceRegistry.getServices(a.uri).validation.ValidationRegistry.getAllValidationCategories(a),e=c?.result?.validationChecks?new Set(c?.result?.validationChecks):c?.completed?d:new Set;return p(void 0===b||!0===b.validation?d:"object"==typeof b.validation?b.validation.categories??d:[]).filter(a=>!e.has(a)).toArray()}async findChangedUris(a){if(this.langiumDocuments.getDocument(a)??this.textDocuments?.get(a))return[a];try{let b=await this.fileSystemProvider.stat(a);if(b.isDirectory)return await this.workspaceManager().searchFolder(a);if(this.workspaceManager().shouldIncludeEntry(b))return[a]}catch{}return[]}async emitUpdate(a,b){await Promise.all(this.updateListeners.map(c=>c(a,b)))}sortDocuments(a){let b=0,c=a.length-1;for(;b<c;){for(;b<a.length&&this.hasTextDocument(a[b]);)b++;for(;c>=0&&!this.hasTextDocument(a[c]);)c--;b<c&&([a[b],a[c]]=[a[c],a[b]])}return a}hasTextDocument(a){return!!this.textDocuments?.get(a.uri)}shouldRelink(a,b){return!!a.references.some(a=>void 0!==a.error)||this.indexManager.isAffected(a,b)}onUpdate(a){return this.updateListeners.push(a),dK.create(()=>{let b=this.updateListeners.indexOf(a);b>=0&&this.updateListeners.splice(b,1)})}resetToState(a,b){switch(b){case dH.Changed:case dH.Parsed:this.indexManager.removeContent(a.uri);case dH.IndexedContent:a.localSymbols=void 0;case dH.ComputedScopes:this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a);case dH.Linked:this.indexManager.removeReferences(a.uri);case dH.IndexedReferences:a.diagnostics=void 0,this.buildState.delete(a.uri.toString());case dH.Validated:}a.state>b&&(a.state=b)}cleanUpDeleted(a){this.buildState.delete(a.uri.toString()),this.indexManager.remove(a.uri),a.state=dH.Changed}async buildDocuments(a,b,c){this.prepareBuild(a,b),await this.runCancelable(a,dH.Parsed,c,a=>this.langiumDocumentFactory.update(a,c)),await this.runCancelable(a,dH.IndexedContent,c,a=>this.indexManager.updateContent(a,c)),await this.runCancelable(a,dH.ComputedScopes,c,async a=>{let b=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.localSymbols=await b.collectLocalSymbols(a,c)});let d=a.filter(a=>this.shouldLink(a));await this.runCancelable(d,dH.Linked,c,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,c)),await this.runCancelable(d,dH.IndexedReferences,c,a=>this.indexManager.updateReferences(a,c));let e=a.filter(a=>!!this.shouldValidate(a)||(this.markAsCompleted(a),!1));await this.runCancelable(e,dH.Validated,c,async a=>{await this.validate(a,c),this.markAsCompleted(a)})}markAsCompleted(a){let b=this.buildState.get(a.uri.toString());b&&(b.completed=!0)}prepareBuild(a,b){for(let c of a){let a=c.uri.toString(),d=this.buildState.get(a);(!d||d.completed)&&this.buildState.set(a,{completed:!1,options:b,result:d?.result})}}async runCancelable(a,b,c,d){for(let e of a)e.state<b&&(await it(c),await d(e),e.state=b,await this.notifyDocumentPhase(e,b,c));let e=a.filter(a=>a.state===b);await this.notifyBuildPhase(e,b,c),this.currentState=b}onBuildPhase(a,b){return this.buildPhaseListeners.add(a,b),dK.create(()=>{this.buildPhaseListeners.delete(a,b)})}onDocumentPhase(a,b){return this.documentPhaseListeners.add(a,b),dK.create(()=>{this.documentPhaseListeners.delete(a,b)})}waitUntil(a,b,c){let d;return(b&&"path"in b?d=b:c=b,c??(c=iq.CancellationToken.None),d)?this.awaitDocumentState(a,d,c):this.awaitBuilderState(a,c)}awaitDocumentState(a,b,c){let d=this.langiumDocuments.getDocument(b);return d?d.state>=a?Promise.resolve(b):c.isCancellationRequested?Promise.reject(is):this.currentState>=a&&a>d.state?Promise.reject(new i3.ResponseError(i3.LSPErrorCodes.RequestFailed,`Document state of ${b.toString()} is ${dH[d.state]}, requiring ${dH[a]}, but workspace state is already ${dH[this.currentState]}. Returning undefined.`)):new Promise((d,e)=>{let f=this.onDocumentPhase(a,a=>{dG.equals(a.uri,b)&&(f.dispose(),g.dispose(),d(a.uri))}),g=c.onCancellationRequested(()=>{f.dispose(),g.dispose(),e(is)})}):Promise.reject(new i3.ResponseError(i3.LSPErrorCodes.ServerCancelled,`No document found for URI: ${b.toString()}`))}awaitBuilderState(a,b){return this.currentState>=a?Promise.resolve():b.isCancellationRequested?Promise.reject(is):new Promise((c,d)=>{let e=this.onBuildPhase(a,()=>{e.dispose(),f.dispose(),c()}),f=b.onCancellationRequested(()=>{e.dispose(),f.dispose(),d(is)})})}async notifyDocumentPhase(a,b,c){for(let d of this.documentPhaseListeners.get(b).slice())try{await it(c),await d(a,c)}catch(a){if(a!==is)throw a}}async notifyBuildPhase(a,b,c){if(0!==a.length)for(let d of this.buildPhaseListeners.get(b).slice())await it(c),await d(a,c)}shouldLink(a){return this.getBuildOptions(a).eagerLinking??!0}shouldValidate(a){return!!this.getBuildOptions(a).validation}async validate(a,b){let c=this.serviceRegistry.getServices(a.uri).validation.DocumentValidator,d=this.getBuildOptions(a),e="object"==typeof d.validation?{...d.validation}:{};e.categories=this.findMissingValidationCategories(a,d);let f=await c.validateDocument(a,e,b);a.diagnostics?a.diagnostics.push(...f):a.diagnostics=f;let g=this.buildState.get(a.uri.toString());g&&(g.result??(g.result={}),g.result.validationChecks?g.result.validationChecks=p(g.result.validationChecks).concat(e.categories).distinct().toArray():g.result.validationChecks=[...e.categories])}getBuildOptions(a){return this.buildState.get(a.uri.toString())?.options??{}}}class i5{constructor(a){this.symbolIndex=new Map,this.symbolByTypeIndex=new iQ,this.referenceIndex=new Map,this.documents=a.workspace.LangiumDocuments,this.serviceRegistry=a.ServiceRegistry,this.astReflection=a.AstReflection}findAllReferences(a,b){let c=aA(a).uri,d=[];return this.referenceIndex.forEach(a=>{a.forEach(a=>{dG.equals(a.targetUri,c)&&a.targetPath===b&&d.push(a)})}),p(d)}allElements(a,b){let c=p(this.symbolIndex.keys());return b&&(c=c.filter(a=>!b||b.has(a))),c.map(b=>this.getFileDescriptions(b,a)).flat()}getFileDescriptions(a,b){return b?this.symbolByTypeIndex.get(a,b,()=>(this.symbolIndex.get(a)??[]).filter(a=>this.astReflection.isSubtype(a.type,b))):this.symbolIndex.get(a)??[]}remove(a){this.removeContent(a),this.removeReferences(a)}removeContent(a){let b=a.toString();this.symbolIndex.delete(b),this.symbolByTypeIndex.clear(b)}removeReferences(a){let b=a.toString();this.referenceIndex.delete(b)}async updateContent(a,b=iq.CancellationToken.None){let c=this.serviceRegistry.getServices(a.uri),d=await c.references.ScopeComputation.collectExportedSymbols(a,b),e=a.uri.toString();this.symbolIndex.set(e,d),this.symbolByTypeIndex.clear(e)}async updateReferences(a,b=iq.CancellationToken.None){let c=this.serviceRegistry.getServices(a.uri),d=await c.workspace.ReferenceDescriptionProvider.createDescriptions(a,b);this.referenceIndex.set(a.uri.toString(),d)}isAffected(a,b){let c=this.referenceIndex.get(a.uri.toString());return!!c&&c.some(a=>!a.local&&b.has(a.targetUri.toString()))}}class i6{constructor(a){this.initialBuildOptions={},this._ready=new iu,this.serviceRegistry=a.ServiceRegistry,this.langiumDocuments=a.workspace.LangiumDocuments,this.documentBuilder=a.workspace.DocumentBuilder,this.fileSystemProvider=a.workspace.FileSystemProvider,this.mutex=a.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(a){this.folders=a.workspaceFolders??void 0}initialized(a){return this.mutex.write(a=>this.initializeWorkspace(this.folders??[],a))}async initializeWorkspace(a,b=iq.CancellationToken.None){let c=await this.performStartup(a);await it(b),await this.documentBuilder.build(c,this.initialBuildOptions,b)}async performStartup(a){let b=[],c=a=>{b.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)};await this.loadAdditionalDocuments(a,c);let d=[];await Promise.all(a.map(a=>this.getRootFolder(a)).map(async a=>this.traverseFolder(a,d)));let e=p(d).distinct(a=>a.toString()).filter(a=>!this.langiumDocuments.hasDocument(a));return await this.loadWorkspaceDocuments(e,c),this._ready.resolve(),b}async loadWorkspaceDocuments(a,b){await Promise.all(a.map(async a=>{b(await this.langiumDocuments.getOrCreateDocument(a))}))}loadAdditionalDocuments(a,b){return Promise.resolve()}getRootFolder(a){return iA.parse(a.uri)}async traverseFolder(a,b){try{let c=await this.fileSystemProvider.readDirectory(a);await Promise.all(c.map(async a=>{this.shouldIncludeEntry(a)&&(a.isDirectory?await this.traverseFolder(a.uri,b):a.isFile&&b.push(a.uri))}))}catch(b){console.error("Failure to read directory content of "+a.toString(!0),b)}}async searchFolder(a){let b=[];return await this.traverseFolder(a,b),b}shouldIncludeEntry(a){let b=dG.basename(a.uri);return!b.startsWith(".")&&(a.isDirectory?"node_modules"!==b&&"out"!==b:!!a.isFile&&this.serviceRegistry.hasServices(a.uri))}}class i7{buildUnexpectedCharactersMessage(a,b,c,d,e){return f0.buildUnexpectedCharactersMessage(a,b,c,d,e)}buildUnableToPopLexerModeMessage(a){return f0.buildUnableToPopLexerModeMessage(a)}}let i8={mode:"full"};class i9{constructor(a){this.errorMessageProvider=a.parser.LexerErrorMessageProvider,this.tokenBuilder=a.parser.TokenBuilder;const b=this.tokenBuilder.buildTokens(a.Grammar,{caseInsensitive:a.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(b);const c=jb(b)?Object.values(b):b,d="production"===a.LanguageMetaData.mode;this.chevrotainLexer=new f2(c,{positionTracking:"full",skipValidations:d,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(a,b=i8){let c=this.chevrotainLexer.tokenize(a);return{tokens:c.tokens,errors:c.errors,hidden:c.groups.hidden??[],report:this.tokenBuilder.flushLexingReport?.(a)}}toTokenTypeDictionary(a){if(jb(a))return a;let b=ja(a)?Object.values(a.modes).flat():a,c={};return b.forEach(a=>c[a.name]=a),c}}function ja(a){return a&&"modes"in a&&"defaultMode"in a}function jb(a){return!(Array.isArray(a)&&(0===a.length||"name"in a[0]))&&!ja(a)}function jc(a){return("string"==typeof a?a:a.text).split(aW)}let jd=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,je=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,jf=/\S/,jg=/\s*$/;function jh(a,b){let c=a.substring(b).match(jf);return c?b+c.index:a.length}function ji(a){let b=a.tokens[a.index],c=b,d=b,e=[];for(;b&&"break"!==b.type&&"tag"!==b.type;){var f;e.push("inline-tag"===(f=a).tokens[f.index].type?jj(f,!0):jk(f)),d=b,b=a.tokens[a.index]}return new jp(e,cr.create(c.range.start,d.range.end))}function jj(a,b){let c=a.tokens[a.index++],d=c.content.substring(1),e=a.tokens[a.index];if(e?.type==="text")if(b){let e=jk(a);return new jo(d,new jp([e],e.range),b,cr.create(c.range.start,e.range.end))}else{let e=ji(a);return new jo(d,e,b,cr.create(c.range.start,e.range.end))}{let a=c.range;return new jo(d,new jp([],a),b,a)}}function jk(a){let b=a.tokens[a.index++];return new jq(b.content,b.range)}function jl(a){if(!a)return jl({start:"/**",end:"*/",line:"*"});let{start:b,end:c,line:d}=a;return{start:jm(b,!0),end:jm(c,!1),line:jm(d,!0)}}function jm(a,b){if("string"!=typeof a&&"object"!=typeof a)return a;{let c="string"==typeof a?a_(a):a.source;return b?RegExp(`^\\s*${c}`):RegExp(`\\s*${c}\\s*$`)}}class jn{constructor(a,b){this.elements=a,this.range=b}getTag(a){return this.getAllTags().find(b=>b.name===a)}getTags(a){return this.getAllTags().filter(b=>b.name===a)}getAllTags(){return this.elements.filter(a=>"name"in a)}toString(){let a="";for(let b of this.elements)if(0===a.length)a=b.toString();else{let c=b.toString();a+=jr(a)+c}return a.trim()}toMarkdown(a){let b="";for(let c of this.elements)if(0===b.length)b=c.toMarkdown(a);else{let d=c.toMarkdown(a);b+=jr(b)+d}return b.trim()}}class jo{constructor(a,b,c,d){this.name=a,this.content=b,this.inline=c,this.range=d}toString(){let a=`@${this.name}`,b=this.content.toString();return(1===this.content.inlines.length?a=`${a} ${b}`:this.content.inlines.length>1&&(a=`${a}
${b}`),this.inline)?`{${a}}`:a}toMarkdown(a){return a?.renderTag?.(this)??this.toMarkdownDefault(a)}toMarkdownDefault(a){let b=this.content.toMarkdown(a);if(this.inline){let c=function(a,b,c){if("linkplain"===a||"linkcode"===a||"link"===a){let d=b.indexOf(" "),e=b;if(d>0){let a=jh(b,d);e=b.substring(a),b=b.substring(0,d)}return("linkcode"===a||"link"===a&&"code"===c.link)&&(e=`\`${e}\``),c.renderLink?.(b,e)??function(a,b){try{return iA.parse(a,!0),`[${b}](${a})`}catch{return a}}(b,e)}}(this.name,b,a??{});if("string"==typeof c)return c}let c="";a?.tag==="italic"||a?.tag===void 0?c="*":a?.tag==="bold"?c="**":a?.tag==="bold-italic"&&(c="***");let d=`${c}@${this.name}${c}`;return(1===this.content.inlines.length?d=`${d}  ${b}`:this.content.inlines.length>1&&(d=`${d}
${b}`),this.inline)?`{${d}}`:d}}class jp{constructor(a,b){this.inlines=a,this.range=b}toString(){let a="";for(let b=0;b<this.inlines.length;b++){let c=this.inlines[b],d=this.inlines[b+1];a+=c.toString(),d&&d.range.start.line>c.range.start.line&&(a+="\n")}return a}toMarkdown(a){let b="";for(let c=0;c<this.inlines.length;c++){let d=this.inlines[c],e=this.inlines[c+1];b+=d.toMarkdown(a),e&&e.range.start.line>d.range.start.line&&(b+="\n")}return b}}class jq{constructor(a,b){this.text=a,this.range=b}toString(){return this.text}toMarkdown(){return this.text}}function jr(a){return a.endsWith("\n")?"\n":"\n\n"}class js{constructor(a){this.indexManager=a.shared.workspace.IndexManager,this.commentProvider=a.documentation.CommentProvider}getDocumentation(a){let b=this.commentProvider.getComment(a);if(b&&function(a,b){let c=jl(void 0),d=jc(a);if(0===d.length)return!1;let e=d[0],f=d[d.length-1],g=c.start,h=c.end;return!!g?.exec(e)&&!!h?.exec(f)}(b)){let c,d;return("string"==typeof b?d=void 0:d=b.range.start,c=void 0,!d&&(d=cq.create(0,0)),function(a){let b=cq.create(a.position.line,a.position.character);if(0===a.tokens.length)return new jn([],cr.create(b,b));let c=[];for(;a.index<a.tokens.length;){let b=function(a,b){let c=a.tokens[a.index];return"tag"===c.type?jj(a,!1):"text"===c.type||"inline-tag"===c.type?ji(a):(function(a,b){if(b){let c=new jq("",a.range);"inlines"in b?b.inlines.push(c):b.content.inlines.push(c)}}(c,b),void a.index++)}(a,c[c.length-1]);b&&c.push(b)}let d=c[0]?.range.start??b,e=c[c.length-1]?.range.end??b;return new jn(c,cr.create(d,e))}({index:0,tokens:function(a){let b=[],c=a.position.line,d=a.position.character;for(let e=0;e<a.lines.length;e++){let f=0===e,g=e===a.lines.length-1,h=a.lines[e],i=0;if(f&&a.options.start){let b=a.options.start?.exec(h);b&&(i=b.index+b[0].length)}else{let b=a.options.line?.exec(h);b&&(i=b.index+b[0].length)}if(g){let b=a.options.end?.exec(h);b&&(h=h.substring(0,b.index))}if(jh(h=h.substring(0,function(a){let b=a.match(jg);if(b&&"number"==typeof b.index)return b.index}(h)),i)>=h.length){if(b.length>0){let a=cq.create(c,d);b.push({type:"break",content:"",range:cr.create(a,a)})}}else{jd.lastIndex=i;let a=jd.exec(h);if(a){let e=a[0],f=a[1],g=cq.create(c,d+i),j=cq.create(c,d+i+e.length);b.push({type:"tag",content:f,range:cr.create(g,j)}),i+=e.length,i=jh(h,i)}if(i<h.length){let a=h.substring(i),e=Array.from(a.matchAll(je));b.push(...function(a,b,c,d){let e=[];if(0===a.length){let a=cq.create(c,d),f=cq.create(c,d+b.length);e.push({type:"text",content:b,range:cr.create(a,f)})}else{let f=0;for(let g of a){let a=g.index,h=b.substring(f,a);h.length>0&&e.push({type:"text",content:b.substring(f,a),range:cr.create(cq.create(c,f+d),cq.create(c,a+d))});let i=h.length+1,j=g[1];if(e.push({type:"inline-tag",content:j,range:cr.create(cq.create(c,f+i+d),cq.create(c,f+i+j.length+d))}),i+=j.length,4===g.length){i+=g[2].length;let a=g[3];e.push({type:"text",content:a,range:cr.create(cq.create(c,f+i+d),cq.create(c,f+i+a.length+d))})}else e.push({type:"text",content:"",range:cr.create(cq.create(c,f+i+d),cq.create(c,f+i+d))});f=a+g[0].length}let g=b.substring(f);g.length>0&&e.push({type:"text",content:g,range:cr.create(cq.create(c,f+d),cq.create(c,f+d+g.length))})}return e}(e,a,c,d+i))}}c++,d=0}return b.length>0&&"break"===b[b.length-1].type?b.slice(0,-1):b}({lines:jc(b),position:d,options:jl(c)}),position:d})).toMarkdown({renderLink:(b,c)=>this.documentationLinkRenderer(a,b,c),renderTag:b=>this.documentationTagRenderer(a,b)})}}documentationLinkRenderer(a,b,c){let d=this.findNameInLocalSymbols(a,b)??this.findNameInGlobalScope(a,b);if(d&&d.nameSegment){let a=d.nameSegment.range.start.line+1,b=d.nameSegment.range.start.character+1,e=d.documentUri.with({fragment:`L${a},${b}`});return`[${c}](${e.toString()})`}}documentationTagRenderer(a,b){}findNameInLocalSymbols(a,b){let c=aA(a).localSymbols;if(!c)return;let d=a;do{let a=c.getStream(d).find(a=>a.name===b);if(a)return a;d=d.$container}while(d)}findNameInGlobalScope(a,b){return this.indexManager.allElements().find(a=>a.name===b)}}class jt{constructor(a){this.grammarConfig=()=>a.parser.GrammarConfig}getComment(a){return"string"==typeof a.$comment?a.$comment:function(a,b){if(a){let c=function(a,b=!0){for(;a.container;){let c=a.container,d=c.content.indexOf(a);for(;d>0;){d--;let a=c.content[d];if(b||!a.hidden)return a}a=c}}(a,!0);if(c&&v(c,b))return c;if(k(a)){let c=a.content.findIndex(a=>!a.hidden);for(let d=c-1;d>=0;d--){let c=a.content[d];if(v(c,b))return c}}}}(a.$cstNode,this.grammarConfig().multilineCommentRules)?.text}}class ju{constructor(a){this.syncParser=a.parser.LangiumParser}parse(a,b){return Promise.resolve(this.syncParser.parse(a))}}class jv{constructor(){this.previousTokenSource=new iq.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(a){this.cancelWrite();let b=(ir=performance.now(),new iq.CancellationTokenSource);return this.previousTokenSource=b,this.enqueue(this.writeQueue,a,b.token)}read(a){return this.enqueue(this.readQueue,a)}enqueue(a,b,c=iq.CancellationToken.None){let d=new iu;return a.push({action:b,deferred:d,cancellationToken:c}),this.performNextOperation(),d.promise}async performNextOperation(){if(!this.done)return;let a=[];if(this.writeQueue.length>0)a.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;a.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(a.map(async({action:a,deferred:b,cancellationToken:c})=>{try{let d=await Promise.resolve().then(()=>a(c));b.resolve(d)}catch(a){a===is?b.resolve(void 0):b.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class jw{constructor(a){this.grammarElementIdMap=new iK,this.tokenTypeIdMap=new iK,this.grammar=a.Grammar,this.lexer=a.parser.Lexer,this.linker=a.references.Linker}dehydrate(a){return{lexerErrors:a.lexerErrors,lexerReport:a.lexerReport?this.dehydrateLexerReport(a.lexerReport):void 0,parserErrors:a.parserErrors.map(a=>({...a,message:a.message})),value:this.dehydrateAstNode(a.value,this.createDehyrationContext(a.value))}}dehydrateLexerReport(a){return a}createDehyrationContext(a){let b=new Map,c=new Map;for(let c of aF(a))b.set(c,{});if(a.$cstNode)for(let b of r(a.$cstNode))c.set(b,{});return{astNodes:b,cstNodes:c}}dehydrateAstNode(a,b){let c=b.astNodes.get(a);for(let[f,g]of(c.$type=a.$type,c.$containerIndex=a.$containerIndex,c.$containerProperty=a.$containerProperty,void 0!==a.$cstNode&&(c.$cstNode=this.dehydrateCstNode(a.$cstNode,b)),Object.entries(a)))if(!f.startsWith("$"))if(Array.isArray(g)){let a=[];for(let h of(c[f]=a,g))d(h)?a.push(this.dehydrateAstNode(h,b)):e(h)?a.push(this.dehydrateReference(h,b)):a.push(h)}else d(g)?c[f]=this.dehydrateAstNode(g,b):e(g)?c[f]=this.dehydrateReference(g,b):void 0!==g&&(c[f]=g);return c}dehydrateReference(a,b){let c={};return c.$refText=a.$refText,a.$refNode&&(c.$refNode=b.cstNodes.get(a.$refNode)),c}dehydrateCstNode(a,b){let c=b.cstNodes.get(a);return k(a)?c.fullText=a.fullText:c.grammarSource=this.getGrammarElementId(a.grammarSource),c.hidden=a.hidden,c.astNode=b.astNodes.get(a.astNode),i(a)?c.content=a.content.map(a=>this.dehydrateCstNode(a,b)):j(a)&&(c.tokenType=a.tokenType.name,c.offset=a.offset,c.length=a.length,c.startLine=a.range.start.line,c.startColumn=a.range.start.character,c.endLine=a.range.end.line,c.endColumn=a.range.end.character),c}hydrate(a){let b=a.value,c=this.createHydrationContext(b);return"$cstNode"in b&&this.hydrateCstNode(b.$cstNode,c),{lexerErrors:a.lexerErrors,lexerReport:a.lexerReport,parserErrors:a.parserErrors,value:this.hydrateAstNode(b,c)}}createHydrationContext(a){let b,c=new Map,d=new Map;for(let b of aF(a))c.set(b,{});if(a.$cstNode)for(let c of r(a.$cstNode)){let a;"fullText"in c?b=a=new h4(c.fullText):"content"in c?a=new h2:"tokenType"in c&&(a=this.hydrateCstLeafNode(c)),a&&(d.set(c,a),a.root=b)}return{astNodes:c,cstNodes:d}}hydrateAstNode(a,b){let c=b.astNodes.get(a);for(let[f,g]of(c.$type=a.$type,c.$containerIndex=a.$containerIndex,c.$containerProperty=a.$containerProperty,a.$cstNode&&(c.$cstNode=b.cstNodes.get(a.$cstNode)),Object.entries(a)))if(!f.startsWith("$"))if(Array.isArray(g)){let a=[];for(let h of(c[f]=a,g))d(h)?a.push(this.setParent(this.hydrateAstNode(h,b),c)):e(h)?a.push(this.hydrateReference(h,c,f,b)):a.push(h)}else d(g)?c[f]=this.setParent(this.hydrateAstNode(g,b),c):e(g)?c[f]=this.hydrateReference(g,c,f,b):void 0!==g&&(c[f]=g);return c}setParent(a,b){return a.$container=b,a}hydrateReference(a,b,c,d){return this.linker.buildReference(b,c,d.cstNodes.get(a.$refNode),a.$refText)}hydrateCstNode(a,b,c=0){let d=b.cstNodes.get(a);if("number"==typeof a.grammarSource&&(d.grammarSource=this.getGrammarElement(a.grammarSource)),d.astNode=b.astNodes.get(a.astNode),i(d))for(let e of a.content){let a=this.hydrateCstNode(e,b,c++);d.content.push(a)}return d}hydrateCstLeafNode(a){let b=this.getTokenType(a.tokenType);return new h1(a.offset,a.length,{start:{line:a.startLine,character:a.startColumn},end:{line:a.endLine,character:a.endColumn}},b,a.hidden)}getTokenType(a){return this.lexer.definition[a]}getGrammarElementId(a){if(a)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(a)}getGrammarElement(a){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(a)}createGrammarElementIdMap(){let a=0;for(let b of aF(this.grammar))ay.isInstance(b,y)&&this.grammarElementIdMap.set(b,a++)}}function jx(a){return{documentation:{CommentProvider:a=>new jt(a),DocumentationProvider:a=>new js(a)},parser:{AsyncParser:a=>new ju(a),GrammarConfig:a=>(function(a){let b=[];for(let d of a.Grammar.rules){var c;an(d)&&(c=d).hidden&&!a$(a7(c))&&function(a){try{return"string"==typeof a&&(a=new RegExp(a)),a=a.toString(),aY.reset(a),aY.visit(aX.pattern(a)),aY.multiline}catch{return!1}}(a7(d))&&b.push(d.name)}return{multilineCommentRules:b,nameRegexp:u}})(a),LangiumParser:a=>{var b;let c,d,e;return d=(b=a).Grammar,e=b.parser.Lexer,(c=ih(d,new h9(b),e.definition)).finalize(),c},CompletionParser:a=>{let b,c,d;return b=a.Grammar,c=a.parser.Lexer,ih(b,d=new ic(a),c.definition),d.finalize(),d},ValueConverter:()=>new ip,TokenBuilder:()=>new io,Lexer:a=>new i9(a),ParserErrorMessageProvider:()=>new ib,LexerErrorMessageProvider:()=>new i7},workspace:{AstNodeLocator:()=>new i0,AstNodeDescriptionProvider:a=>new i$(a),ReferenceDescriptionProvider:a=>new i_(a)},references:{Linker:a=>new iG(a),NameProvider:()=>new iH,ScopeProvider:a=>new iS(a),ScopeComputation:a=>new iL(a),References:a=>new iI(a)},serializer:{Hydrator:a=>new jw(a),JsonSerializer:a=>new iU(a)},validation:{DocumentValidator:a=>new iY(a),ValidationRegistry:a=>new iW(a)},shared:()=>a.shared}}function jy(a){return{ServiceRegistry:a=>new iV(a),workspace:{LangiumDocuments:a=>new iE(a),LangiumDocumentFactory:a=>new iD(a),DocumentBuilder:a=>new i4(a),IndexManager:a=>new i5(a),WorkspaceManager:a=>new i6(a),FileSystemProvider:b=>a.fileSystemProvider(b),WorkspaceLock:()=>new jv,ConfigurationProvider:a=>new i2(a)},profilers:{}}}function jz(a,b,c,d,e,f,g,h,i){return jB([a,b,c,d,e,f,g,h,i].reduce(jE,{}))}a.s(["createDefaultCoreModule",()=>jx,"createDefaultSharedCoreModule",()=>jy],57297),(dL||(dL={})).merge=(a,b)=>jE(jE({},a),b);let jA=Symbol("isProxy");function jB(a,b){let c=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw Error("Cannot set property on injected service container")},get:(d,e)=>e===jA||jD(d,e,a,b||c),getOwnPropertyDescriptor:(d,e)=>(jD(d,e,a,b||c),Object.getOwnPropertyDescriptor(d,e)),has:(b,c)=>c in a,ownKeys:()=>[...Object.getOwnPropertyNames(a)]});return c}let jC=Symbol();function jD(a,b,c,d){if(b in a){if(a[b]instanceof Error)throw Error("Construction failure. Please make sure that your dependencies are constructable. Cause: "+a[b]);if(a[b]===jC)throw Error('Cycle detected. Please make "'+String(b)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return a[b]}if(b in c){let e=c[b];a[b]=jC;try{a[b]="function"==typeof e?e(d):jB(e,d)}catch(c){throw a[b]=c instanceof Error?c:void 0,c}return a[b]}}function jE(a,b){if(b){for(let[c,d]of Object.entries(b))if(null!=d)if("object"==typeof d){let b=a[c];"object"==typeof b&&null!==b?a[c]=jE(b,d):a[c]=jE({},d)}else a[c]=d}return a}a.s(["inject",()=>jz],52559);class jF{stat(a){throw Error("No file system is available.")}statSync(a){throw Error("No file system is available.")}async exists(){return!1}existsSync(){return!1}readBinary(){throw Error("No file system is available.")}readBinarySync(){throw Error("No file system is available.")}readFile(){throw Error("No file system is available.")}readFileSync(){throw Error("No file system is available.")}async readDirectory(){return[]}readDirectorySync(){return[]}}let jG={fileSystemProvider:()=>new jF};a.s(["EmptyFileSystem",0,jG],40485);let jH={Grammar:()=>void 0,LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},jI={AstReflection:()=>new ax};function jJ(a){let b,c,d=(b=jz(jy(jG),jI),c=jz(jx({shared:b}),jH),b.ServiceRegistry.register(c),c),e=d.serializer.JsonSerializer.deserialize(a);return d.shared.workspace.LangiumDocumentFactory.fromModel(e,iA.parse(`memory:/${e.name??"grammar"}.langium`)),e}var jK=Object.defineProperty,jL=(a,b)=>jK(a,"name",{value:b,configurable:!0});(dM||(dM={})).Terminals={ARROW_DIRECTION:/L|R|T|B/,ARROW_GROUP:/\{group\}/,ARROW_INTO:/<|>/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,ID:/[\w]([-\w]*\w)?/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/,ARCH_ICON:/\([\w-:]+\)/,ARCH_TITLE:/\[[\w ]+\]/},(dN||(dN={})).Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,INT:/0|[1-9][0-9]*(?!\.)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/,REFERENCE:/\w([-\./\w]*[-\w])?/},(dO||(dO={})).Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/},(dP||(dP={})).Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,INT:/0|[1-9][0-9]*(?!\.)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/},(dQ||(dQ={})).Terminals={NUMBER_PIE:/(?:-?[0-9]+\.[0-9]+(?!\.))|(?:-?(0|[1-9][0-9]*)(?!\.))/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/},(dR||(dR={})).Terminals={GRATICULE:/circle|polygon/,BOOLEAN:/true|false/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,NUMBER:/(?:[0-9]+\.[0-9]+(?!\.))|(?:0|[1-9][0-9]*(?!\.))/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,ID:/[\w]([-\w]*\w)?/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/},(dS||(dS={})).Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,TREEMAP_KEYWORD:/treemap-beta|treemap/,CLASS_DEF:/classDef\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\s+([^;\r\n]*))?(?:;)?/,STYLE_SEPARATOR:/:::/,SEPARATOR:/:/,COMMA:/,/,INDENTATION:/[ \t]{1,}/,WS:/[ \t]+/,ML_COMMENT:/\%\%[^\n]*/,NL:/\r?\n/,ID2:/[a-zA-Z_][a-zA-Z0-9_]*/,NUMBER2:/[0-9_\.\,]+/,STRING2:/"[^"]*"|'[^']*'/},dM.Terminals,dN.Terminals,dO.Terminals,dP.Terminals,dQ.Terminals,dR.Terminals,dS.Terminals;var jM={$type:"Architecture",accDescr:"accDescr",accTitle:"accTitle",edges:"edges",groups:"groups",junctions:"junctions",services:"services",title:"title"};function jN(a){return kb.isInstance(a,jM.$type)}jL(jN,"isArchitecture");var jO="Axis",jP={$type:"Branch",name:"name",order:"order"};function jQ(a){return kb.isInstance(a,jP.$type)}jL(jQ,"isBranch");var jR={$type:"Commit",id:"id",message:"message",tags:"tags",type:"type"};function jS(a){return kb.isInstance(a,jR.$type)}jL(jS,"isCommit");var jT={$type:"GitGraph",accDescr:"accDescr",accTitle:"accTitle",statements:"statements",title:"title"};function jU(a){return kb.isInstance(a,jT.$type)}jL(jU,"isGitGraph");var jV={$type:"Info",accDescr:"accDescr",accTitle:"accTitle",title:"title"};function jW(a){return kb.isInstance(a,jV.$type)}jL(jW,"isInfo");var jX="Item",jY={$type:"Merge",branch:"branch",id:"id",tags:"tags",type:"type"};function jZ(a){return kb.isInstance(a,jY.$type)}jL(jZ,"isMerge");var j$={$type:"Packet",accDescr:"accDescr",accTitle:"accTitle",blocks:"blocks",title:"title"};function j_(a){return kb.isInstance(a,j$.$type)}jL(j_,"isPacket");var j0={$type:"PacketBlock",bits:"bits",end:"end",label:"label",start:"start"};function j1(a){return kb.isInstance(a,j0.$type)}jL(j1,"isPacketBlock");var j2={$type:"Pie",accDescr:"accDescr",accTitle:"accTitle",sections:"sections",showData:"showData",title:"title"};function j3(a){return kb.isInstance(a,j2.$type)}jL(j3,"isPie");var j4={$type:"PieSection",label:"label",value:"value"};function j5(a){return kb.isInstance(a,j4.$type)}jL(j5,"isPieSection");var j6={$type:"Radar",accDescr:"accDescr",accTitle:"accTitle",axes:"axes",curves:"curves",options:"options",title:"title"},j7={$type:"Statement"},j8={$type:"Treemap",accDescr:"accDescr",accTitle:"accTitle",title:"title",TreemapRows:"TreemapRows"};function j9(a){return kb.isInstance(a,j8.$type)}jL(j9,"isTreemap");var ka=class extends h{constructor(){super(...arguments),this.types={Architecture:{name:jM.$type,properties:{accDescr:{name:jM.accDescr},accTitle:{name:jM.accTitle},edges:{name:jM.edges,defaultValue:[]},groups:{name:jM.groups,defaultValue:[]},junctions:{name:jM.junctions,defaultValue:[]},services:{name:jM.services,defaultValue:[]},title:{name:jM.title}},superTypes:[]},Axis:{name:jO,properties:{label:{name:"label"},name:{name:"name"}},superTypes:[]},Branch:{name:jP.$type,properties:{name:{name:jP.name},order:{name:jP.order}},superTypes:[j7.$type]},Checkout:{name:"Checkout",properties:{branch:{name:"branch"}},superTypes:[j7.$type]},CherryPicking:{name:"CherryPicking",properties:{id:{name:"id"},parent:{name:"parent"},tags:{name:"tags",defaultValue:[]}},superTypes:[j7.$type]},ClassDefStatement:{name:"ClassDefStatement",properties:{className:{name:"className"},styleText:{name:"styleText"}},superTypes:[]},Commit:{name:jR.$type,properties:{id:{name:jR.id},message:{name:jR.message},tags:{name:jR.tags,defaultValue:[]},type:{name:jR.type}},superTypes:[j7.$type]},Curve:{name:"Curve",properties:{entries:{name:"entries",defaultValue:[]},label:{name:"label"},name:{name:"name"}},superTypes:[]},Direction:{name:"Direction",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},dir:{name:"dir"},statements:{name:"statements",defaultValue:[]},title:{name:"title"}},superTypes:[jT.$type]},Edge:{name:"Edge",properties:{lhsDir:{name:"lhsDir"},lhsGroup:{name:"lhsGroup",defaultValue:!1},lhsId:{name:"lhsId"},lhsInto:{name:"lhsInto",defaultValue:!1},rhsDir:{name:"rhsDir"},rhsGroup:{name:"rhsGroup",defaultValue:!1},rhsId:{name:"rhsId"},rhsInto:{name:"rhsInto",defaultValue:!1},title:{name:"title"}},superTypes:[]},Entry:{name:"Entry",properties:{axis:{name:"axis",referenceType:jO},value:{name:"value"}},superTypes:[]},GitGraph:{name:jT.$type,properties:{accDescr:{name:jT.accDescr},accTitle:{name:jT.accTitle},statements:{name:jT.statements,defaultValue:[]},title:{name:jT.title}},superTypes:[]},Group:{name:"Group",properties:{icon:{name:"icon"},id:{name:"id"},in:{name:"in"},title:{name:"title"}},superTypes:[]},Info:{name:jV.$type,properties:{accDescr:{name:jV.accDescr},accTitle:{name:jV.accTitle},title:{name:jV.title}},superTypes:[]},Item:{name:jX,properties:{classSelector:{name:"classSelector"},name:{name:"name"}},superTypes:[]},Junction:{name:"Junction",properties:{id:{name:"id"},in:{name:"in"}},superTypes:[]},Leaf:{name:"Leaf",properties:{classSelector:{name:"classSelector"},name:{name:"name"},value:{name:"value"}},superTypes:[jX]},Merge:{name:jY.$type,properties:{branch:{name:jY.branch},id:{name:jY.id},tags:{name:jY.tags,defaultValue:[]},type:{name:jY.type}},superTypes:[j7.$type]},Option:{name:"Option",properties:{name:{name:"name"},value:{name:"value",defaultValue:!1}},superTypes:[]},Packet:{name:j$.$type,properties:{accDescr:{name:j$.accDescr},accTitle:{name:j$.accTitle},blocks:{name:j$.blocks,defaultValue:[]},title:{name:j$.title}},superTypes:[]},PacketBlock:{name:j0.$type,properties:{bits:{name:j0.bits},end:{name:j0.end},label:{name:j0.label},start:{name:j0.start}},superTypes:[]},Pie:{name:j2.$type,properties:{accDescr:{name:j2.accDescr},accTitle:{name:j2.accTitle},sections:{name:j2.sections,defaultValue:[]},showData:{name:j2.showData,defaultValue:!1},title:{name:j2.title}},superTypes:[]},PieSection:{name:j4.$type,properties:{label:{name:j4.label},value:{name:j4.value}},superTypes:[]},Radar:{name:j6.$type,properties:{accDescr:{name:j6.accDescr},accTitle:{name:j6.accTitle},axes:{name:j6.axes,defaultValue:[]},curves:{name:j6.curves,defaultValue:[]},options:{name:j6.options,defaultValue:[]},title:{name:j6.title}},superTypes:[]},Section:{name:"Section",properties:{classSelector:{name:"classSelector"},name:{name:"name"}},superTypes:[jX]},Service:{name:"Service",properties:{icon:{name:"icon"},iconText:{name:"iconText"},id:{name:"id"},in:{name:"in"},title:{name:"title"}},superTypes:[]},Statement:{name:j7.$type,properties:{},superTypes:[]},Treemap:{name:j8.$type,properties:{accDescr:{name:j8.accDescr},accTitle:{name:j8.accTitle},title:{name:j8.title},TreemapRows:{name:j8.TreemapRows,defaultValue:[]}},superTypes:[]},TreemapRow:{name:"TreemapRow",properties:{indent:{name:"indent"},item:{name:"item"}},superTypes:[]}}}static{jL(this,"MermaidAstReflection")}},kb=new ka,kc=jL(()=>dT??(dT=jJ(`{"$type":"Grammar","isDeclared":true,"name":"ArchitectureGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"},"parenthesized":false}],"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"},"parenthesized":false}],"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[],"types":[]}`)),"ArchitectureGrammarGrammar"),kd=jL(()=>dU??(dU=jJ(`{"$type":"Grammar","isDeclared":true,"name":"GitGraphGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[],"types":[]}`)),"GitGraphGrammarGrammar"),ke=jL(()=>dV??(dV=jJ(`{"$type":"Grammar","isDeclared":true,"name":"InfoGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}`)),"InfoGrammarGrammar"),kf=jL(()=>dW??(dW=jJ(`{"$type":"Grammar","isDeclared":true,"name":"PacketGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}`)),"PacketGrammarGrammar"),kg=jL(()=>dX??(dX=jJ(`{"$type":"Grammar","isDeclared":true,"name":"PieGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}`)),"PieGrammarGrammar"),kh=jL(()=>dY??(dY=jJ(`{"$type":"Grammar","isDeclared":true,"name":"RadarGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false,"isMulti":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}},"isMulti":false}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"types":[]}`)),"RadarGrammarGrammar"),ki=jL(()=>dZ??(dZ=jJ(`{"$type":"Grammar","isDeclared":true,"name":"TreemapGrammar","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@15"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"imports":[],"types":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`)),"TreemapGrammarGrammar"),kj={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},kk={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},kl={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},km={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},kn={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ko={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},kp={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},kq={AstReflection:jL(()=>new ka,"AstReflection")},kr={Grammar:jL(()=>kc(),"Grammar"),LanguageMetaData:jL(()=>kj,"LanguageMetaData"),parser:{}},ks={Grammar:jL(()=>kd(),"Grammar"),LanguageMetaData:jL(()=>kk,"LanguageMetaData"),parser:{}},kt={Grammar:jL(()=>ke(),"Grammar"),LanguageMetaData:jL(()=>kl,"LanguageMetaData"),parser:{}},ku={Grammar:jL(()=>kf(),"Grammar"),LanguageMetaData:jL(()=>km,"LanguageMetaData"),parser:{}},kv={Grammar:jL(()=>kg(),"Grammar"),LanguageMetaData:jL(()=>kn,"LanguageMetaData"),parser:{}},kw={Grammar:jL(()=>kh(),"Grammar"),LanguageMetaData:jL(()=>ko,"LanguageMetaData"),parser:{}},kx={Grammar:jL(()=>ki(),"Grammar"),LanguageMetaData:jL(()=>kp,"LanguageMetaData"),parser:{}},ky={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},kz=class extends ip{static{jL(this,"AbstractMermaidValueConverter")}runConverter(a,b,c){let d=this.runCommonConverter(a,b,c);return(void 0===d&&(d=this.runCustomConverter(a,b,c)),void 0===d)?super.runConverter(a,b,c):d}runCommonConverter(a,b,c){let d=ky[a.name];if(void 0===d)return;let e=d.exec(b);if(null!==e){if(void 0!==e[1])return e[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==e[2])return e[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}},kA=class extends kz{static{jL(this,"CommonValueConverter")}runCustomConverter(a,b,c){}},kB=class extends io{static{jL(this,"AbstractMermaidTokenBuilder")}constructor(a){super(),this.keywords=new Set(a)}buildKeywordTokens(a,b,c){let d=super.buildKeywordTokens(a,b,c);return d.forEach(a=>{this.keywords.has(a.name)&&void 0!==a.PATTERN&&(a.PATTERN=RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),d}},kC=class extends kB{static{jL(this,"CommonTokenBuilder")}};a.s(["AbstractMermaidTokenBuilder",()=>kB,"AbstractMermaidValueConverter",()=>kz,"Architecture",()=>jM,"ArchitectureGrammarGeneratedModule",()=>kr,"Branch",()=>jP,"Commit",()=>jR,"CommonTokenBuilder",()=>kC,"CommonValueConverter",()=>kA,"GitGraph",()=>jT,"GitGraphGrammarGeneratedModule",()=>ks,"Info",()=>jV,"InfoGrammarGeneratedModule",()=>kt,"Merge",()=>jY,"MermaidGeneratedSharedModule",()=>kq,"Packet",()=>j$,"PacketBlock",()=>j0,"PacketGrammarGeneratedModule",()=>ku,"Pie",()=>j2,"PieGrammarGeneratedModule",()=>kv,"PieSection",()=>j4,"Radar",()=>j6,"RadarGrammarGeneratedModule",()=>kw,"Statement",()=>j7,"Treemap",()=>j8,"TreemapGrammarGeneratedModule",()=>kx,"__name",()=>jL,"isArchitecture",()=>jN,"isBranch",()=>jQ,"isCommit",()=>jS,"isGitGraph",()=>jU,"isInfo",()=>jW,"isMerge",()=>jZ,"isPacket",()=>j_,"isPacketBlock",()=>j1,"isPie",()=>j3,"isPieSection",()=>j5,"isTreemap",()=>j9],99626)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__37691840._.js.map